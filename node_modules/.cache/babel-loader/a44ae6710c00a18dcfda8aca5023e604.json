{"remainingRequest":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\babel-loader\\lib\\index.js!D:\\test1\\cloud-master\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\test1\\cloud-master\\cloud-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\test1\\cloud-master\\cloud-master\\src\\views\\User\\Level\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\test1\\cloud-master\\cloud-master\\src\\views\\User\\Level\\index.vue","mtime":1654515726000},{"path":"D:\\test1\\cloud-master\\cloud-master\\babel.config.js","mtime":1654515726000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3Rlc3QxL2Nsb3VkLW1hc3Rlci9jbG91ZC1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdob21lbGV2ZWwnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VySW5mbzoge30sCiAgICAgIGxldmVsTGVuZ3RoOiAwLAogICAgICB0aW1lcjogbnVsbCwKICAgICAgbGV2ZWw6IC0yLAogICAgICByZWxsZXZlbDogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPlueUqOaIt+etiee6pwogICAgZ2V0TGV2ZWw6IGZ1bmN0aW9uIGdldExldmVsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRBUEkucmVxTGV2ZWwobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0NPT0tJRScpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgICAgICAgICAgICBfdGhpcy5yZWxsZXZlbCA9IHJlc3VsdC5kYXRhLmxldmVsOwogICAgICAgICAgICAgICAgX3RoaXMudXNlckluZm8gPSByZXN1bHQuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzLnVzZXJJbmZvLmRhdGEgPSBfdGhpcy51c2VySW5mby5pbmZvLnNwbGl0KCckJyk7CiAgICAgICAgICAgICAgICBfdGhpcy5sZXZlbCA9IC0yOwogICAgICAgICAgICAgICAgX3RoaXMudXNlckluZm8ubG9naW5Qcm9ncmVzcyA9IF90aGlzLnVzZXJJbmZvLm5vd0xvZ2luQ291bnQgLyBfdGhpcy51c2VySW5mby5uZXh0TG9naW5Db3VudDsKCiAgICAgICAgICAgICAgICBfdGhpcy5HbygpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5Yi25L2c5Yqo55S755u45YWzCiAgICBHbzogZnVuY3Rpb24gR28oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGluZGV4ID0gdGhpcy51c2VySW5mby5sZXZlbDsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmxldmVsTGVuZ3RoID0gMTAgKiBpbmRleCArIF90aGlzMi51c2VySW5mby5wcm9ncmVzcyAqIDEwOwogICAgICB9LCAxMDApOwogICAgICB0aGlzLnVzZXJJbmZvLmxldmVsID0gMDsKICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIudXNlckluZm8ubGV2ZWwrKzsKCiAgICAgICAgaWYgKF90aGlzMi51c2VySW5mby5sZXZlbCA+PSBpbmRleCkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpczIudGltZXIpOwogICAgICAgIH0KICAgICAgfSwgMjAwKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmxldmVsID0gaW5kZXg7CiAgICAgIH0sIDE0MDApOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0TGV2ZWwoKTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACAA,mBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,kBADA;AAEAC,oBAFA;AAGAC,iBAHA;AAIAC,eAJA;AAKAC;AALA;AAOA,GAVA;AAWAC;AACA;AACAC,YAFA,sBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,mDADA;;AAAA;AACAC,sBADA;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAXA;AAYA;AACAC,MAbA,gBAaA;AAAA;;AACA;AACAC;AACA;AACA,OAFA,EAEA,GAFA;AAGA;AACA;AACA;;AACA;AACAC;AACA;AACA,OALA,EAKA,GALA;AAMAD;AACA;AACA,OAFA,EAEA,IAFA;AAGA;AA5BA,GAXA;AAyCAE,SAzCA,qBAyCA;AACA;AACA;AA3CA","names":["name","data","userInfo","levelLength","timer","level","rellevel","methods","getLevel","result","Go","setTimeout","clearInterval","mounted"],"sourceRoot":"src/views/User/Level","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"level\">\n        <div class=\"header\"></div>\n        <div class=\"wrapper\">\n            <div class=\"lv\">\n                <h3>\n                    <span>当前等级：</span>\n                    <span class=\"icn\">\n                        <i></i>\n                        {{rellevel}}\n                    </span>\n                </h3>\n                <div class=\"sub\">\n                    <li v-for=\"index in 10\" :key=\"index\" :class=\"{zov:index<=userInfo.level+1}\">\n                        <div class=\"num\" :class=\"{zon:index==level+1}\">\n                            <span class=\"sep\">{{index-1}}</span></div>\n                        <div class=\"divsion\"></div>\n                    </li>   \n                </div>\n                <div class=\"num10\" :class=\"{lev10:10==level}\"><span>10</span></div>\n                <div class=\"shadow\" :style=\"'width:'+levelLength+'%'\"></div>\n                <p>等级数据每天下午两点更新</p>\n            </div>\n            <div class=\"pow\">\n                <h3>当前等级特权：</h3>\n                <ul class=\"flag\">\n                    <li v-for=\"item,index in userInfo.data\" :key=\"index\">{{item}}</li>\n                </ul>\n            </div>\n            <div class=\"nextlv\">\n                <h4>\n                    <span>距离下一个等级：</span>\n                    <span class=\"n-level\">\n                        <i></i>\n                        <span>{{rellevel}}</span>\n                    </span>\n                    <div class=\"point\">\n                        <a class=\"icon pointer\"></a>\n                        <div class=\"tip\">\n                            <p>听歌量是指累计播放的歌曲数量而非播放次数，并且实际播放时间过短的歌曲将不纳入计算，每天最多计算300首。</p>\n                            <p>登录天数是指使用云音乐的天数，在多端同时使用不会被重复计算。</p>\n                            <i class=\"t\"></i>\n                            <i class=\"b\"></i>\n                        </div>\n                    </div>\n                </h4>\n                <div class=\"uitl clearfix\">\n                    <span>听歌：</span>\n                    <div class=\"bar\">\n                        <div class=\"barbox\">\n                            <span :style=\"'width:'+userInfo.progress*100+'%'\"></span>\n                        </div>\n                    </div>\n                    <span>还需听{{userInfo.nextPlayCount-userInfo.nowPlayCount}}首歌</span>\n                </div>\n                <div class=\"uitl clearfix\">\n                    <span>登录：</span>\n                    <div class=\"bar\">\n                        <div class=\"barbox\">\n                            <span :style=\"'width:'+userInfo.loginProgress*100+'%'\"></span>\n                        </div>\n                    </div>\n                    <span>还需登录{{userInfo.nextLoginCount-userInfo.nowLoginCount}}天</span>\n                </div>\n            </div>\n        </div>\n  </div>\n</template>\n\n<script>\nexport default {\n    name:'homelevel',\n    data() {\n        return {\n            userInfo:{},\n            levelLength:0,\n            timer:null,\n            level:-2,\n            rellevel:null,\n        }\n    },\n    methods:{\n        // 获取用户等级\n        async getLevel(){\n            let result = await this.$API.reqLevel(localStorage.getItem('COOKIE'));\n            // console.log(result);\n            this.rellevel = result.data.level;\n            this.userInfo = result.data;\n            this.userInfo.data = this.userInfo.info.split('$');\n            this.level = -2;\n            this.userInfo.loginProgress = this.userInfo.nowLoginCount/this.userInfo.nextLoginCount;\n            this.Go();\n        },\n        // 制作动画相关\n        Go(){\n            let index = this.userInfo.level;\n            setTimeout(() => {\n                this.levelLength = 10*index+this.userInfo.progress*10;\n            }, 100);\n            this.userInfo.level = 0;\n            this.timer = setInterval(()=>{\n                this.userInfo.level++;\n                if(this.userInfo.level >= index){\n                    clearInterval(this.timer);\n                }\n            },200);\n            setTimeout(()=>{\n                this.level = index;\n            },1400);\n        }\n    },\n    mounted(){\n        this.getLevel();\n    }\n}\n</script>\n\n<style scoped lang='less'>\n    .level{\n        width: 100%;\n        min-height: 700px;\n        .header{\n            width: 100%;\n            height: 5px;\n            background-color: #C20C0C;\n        }\n        .wrapper{\n            width: 980px;\n            min-height: 700px;\n            margin: 0 auto;\n            background-color: #fff;\n            border: 1px solid #d3d3d3;\n            border-width: 0 1px;\n            padding: 70px 68px;\n            .lv{\n                width: 100%;\n                height: 112px;\n                margin-bottom: 52px;\n                position: relative;\n                // overflow: hidden;   \n                h3{\n                    position: relative;\n                    z-index: 1;\n                    top:0;\n                    height: 32px;\n                    line-height: 32px;\n                    color: #333;\n                    font-size: 22px;\n                    margin-bottom: 4px;\n                    font-family: 'Microsoft YaHei';\n                    font-weight: normal;\n                    span{\n                        float: left;\n                    }\n                    .icn{\n                        position: relative;\n                        z-index: 1;\n                        zoom: 1;\n                        height: 32px;\n                        line-height: 32px;\n                        margin-left: 30px;\n                        zoom: 1;\n                        font-family: Arial;\n                        font-size: 24px;\n                        font-weight: 700;\n                        color: #e03a24;\n                        font-style: italic;\n                        i{\n                            position: absolute;\n                            left: -30px;\n                            top: 2px;\n                            z-index: 1;\n                            width: 30px;\n                            height: 30px;\n                            background: url('../images/mylevel.png') no-repeat left 5px;    \n                        }\n                        \n                    }\n                }\n                .sub{\n                    width: 100%;\n                    height: 71px;\n                    padding-top: 31px;\n                    position: relative;\n                    z-index: 1;\n                    overflow: hidden;\n                    li{\n                        width: 10%;\n                        float: left;\n                        height: 100%;\n\n                        .num{\n                            font-family: 'Microsoft YaHei';\n                            font-size: 18px;\n                            color: #c4c6cc;\n                            position: relative;\n                            left: -5px;\n                        }\n                        .divsion{\n                            width: 100%;\n                            height: 13px;\n                            border: #c4c6cc 1px solid;\n                            background-color: #ddd;\n                            border-right: 2px solid #fff;\n                        }\n                    }\n                    li:first-child{\n                        .num{\n                            left: 0;\n                        }\n                        .divsion{\n                            border-top-left-radius: 10px;\n                            border-bottom-left-radius: 10px;\n                        }\n                    }\n                    li:last-child{\n                        .divsion{\n                            border-right: #c4c6cc 1px solid;\n                            border-top-right-radius: 10px;\n                            border-bottom-right-radius: 10px;\n                        }\n                    }\n\n\n                }\n                .num10{\n                    width: 30px;\n                    font-family: 'Microsoft YaHei';\n                    font-size: 18px;\n                    color: #c4c6cc;\n                    position: absolute;\n                    right: -15px;\n                    top: 67px;\n                }\n                .sub .zov{\n                    .num{\n                        transition: all 1.5s;\n                        color: #ed5757;\n                        // animation: show 3s;\n                    }\n                }\n                li .zon{\n                    span{\n                        margin-left: 7px;\n                    }\n                    left: -12px !important;\n                    transition: none !important;\n                    color: #fff !important;\n                    background: url('../images/mylevel.png') no-repeat 0px -50px;\n                }\n                .lev10{\n                    span{\n                        margin-left: 1px;\n                    }\n                    color: #fff;\n                    right: -15px;\n                    background: url('../images/mylevel.png') no-repeat 0px -50px;\n                }\n                .shadow{\n                    width: 0%;\n                    height: 13px;\n                    border-radius: 5px;\n                    background: linear-gradient(to right, #f38484, rgb(255, 107, 107));\n                    transition: 1.5s all ease-out;\n                    opacity: 0.8;\n                    position: absolute;\n                    z-index: 2;\n                    top: 94px;\n                }\n                p{\n                    margin-top: 8px;\n                    color: #999;\n                }\n            }\n            .pow{\n                margin-top: 20px;\n                border-bottom: solid 1px #ddd;\n                margin-bottom: 36px;\n                width: 100%;\n                h3{\n                    position: relative;\n                    z-index: 1;\n                    zoom: 1;\n                    height: 32px;\n                    line-height: 32px;\n                    color: #333;\n                    font-size: 22px;\n                    margin-bottom: 4px;\n                    font-family: 'Microsoft YaHei';\n                    font-weight: normal;\n                }\n                .flag{\n                    width: 100%;\n                    padding-bottom: 50px;\n                    li{\n                        height: 30px;\n                        line-height: 30px;\n                        color: #666;\n                        padding-left: 13px;\n                        background: url('../images/mylevel.png') no-repeat  ;\n                        background-position: -17px -82px;\n                        font-size: 14px;\n                    }\n                }\n            }\n            .nextlv{\n                width: 100%;\n                height: 106px;\n                h4{\n                    height: 22px;\n                    margin-bottom: 20px;\n                    line-height: 22px;\n                    font-size: 14px;\n                    color: #333;\n                    font-weight: normal;\n                    position: relative;\n                    .n-level{\n                        position: relative;\n                        margin-left: 25px;\n                        zoom: 1;\n                        font-family: Arial;\n                        font-size: 18px;\n                        font-weight: 700;\n                        color: #e03a24;\n                        font-style: italic;\n                        i{\n                            position: absolute;\n                            left: -25px;\n                            top: 0;\n                            width: 25px;\n                            height: 22px;\n                            background: url('../images/mylevel.png') no-repeat  ;\n                            background-position: 0 -25px;\n                        }\n                    }\n                    .point{\n                        position: absolute;\n                        margin-left: 10px;\n                        left: 150px;\n                        top: 0px;\n                        line-height: 18px;\n                        z-index: 2;\n                        .icon{\n                            width: 18px;\n                            height: 18px;\n                            display: inline-block;\n                            overflow: hidden;\n                            vertical-align: middle;\n                            background: url('../images/icon2.png') no-repeat 0 -50px;    \n                            &:hover{\n                                background: url('../images/icon2.png') no-repeat -20px -50px;    \n                            }\n                        }\n                        .tip{\n                            position: absolute;\n                            left: -33px;\n                            top: 30px;\n                            display: none;\n                            width: 333px;\n                            font-size: 12px;\n                            line-height: 20px;\n                            padding: 8px 19px 7px 19px;\n                            z-index: 2;\n                            color: #666;\n                            background: url('../images/top_m.png') repeat-y 0 0;\n                            .t{\n                                position: absolute;\n                                width: 327px;\n                                height: 16px;\n                                left: 0;\n                                top: -16px;\n                                background: url('../images/top_t.png') no-repeat 0 0;\n                            }\n                            .b{\n                                position: absolute;\n                                width: 327px;\n                                height: 12px;\n                                left: 0;\n                                bottom: -12px;\n                                background: url('../images/top_b.png') no-repeat 0 0;\n                            }\n                        }\n                        &:hover .tip{\n                            display: block;\n                        }\n                    }\n                }\n                .uitl{\n                    margin-bottom: 10px;\n                    width: 100%;\n                    span{\n                        float: left;\n                    }\n                    .bar{\n                        float: left;\n                        width: 160px;\n                        height: 12px;\n                        margin-right: 6px;\n                        position: relative;\n                        .barbox{\n                            position: absolute;\n                            top: 9px;\n                            left: 0;\n                            z-index: 1;\n                            width: 160px;\n                            height: 4px;\n                            line-height: 0;\n                            background: #dcdfe6;\n                            border-radius: 10px;\n                            span{\n                                border-radius: 10px;\n                                width: 0%;\n                                height: 100%;\n                                background-color: #f75757;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n</style>"]}]}