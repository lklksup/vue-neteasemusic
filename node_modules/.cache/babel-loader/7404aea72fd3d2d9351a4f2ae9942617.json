{"remainingRequest":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\babel-loader\\lib\\index.js!D:\\test1\\vue-neteasemusic\\cloud-master\\src\\api\\request.js","dependencies":[{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\src\\api\\request.js","mtime":1658251279351},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\babel.config.js","mtime":1654515726000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovdGVzdDEvdnVlLW5ldGVhc2VtdXNpYy9jbG91ZC1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9jb29raWUnOyAvLyDlvJXlhaXov5vluqbmnaEKCmltcG9ydCBucHJvZ3Jlc3MgZnJvbSAnbnByb2dyZXNzJzsgLy8g5byV5YWl6L+b5bqm5p2h5qC35byPCgppbXBvcnQgIm5wcm9ncmVzcy9ucHJvZ3Jlc3MuY3NzIjsgLy8gc3RhcnQg6L+b5bqm5p2h5byA5aeLICBkb25lIOi/m+W6puadoee7k+adnwoKdmFyIHJlcXVlc3RzID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiAiaHR0cDovLzEyNy4wLjAuMTozMDAwLyIsCiAgLy8g5Luj6KGo6K+35rGC6LaF5pe255qE5pe26Ze0NXMKICB0aW1lb3V0OiA1MDAwLAogIGhlYWRlcnM6IHsKICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJwogIH0KfSk7IC8v6K+35rGC5oum5oiq5ZmoCgpyZXF1ZXN0cy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vY29uZmlnIOmFjee9ruWvueixoSDlr7nosaHmnInkuIDkuKrlsZ7mgKflvojph43opoEgaGVhZGVycwogIC8vIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIlRPS0VOIik7CiAgLy8gaWYodG9rZW4pewogIC8vICAgY29uZmlnLmhlYWRlcnMudG9rZW49IHRva2VuOyAgCiAgLy8gfQogIG5wcm9ncmVzcy5zdGFydCgpOyAvL+a3u+WKoOaXtumXtOaIswoKICBpZiAoY29uZmlnLm1ldGhvZCA9PSAncG9zdCcpIHsKICAgIGNvbmZpZy5kYXRhID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjb25maWcuZGF0YSksIHt9LCB7CiAgICAgIF90OiBEYXRlLnBhcnNlKG5ldyBEYXRlKCkpIC8gMTAwMAogICAgfSk7CiAgfSBlbHNlIGlmIChjb25maWcubWV0aG9kID09ICdnZXQnKSB7CiAgICBjb25maWcucGFyYW1zID0gX29iamVjdFNwcmVhZCh7CiAgICAgIF90OiBEYXRlLnBhcnNlKG5ldyBEYXRlKCkpIC8gMTAwMAogICAgfSwgY29uZmlnLnBhcmFtcyk7CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBjb25zb2xlLmxvZyhlcnJvcik7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8v5ZON5bqU5oum5oiq5ZmoCgpyZXF1ZXN0cy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIC8v5oiQ5Yqf55qE5Zue6LCD5Ye95pWw77yM5pyN5Yqh5Zmo5ZON5bqU5pWw5o2u5Zue5p2l5Lul5ZCOCiAgbnByb2dyZXNzLmRvbmUoKTsKICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgY29uc29sZS5sb2coZXJyb3IpOwogIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2ZhaWwnKSk7Cn0pOwpleHBvcnQgZGVmYXVsdCByZXF1ZXN0czs="},{"version":3,"sources":["D:/test1/vue-neteasemusic/cloud-master/src/api/request.js"],"names":["axios","store","getToken","nprogress","requests","create","baseURL","timeout","headers","interceptors","request","use","config","start","method","data","_t","Date","parse","params","error","console","log","Promise","reject","response","done","Error"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,QAAT,QAAyB,gBAAzB,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,WAAtB,C,CACA;;AACA,OAAO,yBAAP,C,CACA;;AACA,IAAMC,QAAQ,GAAGJ,KAAK,CAACK,MAAN,CAAa;AAC5BC,EAAAA,OAAO,EAAE,wBADmB;AAE5B;AACAC,EAAAA,OAAO,EAAE,IAHmB;AAI5BC,EAAAA,OAAO,EAAE;AAAE,oBAAgB;AAAlB;AAJmB,CAAb,CAAjB,C,CAMA;;AACAJ,QAAQ,CAACK,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,UAACC,MAAD,EAAY;AAC5C;AACA;AACA;AACA;AACA;AACAT,EAAAA,SAAS,CAACU,KAAV,GAN4C,CAO5C;;AACA,MAAID,MAAM,CAACE,MAAP,IAAiB,MAArB,EAA6B;AAC3BF,IAAAA,MAAM,CAACG,IAAP,mCACKH,MAAM,CAACG,IADZ;AAEEC,MAAAA,EAAE,EAAEC,IAAI,CAACC,KAAL,CAAW,IAAID,IAAJ,EAAX,IAAyB;AAF/B;AAID,GALD,MAKO,IAAIL,MAAM,CAACE,MAAP,IAAiB,KAArB,EAA4B;AACjCF,IAAAA,MAAM,CAACO,MAAP;AACEH,MAAAA,EAAE,EAAEC,IAAI,CAACC,KAAL,CAAW,IAAID,IAAJ,EAAX,IAAyB;AAD/B,OAEKL,MAAM,CAACO,MAFZ;AAID;;AACD,SAAOP,MAAP;AACD,CApBD,EAoBG,UAAAQ,KAAK,EAAI;AACVC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,SAAOG,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,CAvBD,E,CAyBA;;AACAhB,QAAQ,CAACK,YAAT,CAAsBgB,QAAtB,CAA+Bd,GAA/B,CAAmC,UAACc,QAAD,EAAc;AAC/C;AACAtB,EAAAA,SAAS,CAACuB,IAAV;AACA,SAAOD,QAAQ,CAACV,IAAhB;AACD,CAJD,EAIG,UAACK,KAAD,EAAW;AACZC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,SAAOG,OAAO,CAACC,MAAR,CAAe,IAAIG,KAAJ,CAAU,MAAV,CAAf,CAAP;AACD,CAPD;AAUA,eAAevB,QAAf","sourcesContent":["import axios from 'axios';\nimport store from '@/store';\nimport { getToken } from '@/utils/cookie';\n\n// 引入进度条\nimport nprogress from 'nprogress';\n// 引入进度条样式\nimport \"nprogress/nprogress.css\"\n// start 进度条开始  done 进度条结束\nconst requests = axios.create({\n  baseURL: \"http://127.0.0.1:3000/\",\n  // 代表请求超时的时间5s\n  timeout: 5000,\n  headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\n});\n//请求拦截器\nrequests.interceptors.request.use((config) => {\n  //config 配置对象 对象有一个属性很重要 headers\n  // const token = localStorage.getItem(\"TOKEN\");\n  // if(token){\n  //   config.headers.token= token;  \n  // }\n  nprogress.start();\n  //添加时间戳\n  if (config.method == 'post') {\n    config.data = {\n      ...config.data,\n      _t: Date.parse(new Date()) / 1000\n    }\n  } else if (config.method == 'get') {\n    config.params = {\n      _t: Date.parse(new Date()) / 1000,\n      ...config.params\n    }\n  }\n  return config;\n}, error => {\n  console.log(error)\n  return Promise.reject(error)\n});\n\n//响应拦截器\nrequests.interceptors.response.use((response) => {\n  //成功的回调函数，服务器响应数据回来以后\n  nprogress.done();\n  return response.data;\n}, (error) => {\n  console.log(error);\n  return Promise.reject(new Error('fail'));\n})\n\n\nexport default requests;"]}]}