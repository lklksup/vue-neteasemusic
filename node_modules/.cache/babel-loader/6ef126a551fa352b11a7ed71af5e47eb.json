{"remainingRequest":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\babel-loader\\lib\\index.js!D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\test1\\vue-neteasemusic\\cloud-master\\src\\views\\Home\\Discover\\MainerLeft\\New\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\src\\views\\Home\\Discover\\MainerLeft\\New\\index.vue","mtime":1654515726000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\babel.config.js","mtime":1654515726000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovdGVzdDEvdnVlLW5ldGVhc2VtdXNpYy9jbG91ZC1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbmV3JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGltaXQ6IDEwLAogICAgICBmaXJzdEluZGV4OiAxLAogICAgICBmaW5hbEluZGV4OiA1LAogICAgICB0aW1lcjogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+WQkeWQjue/u+mhtQogICAgbmV4OiBmdW5jdGlvbiBuZXgoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy50aW1lciAhPSAnJykgcmV0dXJuOwogICAgICB0aGlzLmZpcnN0SW5kZXgrKzsKICAgICAgaWYgKHRoaXMuZmlyc3RJbmRleCA+IHRoaXMubGltaXQpIHRoaXMuZmlyc3RJbmRleCA9IDE7CiAgICAgIHRoaXMuZmluYWxJbmRleCsrOwogICAgICBpZiAodGhpcy5maW5hbEluZGV4ID49IHRoaXMubGltaXQgLSAxKSB0aGlzLmZpbmFsSW5kZXggPSAtMTsKICAgICAgdmFyIHJvbGwgPSB0aGlzLiRyZWZzLnJvbGw7CiAgICAgIHJvbGwuc3R5bGUudHJhbnNpdGlvbiA9ICdsZWZ0IDFzJzsKICAgICAgcm9sbC5zdHlsZS5sZWZ0ID0gcm9sbC5vZmZzZXRMZWZ0IC0gMTQ1ICsgJ3B4JzsKICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICByb2xsLnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7CiAgICAgICAgcm9sbC5zdHlsZS5sZWZ0ID0gcm9sbC5vZmZzZXRMZWZ0ICsgMTEzICsgJ3B4JzsKCiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gNTsgaSsrKSB7CiAgICAgICAgICBfdGhpcy5pbWdMaXN0W2ldID0gX3RoaXMuaW1nTGlzdFtpICsgMV07CiAgICAgICAgfQoKICAgICAgICBfdGhpcy4kZm9yY2VVcGRhdGUoKTsKCiAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnRpbWVyKTsKICAgICAgICBfdGhpcy50aW1lciA9ICIiOwogICAgICB9LCAxMjAwKTsKICAgIH0sCiAgICAvL+WQkeWJjee/u+mhtQogICAgcHJlOiBmdW5jdGlvbiBwcmUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMudGltZXIgIT0gJycpIHJldHVybjsKICAgICAgdGhpcy5maXJzdEluZGV4LS07CiAgICAgIGlmICh0aGlzLmZpcnN0SW5kZXggPD0gMCkgdGhpcy5maXJzdEluZGV4ID0gdGhpcy5saW1pdDsKICAgICAgdGhpcy5maW5hbEluZGV4LS07CiAgICAgIGlmICh0aGlzLmZpbmFsSW5kZXggPCAtMSkgdGhpcy5maW5hbEluZGV4ID0gdGhpcy5saW1pdCAtIDI7CiAgICAgIHZhciByb2xsID0gdGhpcy4kcmVmcy5yb2xsOwogICAgICByb2xsLnN0eWxlLnRyYW5zaXRpb24gPSAnbGVmdCAxcyc7CiAgICAgIHJvbGwuc3R5bGUubGVmdCA9IHJvbGwub2Zmc2V0TGVmdCArIDExMyArICdweCc7CiAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgcm9sbC5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnOwogICAgICAgIHJvbGwuc3R5bGUubGVmdCA9IHJvbGwub2Zmc2V0TGVmdCAtIDE0NSArICdweCc7CgogICAgICAgIGZvciAodmFyIGkgPSA1OyBpID49IDE7IGktLSkgewogICAgICAgICAgX3RoaXMyLmltZ0xpc3RbaV0gPSBfdGhpczIuaW1nTGlzdFtpIC0gMV07CiAgICAgICAgfQoKICAgICAgICBfdGhpczIuJGZvcmNlVXBkYXRlKCk7CgogICAgICAgIGNsZWFyVGltZW91dChfdGhpczIudGltZXIpOwogICAgICAgIF90aGlzMi50aW1lciA9ICIiOwogICAgICB9LCAxMjAwKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBmaXJzdEluZGV4OiBmdW5jdGlvbiBmaXJzdEluZGV4KCkgewogICAgICB2YXIgbGFzdCA9IHRoaXMuZmlyc3RJbmRleCAtIDE7CiAgICAgIHRoaXMuaW1nTGlzdFswXSA9IHRoaXMuQWxsTGlzdFtsYXN0XTsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgIH0sCiAgICBmaW5hbEluZGV4OiBmdW5jdGlvbiBmaW5hbEluZGV4KCkgewogICAgICB2YXIgbmV4dCA9IHRoaXMuZmluYWxJbmRleCArIDE7CiAgICAgIHRoaXMuaW1nTGlzdFs2XSA9IHRoaXMuQWxsTGlzdFtuZXh0XTsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKHsKICAgIEFsbExpc3Q6IGZ1bmN0aW9uIEFsbExpc3Qoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmhvbWUubmV3QWxidW07CiAgICB9CiAgfSkpLCB7fSwgewogICAgaW1nTGlzdDogZnVuY3Rpb24gaW1nTGlzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuQWxsTGlzdC5zbGljZSgwLCA3KTsKICAgIH0KICB9KSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy/ojrflj5bmlrDnop/kuIrmnrYKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXROZXcnKTsgLy8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2dldEFsYnVtQWxsJyx7bGltaXQ6MSxhcmVhOidBTEwnLG9mZnNldDowfSk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACAA,aADA;AAEAC,MAFA,kBAEA;AACA;AACAC,eADA;AAEAC,mBAFA;AAGAC,mBAHA;AAIAC;AAJA;AAMA,GATA;AAUAC;AACA;AACAC,OAFA,iBAEA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACAC;AACAA;AACA;AACAA;AACAA;;AACA;AACA;AADA;;AAEA;;AACAC;AACA;AACA,OARA,EAQA,IARA;AASA,KApBA;AAqBA;AACAC,OAtBA,iBAsBA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACAF;AACAA;AACA;AACAA;AACAA;;AACA;AACA;AADA;;AAEA;;AACAC;AACA;AACA,OARA,EAQA,IARA;AASA;AAxCA,GAVA;AAoDAE;AACAR,cADA,wBACA;AACA;AACA;AACA;AACA,KALA;AAMAC,cANA,wBAMA;AACA;AACA;AACA;AACA;AAVA,GApDA;AAgEAQ,4CACAC;AACAC;AAAA;AAAA;AADA,IADA;AAIAC,WAJA,qBAIA;AACA;AACA;AANA,IAhEA;AAyEAC,SAzEA,qBAyEA;AACA;AACA,mCAFA,CAGA;AACA;AA7EA","names":["name","data","limit","firstIndex","finalIndex","timer","methods","nex","roll","clearTimeout","pre","watch","computed","mapState","AllList","imgList","mounted"],"sourceRoot":"src/views/Home/Discover/MainerLeft/New","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"new\">\n     <div class=\"header\">\n        <a >新碟上架</a>\n        <span class=\"more\">\n          <router-link to=\"/home/album\">更多</router-link>\n          <i>&nbsp;</i>\n        </span>\n     </div>\n     <div class=\"body\">\n         <div class=\"inner\">\n             <div class=\"roll\">\n                 <ul class='roller-flag' ref=\"roll\">   \n                     <li v-for=\"(img,index) in imgList\" :key=index>\n                         <img :src=\"img.blurPicUrl\">\n                        <router-link :to=\"{path:'/album',query:{id:`${img.id}`}}\"></router-link>\n                         <p class=\"over\" :title=\"img.name\">\n                             <router-link :to=\"{path:'/album',query:{id:`${img.id}`}}\">{{img.name}}</router-link>\n                        </p>\n                         <p class=\"over\" :title=\"img.artist.name\">\n                             <router-link :to=\"{path:'/artist/song',query:{id:img.artist.id}}\" class=\"name over underline\">{{img.artist.name}}</router-link>\n                        </p>\n                         <a class=\"play\"></a>\n                     </li>\n                 </ul>\n             </div>\n\n             <a class=\"pre\" @click=\"pre\"></a>\n             <a class=\"nex\" @click=\"nex\"></a>\n         </div>\n     </div>\n  </div>\n</template>\n\n<script>\n\nimport {mapState} from 'vuex'\nexport default {\n    name:'new',\n    data() {\n        return {\n            limit:10,\n            firstIndex:1,\n            finalIndex:5,\n            timer:'',\n        }\n    },\n    methods:{\n        //向后翻页\n        nex(){\n            if(this.timer!='') return;\n            this.firstIndex++;\n            if(this.firstIndex > this.limit) this.firstIndex = 1;\n            this.finalIndex++;\n            if(this.finalIndex >= this.limit-1) this.finalIndex = -1;\n            var roll = this.$refs.roll;\n            roll.style.transition = 'left 1s'; \n            roll.style.left = roll.offsetLeft-145+'px';\n            this.timer = setInterval(()=>{\n                roll.style.transition = 'none';\n                roll.style.left = roll.offsetLeft+113+'px';\n                for(let i = 1;i<= 5;i++)\n                    this.imgList[i] = this.imgList[i+1];\n                this.$forceUpdate();\n                clearTimeout(this.timer);\n                this.timer = \"\";\n            },1200);\n        },\n        //向前翻页\n        pre(){\n            if(this.timer != '') return;\n            this.firstIndex--;\n            if(this.firstIndex <= 0) this.firstIndex = this.limit;\n            this.finalIndex--;\n            if(this.finalIndex < -1) this.finalIndex = this.limit-2;\n            var roll = this.$refs.roll;\n            roll.style.transition = 'left 1s'; \n            roll.style.left = roll.offsetLeft+113+'px';\n            this.timer = setInterval(()=>{\n                roll.style.transition = 'none';\n                roll.style.left = roll.offsetLeft-145+'px';\n                for(let i = 5;i>= 1;i--)\n                    this.imgList[i] = this.imgList[i-1];\n                this.$forceUpdate();\n                clearTimeout(this.timer);\n                this.timer = \"\";\n            },1200);\n        }\n    },\n    watch:{\n        firstIndex(){\n            let last = this.firstIndex-1;\n            this.imgList[0] = this.AllList[last];\n            this.$forceUpdate();\n        },\n        finalIndex(){\n            let next = this.finalIndex+1;\n            this.imgList[6] = this.AllList[next];\n            this.$forceUpdate();\n        }\n    },\n    computed:{\n        ...mapState({\n            AllList:state=>state.home.newAlbum,\n        }),\n        imgList(){\n            return this.AllList.slice(0,7);\n        },\n\n    },\n    mounted(){\n        //获取新碟上架\n        this.$store.dispatch('getNew')\n        // this.$store.dispatch('getAlbumAll',{limit:1,area:'ALL',offset:0});\n    }\n}\n</script>\n\n<style scoped lang = \"less\">\n    .new{\n        width: 689px;\n        position: relative;\n\n        .header{\n            width: 100%;\n            height: 33px;\n            padding:0 10px 0 34px;\n            background: url('./images/index.png') no-repeat -225px -156px;\n            border-bottom: 2px solid #C10D0C;\n\n            a{\n                float: left;\n                font-size: 20px;\n                font-weight: normal;\n                line-height: 28px;\n                color: #333;\n                &:hover{\n                    cursor: pointer;\n                }\n            }\n\n            .more{\n                width: 40px;\n                height: 16px;\n                margin: 9px;\n                float: right;\n\n                a{\n                    font-size: 12px;\n                    color: #666;  \n                    line-height: 15px;\n\n                    &:hover{\n                        cursor: pointer;\n                        text-decoration: underline;\n                    }\n                }\n\n                i{\n                    float: right;\n                    display: block;\n                    background: url('./images/index.png') no-repeat 0 -240px;\n                    font-style: normal;\n                    text-align: left;\n                    font-size: inherit;\n                    width: 12px;\n                    height: 12px;\n                    margin-left: 4px;\n                    margin-top:1px;\n                }\n                \n            }\n        }\n        \n        .body{\n            width: 100%;\n            height: 188px;\n            border: 1px solid #d3d3d3;\n            margin: 20px 0 37px;\n            position: relative;\n            color: #333;\n\n            .inner{\n                padding-left: 16px;\n                height: 186px;\n                background: #f5f5f5;\n                .roll{\n                    width: 645px;\n                    height: 180px;\n                    overflow: hidden;\n                    float: left;\n\n                    .roller-flag{\n                        width:903px;\n                        height: 150px;\n                        margin-top: 28px;\n                        float: left;\n                        position: relative;\n                        left: -129px;\n                        top: 0;\n                        transition: left 1s;\n                        li{\n                            float: left;\n                            width: 118px;\n                            height: 150px;\n                            margin-left: 11px;\n                            position: relative;\n\n                            img{\n                                width: 100px;\n                                height: 100px;\n                            }\n\n                            >a{\n                                width: 118px;\n                                height: 100px;\n                                position: absolute;\n                                top:0;\n                                left: 0;\n                                background: url('./images/coverall.png') no-repeat 0 -570px;\n\n                                &:hover{\n                                    cursor: pointer;\n                                }\n                            }\n\n                            p{\n                                text-align: left;\n                                font-size: 12px;\n                                color: #333;\n                                font-family: Arial, Helvetica, sans-serif;\n                                -webkit-text-size-adjust: none;\n                                display: block;\n                                margin-block-start: 1px;\n                                margin-block-end: 1px;\n\n                                &:hover{\n                                    cursor: pointer;\n                                    text-decoration: underline;\n                                }\n                                a{\n                                    color: #333;\n                                }\n                            }\n\n                            .play{\n                                position: absolute;\n                                left: 80px;\n                                top: 80px;\n                                width: 22px;\n                                height: 22px;\n                                background: url('./images/iconall.png') no-repeat 0 -60px;\n                                display: none;\n                            }\n\n                            &:hover .play{\n                                display: block;\n                            }\n                        }\n                    }\n                }\n\n                .pre,\n                .nex{\n                    width: 17px;\n                    height: 17px;\n                    position: absolute;\n                    top:75px;\n                    background: url('./images/index.png') no-repeat ;\n\n                    &:hover{\n                        cursor: pointer;\n                    }\n                }\n\n                .pre{\n                    left: 3px;\n                    background-position: -260px -75px;\n                }\n\n                .nex{\n                    right: 3px;\n                    background-position: -300px -75px;\n                }\n            }\n        }\n\n        @keyframes moveLeft{\n            from{\n                left: 0px;\n            }\n            to{\n                left:-258px;\n            }\n        }\n    }\n</style>"]}]}