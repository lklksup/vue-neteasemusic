{"remainingRequest":"D:\\github-project\\vue-neteasemusic\\node_modules\\babel-loader\\lib\\index.js!D:\\github-project\\vue-neteasemusic\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\github-project\\vue-neteasemusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\github-project\\vue-neteasemusic\\src\\views\\Home\\Discover\\Banner\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\github-project\\vue-neteasemusic\\src\\views\\Home\\Discover\\Banner\\index.vue","mtime":1654515726000},{"path":"D:\\github-project\\vue-neteasemusic\\babel.config.js","mtime":1654515726000},{"path":"D:\\github-project\\vue-neteasemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\github-project\\vue-neteasemusic\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\github-project\\vue-neteasemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\github-project\\vue-neteasemusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2dpdGh1Yi1wcm9qZWN0L3Z1ZS1uZXRlYXNlbXVzaWMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdiYW5uZXInLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL+WFqOmDqOWbvueJhwogICAgICBpbWdMaXN0OiBbXSwKICAgICAgaW1nTnVtOiA5LAogICAgICAvL+W9k+WJjei9ruaSreWbvuWbvueJhwogICAgICBpbWc6ICdodHRwOi8vcDEubXVzaWMuMTI2Lm5ldC9wOE42eWYzYkEwQmE1N0g4S2VLVjVBPT0vMTA5OTUxMTY3MDU1NjY4MDE0LmpwZycsCiAgICAgIGltZ0luZGV4OiAwLAogICAgICB0aW1lcjogZnVuY3Rpb24gdGltZXIoKSB7fSwKICAgICAgaXNTaG93OiB0cnVlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy/ojrflj5ZiYW5uZXLotYTmupAKICAgIGdldEJhbm5lcjogZnVuY3Rpb24gZ2V0QmFubmVyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRBUEkucmVxQmFubmVyKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXN1bHQuYmFubmVycy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmltZ0xpc3QucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgdXJsOiBpdGVtLmltYWdlVXJsLAogICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLnRhcmdldElkLAogICAgICAgICAgICAgICAgICAgIHR5cGU6IGl0ZW0udGFyZ2V0VHlwZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX3RoaXMuaW1nTnVtID0gX3RoaXMuaW1nTGlzdC5sZW5ndGg7CiAgICAgICAgICAgICAgICBfdGhpcy5pbWcgPSBfdGhpcy5pbWdMaXN0WzBdLnVybDsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v5YiH5o2i5Zu+54mHCiAgICBjaGFuZ2VJbWc6IGZ1bmN0aW9uIGNoYW5nZUltZyhpbmRleCkgewogICAgICB0aGlzLmltZyA9IHRoaXMuaW1nTGlzdFtpbmRleF0udXJsOwogICAgICB0aGlzLnN0b3BCYW5uZXIoKTsKICAgICAgdGhpcy5pbWdJbmRleCA9IGluZGV4OwogICAgICB0aGlzLnN0YXJ0QmFubmVyKCk7CiAgICB9LAogICAgLy/kuIrkuIDlvKDlm77niYcKICAgIHByZTogZnVuY3Rpb24gcHJlKCkgewogICAgICB0aGlzLnN0b3BCYW5uZXIoKTsKICAgICAgdGhpcy5pbWdJbmRleC0tOwogICAgICBpZiAodGhpcy5pbWdJbmRleCA8IDApIHRoaXMuaW1nSW5kZXggPSB0aGlzLmltZ051bSAtIDE7CiAgICAgIHRoaXMuaW1nID0gdGhpcy5pbWdMaXN0W3RoaXMuaW1nSW5kZXhdLnVybDsKICAgICAgdGhpcy5zdGFydEJhbm5lcigpOwogICAgfSwKICAgIC8v5LiK5LiA5byg5Zu+54mHCiAgICBuZXg6IGZ1bmN0aW9uIG5leCgpIHsKICAgICAgdGhpcy5zdG9wQmFubmVyKCk7CiAgICAgIHRoaXMuaW1nSW5kZXgrKzsKICAgICAgaWYgKHRoaXMuaW1nSW5kZXggPiB0aGlzLmltZ051bSAtIDEpIHRoaXMuaW1nSW5kZXggPSAwOwogICAgICB0aGlzLmltZyA9IHRoaXMuaW1nTGlzdFt0aGlzLmltZ0luZGV4XS51cmw7CiAgICAgIHRoaXMuc3RhcnRCYW5uZXIoKTsKICAgIH0sCiAgICAvL+W8gOWQr+i9ruaSrQogICAgc3RhcnRCYW5uZXI6IGZ1bmN0aW9uIHN0YXJ0QmFubmVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmlzU2hvdyA9IGZhbHNlOwogICAgICAgIF90aGlzMi5pbWdJbmRleCsrOwogICAgICAgIGlmIChfdGhpczIuaW1nSW5kZXggPiBfdGhpczIuaW1nTnVtIC0gMSkgX3RoaXMyLmltZ0luZGV4ID0gMDsKICAgICAgICBfdGhpczIuaW1nSW5kZXgtLTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5pbWcgPSBfdGhpczIuaW1nTGlzdFtfdGhpczIuaW1nSW5kZXggKyAxXS51cmw7CiAgICAgICAgICBfdGhpczIuaXNTaG93ID0gdHJ1ZTsKICAgICAgICAgIF90aGlzMi5pbWdJbmRleCsrOwogICAgICAgIH0sIDE0MDApOwogICAgICB9LCA0MDAwKTsKICAgIH0sCiAgICAvL+aaguWBnOi9ruaSrQogICAgc3RvcEJhbm5lcjogZnVuY3Rpb24gc3RvcEJhbm5lcigpIHsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgIH0sCiAgICAvLyDngrnlh7vlm57osIMKICAgIEdvOiBmdW5jdGlvbiBHbyh0eXBlLCBpZCkgewogICAgICB2YXIgcGF0aDsKICAgICAgaWYgKHR5cGUgPT0gMSkgcGF0aCA9ICcvc29uZyc7ZWxzZSBpZiAodHlwZSA9PSAxMCkgcGF0aCA9ICcvYWxidW0nOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogcGF0aCwKICAgICAgICBxdWVyeTogewogICAgICAgICAgaWQ6IGlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIC8vIOiOt+WPluWbvueJh+i1hOa6kOW5tuW8gOWQr+WumuaXtuWZqAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEJhbm5lcigpOwogICAgdGhpcy5zdGFydEJhbm5lcigpOwogIH0sCiAgLy/plIDmr4HliY3lhbPpl63lrprml7blmagKICBiZWZvcmVkZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVkZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACAA,gBADA;AAEAC,MAFA,kBAEA;AACA;AACA;AACAC,iBAFA;AAGAC,eAHA;AAIA;AACAC,oFALA;AAMAC,iBANA;AAOAC,gCAPA;AAQAC;AARA;AAUA,GAbA;AAcAC;AACA;AACAC,aAFA,uBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,sBADA;;AAAA;AACAC,sBADA;AAEAA;AACA;AAAAC;AAAAC;AAAAC;AAAA;AACA,iBAFA;AAGA;AACA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KATA;AAUA;AACAC,aAXA,qBAWAC,KAXA,EAWA;AACA;AACA;AACA;AACA;AACA,KAhBA;AAiBA;AACAC,OAlBA,iBAkBA;AACA;AACA;AACA;AACA;AACA;AACA,KAxBA;AAyBA;AACAC,OA1BA,iBA0BA;AACA;AACA;AACA;AACA;AACA;AACA,KAhCA;AAiCA;AACAC,eAlCA,yBAkCA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACAC;AACA;AACA;AACA;AACA,SAJA,EAIA,IAJA;AAKA,OAVA,EAUA,IAVA;AAWA,KA9CA;AA+CA;AACAC,cAhDA,wBAgDA;AACAC;AACA,KAlDA;AAmDA;AACAC,MApDA,cAoDAT,IApDA,EAoDAD,EApDA,EAoDA;AACA;AACA,yCACA;AACA;AACAW,kBADA;AAEAC;AACAZ;AADA;AAFA;AAMA;AA9DA,GAdA;AA8EA;AACAa,SA/EA,qBA+EA;AACA;AACA;AACA,GAlFA;AAmFA;AACAC,eApFA,2BAoFA;AACAL;AACA;AAtFA","names":["name","data","imgList","imgNum","img","imgIndex","timer","isShow","methods","getBanner","result","url","id","type","changeImg","index","pre","nex","startBanner","setTimeout","stopBanner","clearInterval","Go","path","query","mounted","beforedestroy"],"sourceRoot":"src/views/Home/Discover/Banner","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"banner-wrapper\">\n      <div class=\"wrapper\">\n          <!-- 图片框 -->\n        <div class=\"img-wrapper\">\n            <transition name=\"show\">\n                <img v-lazy=\"img\" v-show=\"isShow\" @click=\"Go(imgList[imgIndex].type,imgList[imgIndex].id)\">     \n            </transition>                     \n            <!-- 轮播图下的点 -->\n            <ul class=\"ponintList\">\n                <li v-for=\"(point,index) in imgList\" :key=\"index\" @click=\"changeImg(index)\" :class=\"{active:index == imgIndex}\"></li>                \n            </ul>\n            <!-- 轮播图两侧 -->\n            <div class=\"pre\" @click=\"pre\"></div>\n            <div class=\"nex\" @click=\"nex\"></div>\n        </div>\n        <!-- 下载 -->\n        <div class=\"download-wrapper\">\n            <div class=\"download\"></div>\n            <p>PC 安卓 iPhone WP iPad Mac 六大客户端</p>\n        </div>\n      </div>\n      <div class=\"img-blur\">\n        <img v-lazy=\"img\" class=\"blur\">\n       </div>\n  </div>\n</template>\n\n<script>\nexport default {\n    name:'banner',\n    data() {\n        return {\n            //全部图片\n            imgList:[],\n            imgNum:9,\n            //当前轮播图图片\n            img:'http://p1.music.126.net/p8N6yf3bA0Ba57H8KeKV5A==/109951167055668014.jpg',\n            imgIndex:0,\n            timer:function(){},\n            isShow:true, \n        }\n    },\n    methods:{\n        //获取banner资源\n        async getBanner(){\n            let result = await this.$API.reqBanner();\n            result.banners.forEach((item)=>{\n                this.imgList.push({url:item.imageUrl,id:item.targetId,type:item.targetType});\n            })\n            this.imgNum = this.imgList.length;\n            this.img = this.imgList[0].url;\n        },\n        //切换图片\n        changeImg(index){\n            this.img=this.imgList[index].url;\n            this.stopBanner();\n            this.imgIndex = index;\n            this.startBanner();\n        },\n        //上一张图片\n        pre(){\n            this.stopBanner();\n            this.imgIndex--;\n            if(this.imgIndex < 0) this.imgIndex = this.imgNum-1;\n            this.img = this.imgList[this.imgIndex].url;\n            this.startBanner();\n        },\n        //上一张图片\n        nex(){\n            this.stopBanner();\n            this.imgIndex++;\n            if(this.imgIndex > this.imgNum-1) this.imgIndex = 0;\n            this.img = this.imgList[this.imgIndex].url;\n            this.startBanner();\n        },\n        //开启轮播\n        startBanner(){\n            this.timer = setInterval(() => {\n                this.isShow=false;\n                this.imgIndex++;\n                if(this.imgIndex > this.imgNum-1) this.imgIndex = 0;\n                this.imgIndex--;\n                setTimeout(() => {\n                    this.img = this.imgList[this.imgIndex+1].url;\n                    this.isShow=true;     \n                    this.imgIndex++;\n                }, 1400);\n            }, 4000);\n        },\n        //暂停轮播\n        stopBanner(){\n            clearInterval(this.timer);\n        },\n        // 点击回调\n        Go(type,id){\n            let path;\n            if(type == 1) path = '/song';\n            else if(type == 10) path = '/album';\n            this.$router.push({\n                path,\n                query:{\n                    id\n                }\n            })\n        }\n    },\n    // 获取图片资源并开启定时器\n    mounted() {\n        this.getBanner();\n        this.startBanner();\n    },\n    //销毁前关闭定时器\n    beforedestroy(){\n        clearInterval(this.timer);\n    }\n}\n</script>\n\n<style scoped lang = \"less\">\n    .banner-wrapper{\n        height: 285px;\n        width: 100%;\n        position: relative;\n        .wrapper{\n            width: 984px;\n            height: 100%;\n            margin: 0 auto;\n            position: relative;\n            z-index: 1;\n            .img-wrapper{\n                width: 730px;\n                height: 100%;\n                z-index: 10;\n                &:hover{\n                    cursor: pointer;\n                }\n                img{\n                    width: 730px;\n                    height: 285px;\n                }\n                /* 点 */\n                .ponintList{\n                    width: 180px;\n                    height: 20px;\n                    position: absolute;\n                    z-index: 2;\n                    /* background: red; */\n                    bottom: 2px;\n                    left: 275px;\n                    display: flex;\n                    li{\n                        width: 20px;\n                        height: 20px;\n                        background: url('./images/banner.png') no-repeat 4px -343px;\n                        &:hover{\n                            background: url('./images/banner.png') no-repeat -15px -343px;\n                            cursor: pointer;\n                        }\n                    }\n                }\n                li.active{\n                      background: url('./images/banner.png') no-repeat -15px -343px;\n                }\n                /* 箭头 */\n                .pre,\n                .nex{\n                    width: 37px;\n                    height: 63px;\n                    position: absolute;\n                    top:111px;\n                }\n                /* 上一个 */\n                .pre{\n                    left: -68px;\n                    background: url('./images/banner.png') no-repeat 0 -360px;\n                    &:hover{\n                        background-position: 0 -430px;\n                        cursor: pointer;\n                    }\n                }\n                /* 下一个 */\n                .nex{\n                    right: -68px;\n                    background: url('./images/banner.png') no-repeat 0 -508px;\n                    &:hover{\n                        background-position: 0 -578px;\n                        cursor: pointer;\n                    }\n                }\n            }\n\n        }\n        /* 下载 */\n        .download-wrapper{\n            width: 254px;\n            height: 100%;\n            position: absolute;\n            right: 0;\n            top:0;\n            background: url('./images/download.png') no-repeat;\n\n            .download{\n                width: 215px;\n                height: 56px;\n                margin: 185px 0 0 19px;\n                \n                &:hover{\n                    background-color: rgba(0, 0, 205, 0.1);\n                    cursor: pointer;\n                }\n            }\n            p{\n                margin-top:10px;\n                text-align: center;\n            }\n        }\n        /* 背景模糊图片 */\n        .img-blur{\n            width: 100%;\n            height: 285px;\n            overflow: hidden;\n            .blur{\n                width: 100%;\n                height: 100%;\n                position: absolute;\n                top: 0;\n                z-index: 0;\n                -webkit-filter: blur(30px); /* Chrome, Opera */\n                -moz-filter: blur(30px);\n                -ms-filter: blur(10px);    \n                filter: blur(15px);    \n                -webkit-user-select: none;\n                -moz-user-select: none;\n                -ms-user-select: none;\n                user-select: none;\n            }\n        }\n        .show-enter-active{\n        animation:atguigu 1.4s;\n        }\n        .show-leave-active{\n            animation:atguigu 1.4s reverse;\n        }\n        @keyframes atguigu {\n            from{\n                opacity: 0.6;\n            }\n\n            to{\n                opacity: 1;\n            }\n        }\n        }\n</style>"]}]}