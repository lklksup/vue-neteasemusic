{"remainingRequest":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\babel-loader\\lib\\index.js!D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\test1\\vue-neteasemusic\\cloud-master\\src\\views\\Song\\MainerRight\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\src\\views\\Song\\MainerRight\\index.vue","mtime":1654515726000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\babel.config.js","mtime":1654515726000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3Rlc3QxL3Z1ZS1uZXRlYXNlbXVzaWMvY2xvdWQtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ21haW5lcnJpZ2h0JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc29uZ3M6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlkOiBmdW5jdGlvbiBpZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnF1ZXJ5LmlkIHx8IDE5MTUyOTcwMzM7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaWQ6IGZ1bmN0aW9uIGlkKCkgewogICAgICB0aGlzLmdldFNpbWkoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPluebuOS8vOatjOabsgogICAgZ2V0U2ltaTogZnVuY3Rpb24gZ2V0U2ltaSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kQVBJLnJlcVNpbWlTb25nKF90aGlzLmlkLCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnQ09PS0lFJykpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMuc29uZ3MgPSByZXN1bHQuc29uZ3M7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmt7vliqDpn7PkuZDoh7Pmkq3mlL7liJfooagKICAgIGFkZE11c2ljTGlzdDogZnVuY3Rpb24gYWRkTXVzaWNMaXN0KGlkcykgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWRkTXVzaWNMaXN0JywgaWRzKTsKICAgIH0sCiAgICAvLyDorr7nva7lvZPliY3mkq3mlL7nmoTpn7PkuZAKICAgIHNldE11c2ljOiBmdW5jdGlvbiBzZXRNdXNpYyhpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRNdXNpY3MnLCBpZCk7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhZGRNdXNpY0xpc3QnLCBpZCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdwbGF5Jyk7CiAgICAgIH0sIDUwMCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRTaW1pKCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;AAqBA;AACAA,qBADA;AAEAC,MAFA,kBAEA;AACA;AACAC;AADA;AAGA,GANA;AAOAC;AACAC,MADA,gBACA;AACA;AACA;AAHA,GAPA;AAYAC;AACAD,MADA,gBACA;AACA;AACA;AAHA,GAZA;AAiBAE;AACA;AACAC,WAFA,qBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,gEADA;;AAAA;AACAC,sBADA;AAEA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KALA;AAMA;AACAC,gBAPA,wBAOAC,GAPA,EAOA;AACA;AACA,KATA;AAUA;AACAC,YAXA,oBAWAP,EAXA,EAWA;AAAA;;AACA;AACA;AACAQ;AACA;AACA,OAFA,EAEA,GAFA;AAGA;AAjBA,GAjBA;AAoCAC,SApCA,qBAoCA;AACA;AACA;AAtCA","names":["name","data","songs","computed","id","watch","methods","getSimi","result","addMusicList","ids","setMusic","setTimeout","mounted"],"sourceRoot":"src/views/Song/MainerRight","sources":["index.vue"],"sourcesContent":["p<template>\n  <div class=\"mainerright\">\n      <div class=\"u-hd\">\n          <span>相似歌曲</span>\n      </div>\n      <ul class=\"sglist clearfix\">\n          <li class=\"clearfix\" v-for=\"song,index in songs\" :key=\"index\">\n              <div class=\"txt\">\n                  <router-link :to=\"{path:'/song',query:{id:`${song.id}`}}\" class=\"name underline over\" :title=\"song.name\">{{song.name}}</router-link>\n                  <router-link :to=\"{path:'/artist/song',query:{id:`${song.artists[0].id}`}}\" class=\"artist underline over\" :title=\"song.artists[0].name\">{{song.artists[0].name}}</router-link>\n              </div>\n              <div class=\"opr clearfix\">\n                  <a class=\"play\" @click=\"setMusic(song.id)\"></a>\n                 <a class=\"add\"  @click=\"addMusicList(song.id)\"></a>\n              </div>\n          </li>\n      </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n    name:'mainerright',\n    data() {\n        return {\n            songs:[]\n        }\n    },\n    computed:{\n        id(){\n            return this.$route.query.id || 1915297033;\n        }\n    },\n      watch:{\n        id(){\n            this.getSimi();\n        }\n    },\n    methods:{\n        // 获取相似歌曲\n        async getSimi(){\n            let result = await this.$API.reqSimiSong(this.id,localStorage.getItem('COOKIE'));\n            this.songs = result.songs;\n        },\n        // 添加音乐至播放列表\n        addMusicList(ids){\n            this.$store.dispatch('addMusicList',ids);\n        },\n        // 设置当前播放的音乐\n        setMusic(id){\n            this.$store.dispatch('setMusics',id);\n            this.$store.dispatch('addMusicList',id);\n            setTimeout(() => {\n                this.$bus.$emit('play');    \n            }, 500);      \n        },\n    },\n    mounted(){\n        this.getSimi();\n    }\n}\n</script>\n\n<style scoped lang=\"less\">\n    .mainerright{\n        float: right;\n        width: 270px;\n        padding: 20px 40px 40px 30px;\n        .u-hd{\n            width: 100%;\n            height: 23px;\n            margin-bottom: 20px;\n            border-bottom: 1px solid #ccc;\n            color: #000;\n        }\n        .sglist{\n            margin-bottom: 30px;\n            li{\n                margin-top: 10px;\n                .txt{\n                    float: left;\n                    width: 156px;\n                    line-height: 16px;\n                    .name{\n                        width: 156px;\n                        height: 16px;\n                        display: block;\n                        color: #000;\n                    }\n                    .artist{\n                        width: 156px;\n                        height: 16px;\n                        color: #999;\n                        display: block;\n                    }\n                }\n                .opr{\n                    float: right;\n                    position: relative;\n                    top: 10px;\n                    line-height: 32px;\n                    .play{\n                        display: block;\n                        margin-right: 16px;\n                        float: left;\n                        width: 10px;\n                        height: 11px;\n                        background: url('../images/icon2.png') no-repeat;\n                        background-position: -69px -455px;\n                        opacity: 0.9;\n                        &:hover{\n                            cursor: pointer;\n                            opacity: 1;\n                        }\n                    }\n                    .add{\n                        display: block;\n                        margin-right: 0px;\n                        float: left;\n                        width: 10px;\n                        height: 11px;\n                        background: url('../images/icon2.png') no-repeat;\n                         background-position: -87px -454px;\n                         &:hover{\n                            cursor: pointer;\n                            opacity: 1;\n                        }\n                    }\n                }\n            }\n        }\n    }\n</style>"]}]}