{"remainingRequest":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\babel-loader\\lib\\index.js!D:\\test1\\vue-neteasemusic\\cloud-master\\src\\store\\login\\index.js","dependencies":[{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\src\\store\\login\\index.js","mtime":1658153115950},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\babel.config.js","mtime":1654515726000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3Rlc3QxL3Z1ZS1uZXRlYXNlbXVzaWMvY2xvdWQtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyByZXFDZWxsUGhvbmVCeUNvZGUsIHJlcUNlbGxQaG9uZUJ5UGFzc3dvcmQsIHJlcURldGFpbCwgcmVxTG9nb3V0IH0gZnJvbSAnQC9hcGknOwppbXBvcnQgeyBzZXRDb29raWUsIGdldENvb2tpZSwgcmVtb3ZlQ29va2llIH0gZnJvbSAnQC91dGlscy9jb29raWUnOwppbXBvcnQgeyBzZXRVc2VySWQsIGdldFVzZXJJZCwgcmVtb3ZlVXNlcklkIH0gZnJvbSAnQC91dGlscy91c2VySWQnOwp2YXIgc3RhdGUgPSB7CiAgY29kZTogMCwKICBjb29raWU6IGdldENvb2tpZSgpLAogIHVzZXJJZDogZ2V0VXNlcklkKCksCiAgdXNlckluZm86IHt9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgdXBkYXRlVG9rZW46IGZ1bmN0aW9uIHVwZGF0ZVRva2VuKHN0YXRlLCBjb29raWUpIHsKICAgIHNldENvb2tpZShjb29raWUpOwogICAgc3RhdGUuY29va2llID0gY29va2llOwogIH0sCiAgdXBkYXRlVXNlckluZm86IGZ1bmN0aW9uIHVwZGF0ZVVzZXJJbmZvKHN0YXRlLCB1c2VySWQpIHsKICAgIHNldFVzZXJJZCh1c2VySWQpOwogICAgc3RhdGUudXNlcklkID0gdXNlcklkOwogIH0sCiAgZ2V0VXNlckluZm86IGZ1bmN0aW9uIGdldFVzZXJJbmZvKHN0YXRlLCB1c2VySW5mbykgewogICAgc3RhdGUudXNlckluZm8gPSB1c2VySW5mbzsKICB9LAogIGV4aXQ6IGZ1bmN0aW9uIGV4aXQoc3RhdGUpIHsKICAgIHN0YXRlLnVzZXJJbmZvID0ge307CiAgICBzdGF0ZS51c2VySWQgPSAiIjsKICAgIHN0YXRlLnRva2VuID0gIiI7CiAgICByZW1vdmVDb29raWUoKTsKICAgIHJlbW92ZVVzZXJJZCgpOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgLy/kuoznu7TnoIHmm7TmlrBUb2tlbgogIHVwZGF0ZVRva2VuOiBmdW5jdGlvbiB1cGRhdGVUb2tlbihfcmVmLCBjb29raWUpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIGNvbW1pdCgndXBkYXRlVG9rZW4nLCBjb29raWUpOwogIH0sCiAgLy/miYvmnLrpqozor4HnoIHmm7TmlrBUb2tlbgogIHVwZGF0ZVRva2VuV2l0aENvZGU6IGZ1bmN0aW9uIHVwZGF0ZVRva2VuV2l0aENvZGUoX3JlZjIsIF9yZWYzKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29tbWl0LCBwaG9uZSwgY29kZSwgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgIHBob25lID0gX3JlZjMucGhvbmUsIGNvZGUgPSBfcmVmMy5jb2RlOwogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiByZXFDZWxsUGhvbmVCeUNvZGUocGhvbmUsIGNvZGUpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgIGNvbW1pdCgndXBkYXRlVG9rZW4nLCByZXN1bHQuY29va2llKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgndXBkYXRlVXNlckluZm8nLCByZXN1bHQucHJvZmlsZSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICBhbGVydChfY29udGV4dC50MCk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzIsIDldXSk7CiAgICB9KSkoKTsKICB9LAogIC8v5a+G56CB5pu05pawVG9rZW4KICB1cGRhdGVUb2tlbldpdGhQYXNzd29yZDogZnVuY3Rpb24gdXBkYXRlVG9rZW5XaXRoUGFzc3dvcmQoX3JlZjQsIF9yZWY1KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvbW1pdCwgcGhvbmUsIHBhc3N3b3JkLCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICAgICAgICAgIHBob25lID0gX3JlZjUucGhvbmUsIHBhc3N3b3JkID0gX3JlZjUucGFzc3dvcmQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gcmVxQ2VsbFBob25lQnlQYXNzd29yZChwaG9uZSwgcGFzc3dvcmQpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICBjb21taXQoJ3VwZGF0ZVRva2VuJywgcmVzdWx0LmNvb2tpZSk7CiAgICAgICAgICAgICAgICBjb21taXQoJ3VwZGF0ZVVzZXJJbmZvJywgcmVzdWx0LmFjY291bnQuaWQpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgIGFsZXJ0KF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMiwgOV1dKTsKICAgIH0pKSgpOwogIH0sCiAgLy/ojrflj5bnlKjmiLfkv6Hmga8KICBnZXRVc2VySW5mbzogZnVuY3Rpb24gZ2V0VXNlckluZm8oX3JlZjYsIGlkKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY2LmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlcURldGFpbChpZCwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0NPT0tJRScpKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ2dldFVzZXJJbmZvJywgcmVzdWx0KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0sCiAgLy/pgIDlh7rnmbvlvZUKICBleGl0OiBmdW5jdGlvbiBleGl0KF9yZWY3KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgdmFyIGNvbW1pdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNy5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZXFMb2dvdXQoKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjb21taXQoJ2V4aXQnKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU0KTsKICAgIH0pKSgpOwogIH0KfTsKdmFyIGdldHRlcnMgPSB7fTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zLAogIGdldHRlcnM6IGdldHRlcnMKfTs="},{"version":3,"sources":["D:/test1/vue-neteasemusic/cloud-master/src/store/login/index.js"],"names":["reqCellPhoneByCode","reqCellPhoneByPassword","reqDetail","reqLogout","setCookie","getCookie","removeCookie","setUserId","getUserId","removeUserId","state","code","cookie","userId","userInfo","mutations","updateToken","updateUserInfo","getUserInfo","exit","token","actions","commit","updateTokenWithCode","phone","result","profile","alert","updateTokenWithPassword","password","account","id","localStorage","getItem","getters"],"mappings":"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","sourcesContent":["import {reqCellPhoneByCode, reqCellPhoneByPassword,reqDetail,reqLogout} from '@/api'\nimport {setCookie,getCookie,removeCookie} from '@/utils/cookie'\nimport { setUserId,getUserId,removeUserId } from '@/utils/userId'\nconst state={\n    code:0,\n    cookie:getCookie(),\n    userId:getUserId(),\n    userInfo:{},\n}\nconst mutations={\n    updateToken(state,cookie){\n        setCookie(cookie);\n        state.cookie = cookie;\n    },\n    updateUserInfo(state,userId){\n        setUserId(userId);\n        state.userId = userId;\n    },\n    getUserInfo(state,userInfo){\n        state.userInfo = userInfo;\n    },\n    exit(state){\n        state.userInfo = {};\n        state.userId = \"\";\n        state.token = \"\";\n        removeCookie();\n        removeUserId();\n    }\n}\nconst actions={\n    //二维码更新Token\n    updateToken({commit},cookie){\n        commit('updateToken',cookie);\n    },\n    //手机验证码更新Token\n    async updateTokenWithCode({commit},{phone,code}){\n        try{\n            let result = await reqCellPhoneByCode(phone,code);  \n            if(result.code == 200){\n                commit('updateToken',result.cookie);\n                commit('updateUserInfo',result.profile);\n            }       \n        }catch(error){\n            alert(error);\n        }\n    },\n    //密码更新Token\n    async updateTokenWithPassword({commit},{phone,password}){\n        try {\n            let result = await reqCellPhoneByPassword(phone,password);    \n            if(result.code == 200){\n                commit('updateToken',result.cookie);\n                commit('updateUserInfo',result.account.id);\n            }\n        } catch (error) {\n            alert(error);\n        }\n        \n    },\n    //获取用户信息\n    async getUserInfo({commit},id){\n        let result = await reqDetail(id,localStorage.getItem('COOKIE'));\n        commit('getUserInfo',result);\n    },\n    //退出登录\n    async exit({commit}){\n        await reqLogout();\n        commit('exit');\n    }\n}\nconst getters={\n\n}\n\nexport default{\n    state,\n    mutations,\n    actions,\n    getters\n}"]}]}