{"remainingRequest":"D:\\github-project\\vue-neteasemusic\\node_modules\\babel-loader\\lib\\index.js!D:\\github-project\\vue-neteasemusic\\src\\store\\login\\index.js","dependencies":[{"path":"D:\\github-project\\vue-neteasemusic\\src\\store\\login\\index.js","mtime":1658153115950},{"path":"D:\\github-project\\vue-neteasemusic\\babel.config.js","mtime":1654515726000},{"path":"D:\\github-project\\vue-neteasemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\github-project\\vue-neteasemusic\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2dpdGh1Yi1wcm9qZWN0L3Z1ZS1uZXRlYXNlbXVzaWMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IHJlcUNlbGxQaG9uZUJ5Q29kZSwgcmVxQ2VsbFBob25lQnlQYXNzd29yZCwgcmVxRGV0YWlsLCByZXFMb2dvdXQgfSBmcm9tICdAL2FwaSc7CmltcG9ydCB7IHNldENvb2tpZSwgZ2V0Q29va2llLCByZW1vdmVDb29raWUgfSBmcm9tICdAL3V0aWxzL2Nvb2tpZSc7CmltcG9ydCB7IHNldFVzZXJJZCwgZ2V0VXNlcklkLCByZW1vdmVVc2VySWQgfSBmcm9tICdAL3V0aWxzL3VzZXJJZCc7CnZhciBzdGF0ZSA9IHsKICBjb2RlOiAwLAogIGNvb2tpZTogZ2V0Q29va2llKCksCiAgdXNlcklkOiBnZXRVc2VySWQoKSwKICB1c2VySW5mbzoge30KfTsKdmFyIG11dGF0aW9ucyA9IHsKICB1cGRhdGVUb2tlbjogZnVuY3Rpb24gdXBkYXRlVG9rZW4oc3RhdGUsIGNvb2tpZSkgewogICAgc2V0Q29va2llKGNvb2tpZSk7CiAgICBzdGF0ZS5jb29raWUgPSBjb29raWU7CiAgfSwKICB1cGRhdGVVc2VySW5mbzogZnVuY3Rpb24gdXBkYXRlVXNlckluZm8oc3RhdGUsIHVzZXJJZCkgewogICAgc2V0VXNlcklkKHVzZXJJZCk7CiAgICBzdGF0ZS51c2VySWQgPSB1c2VySWQ7CiAgfSwKICBnZXRVc2VySW5mbzogZnVuY3Rpb24gZ2V0VXNlckluZm8oc3RhdGUsIHVzZXJJbmZvKSB7CiAgICBzdGF0ZS51c2VySW5mbyA9IHVzZXJJbmZvOwogIH0sCiAgZXhpdDogZnVuY3Rpb24gZXhpdChzdGF0ZSkgewogICAgc3RhdGUudXNlckluZm8gPSB7fTsKICAgIHN0YXRlLnVzZXJJZCA9ICIiOwogICAgc3RhdGUudG9rZW4gPSAiIjsKICAgIHJlbW92ZUNvb2tpZSgpOwogICAgcmVtb3ZlVXNlcklkKCk7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICAvL+S6jOe7tOeggeabtOaWsFRva2VuCiAgdXBkYXRlVG9rZW46IGZ1bmN0aW9uIHVwZGF0ZVRva2VuKF9yZWYsIGNvb2tpZSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgY29tbWl0KCd1cGRhdGVUb2tlbicsIGNvb2tpZSk7CiAgfSwKICAvL+aJi+acuumqjOivgeeggeabtOaWsFRva2VuCiAgdXBkYXRlVG9rZW5XaXRoQ29kZTogZnVuY3Rpb24gdXBkYXRlVG9rZW5XaXRoQ29kZShfcmVmMiwgX3JlZjMpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBjb21taXQsIHBob25lLCBjb2RlLCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgICAgICAgICAgcGhvbmUgPSBfcmVmMy5waG9uZSwgY29kZSA9IF9yZWYzLmNvZGU7CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHJlcUNlbGxQaG9uZUJ5Q29kZShwaG9uZSwgY29kZSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgY29tbWl0KCd1cGRhdGVUb2tlbicsIHJlc3VsdC5jb29raWUpOwogICAgICAgICAgICAgICAgY29tbWl0KCd1cGRhdGVVc2VySW5mbycsIHJlc3VsdC5wcm9maWxlKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgIGFsZXJ0KF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgOV1dKTsKICAgIH0pKSgpOwogIH0sCiAgLy/lr4bnoIHmm7TmlrBUb2tlbgogIHVwZGF0ZVRva2VuV2l0aFBhc3N3b3JkOiBmdW5jdGlvbiB1cGRhdGVUb2tlbldpdGhQYXNzd29yZChfcmVmNCwgX3JlZjUpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgY29tbWl0LCBwaG9uZSwgcGFzc3dvcmQsIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgICAgICAgICAgcGhvbmUgPSBfcmVmNS5waG9uZSwgcGFzc3dvcmQgPSBfcmVmNS5wYXNzd29yZDsKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDI7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiByZXFDZWxsUGhvbmVCeVBhc3N3b3JkKHBob25lLCBwYXNzd29yZCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgIGNvbW1pdCgndXBkYXRlVG9rZW4nLCByZXN1bHQuY29va2llKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgndXBkYXRlVXNlckluZm8nLCByZXN1bHQuYWNjb3VudC5pZCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gOTsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgYWxlcnQoX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1syLCA5XV0pOwogICAgfSkpKCk7CiAgfSwKICAvL+iOt+WPlueUqOaIt+S/oeaBrwogIGdldFVzZXJJbmZvOiBmdW5jdGlvbiBnZXRVc2VySW5mbyhfcmVmNiwgaWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgY29tbWl0LCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVxRGV0YWlsKGlkLCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnQ09PS0lFJykpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnZ2V0VXNlckluZm8nLCByZXN1bHQpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKICAvL+mAgOWHuueZu+W9lQogIGV4aXQ6IGZ1bmN0aW9uIGV4aXQoX3JlZjcpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICB2YXIgY29tbWl0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY3LmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlcUxvZ291dCgpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNvbW1pdCgnZXhpdCcpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpKCk7CiAgfQp9Owp2YXIgZ2V0dGVycyA9IHt9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgZ2V0dGVyczogZ2V0dGVycwp9Ow=="},{"version":3,"sources":["D:/github-project/vue-neteasemusic/src/store/login/index.js"],"names":["reqCellPhoneByCode","reqCellPhoneByPassword","reqDetail","reqLogout","setCookie","getCookie","removeCookie","setUserId","getUserId","removeUserId","state","code","cookie","userId","userInfo","mutations","updateToken","updateUserInfo","getUserInfo","exit","token","actions","commit","updateTokenWithCode","phone","result","profile","alert","updateTokenWithPassword","password","account","id","localStorage","getItem","getters"],"mappings":"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","sourcesContent":["import {reqCellPhoneByCode, reqCellPhoneByPassword,reqDetail,reqLogout} from '@/api'\nimport {setCookie,getCookie,removeCookie} from '@/utils/cookie'\nimport { setUserId,getUserId,removeUserId } from '@/utils/userId'\nconst state={\n    code:0,\n    cookie:getCookie(),\n    userId:getUserId(),\n    userInfo:{},\n}\nconst mutations={\n    updateToken(state,cookie){\n        setCookie(cookie);\n        state.cookie = cookie;\n    },\n    updateUserInfo(state,userId){\n        setUserId(userId);\n        state.userId = userId;\n    },\n    getUserInfo(state,userInfo){\n        state.userInfo = userInfo;\n    },\n    exit(state){\n        state.userInfo = {};\n        state.userId = \"\";\n        state.token = \"\";\n        removeCookie();\n        removeUserId();\n    }\n}\nconst actions={\n    //二维码更新Token\n    updateToken({commit},cookie){\n        commit('updateToken',cookie);\n    },\n    //手机验证码更新Token\n    async updateTokenWithCode({commit},{phone,code}){\n        try{\n            let result = await reqCellPhoneByCode(phone,code);  \n            if(result.code == 200){\n                commit('updateToken',result.cookie);\n                commit('updateUserInfo',result.profile);\n            }       \n        }catch(error){\n            alert(error);\n        }\n    },\n    //密码更新Token\n    async updateTokenWithPassword({commit},{phone,password}){\n        try {\n            let result = await reqCellPhoneByPassword(phone,password);    \n            if(result.code == 200){\n                commit('updateToken',result.cookie);\n                commit('updateUserInfo',result.account.id);\n            }\n        } catch (error) {\n            alert(error);\n        }\n        \n    },\n    //获取用户信息\n    async getUserInfo({commit},id){\n        let result = await reqDetail(id,localStorage.getItem('COOKIE'));\n        commit('getUserInfo',result);\n    },\n    //退出登录\n    async exit({commit}){\n        await reqLogout();\n        commit('exit');\n    }\n}\nconst getters={\n\n}\n\nexport default{\n    state,\n    mutations,\n    actions,\n    getters\n}"]}]}