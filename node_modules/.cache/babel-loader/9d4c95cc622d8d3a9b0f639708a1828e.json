{"remainingRequest":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\babel-loader\\lib\\index.js!D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\test1\\vue-neteasemusic\\cloud-master\\src\\views\\PlayList\\MainnerLeft\\SongList\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\src\\views\\PlayList\\MainnerLeft\\SongList\\index.vue","mtime":1654515726000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\babel.config.js","mtime":1654515726000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3Rlc3QxL3Z1ZS1uZXRlYXNlbXVzaWMvY2xvdWQtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzb25nbGlzdCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOatjOWNleS/oeaBrwogICAgICBwbGF5bGlzdDoge30sCiAgICAgIC8vIOatjOabsuS/oeaBrwogICAgICBzb25nbGlzdDogW10sCiAgICAgIC8vIOatjOabsuivpue7huivpue7hgogICAgICBzb25nZGV0YWlsOiBbXSwKICAgICAgLy8g6K+E6K666K+m5oOFCiAgICAgIGNvbUxpc3Q6IFtdLAogICAgICAvLyDliIbpobXlmajlj4LmlbAKICAgICAgc2VhcmNoUGFyYW1zOiB7CiAgICAgICAgdG90YWw6IDEwMDAwLAogICAgICAgIHBhZ2VTaXplOiAzMCwKICAgICAgICBwYWdlTm86IDEKICAgICAgfSwKICAgICAgLy/or4TorroKICAgICAgdGV4dDogIiIKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaWQ6IGZ1bmN0aW9uIGlkKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUucXVlcnkuaWQ7CiAgICB9LAogICAgbXVzaWNOb3c6IGZ1bmN0aW9uIG11c2ljTm93KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubXVzaWMubXVzaWM7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaWQ6IGZ1bmN0aW9uIGlkKCkgewogICAgICB0aGlzLmdldFBsYXlMaXN0KCk7CiAgICAgIHRoaXMuZ2V0Q29tbWVudCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W5q2M5Y2V6K+m5oOFIAogICAgZ2V0UGxheUxpc3Q6IGZ1bmN0aW9uIGdldFBsYXlMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzdWx0LCBhLCBzLCBpLCByZXN1bHQyOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRBUEkucmVxUGxheUxpc3REZXRhaWwoX3RoaXMuaWQsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdDT09LSUUnKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAgICAgICAgICAgX3RoaXMucGxheWxpc3QgPSByZXN1bHQucGxheWxpc3Q7CiAgICAgICAgICAgICAgICBfdGhpcy5zb25nbGlzdCA9IHJlc3VsdC5wcml2aWxlZ2VzOwogICAgICAgICAgICAgICAgX3RoaXMucGxheWxpc3Qubmlja25hbWUgPSByZXN1bHQucGxheWxpc3QuY3JlYXRvci5uaWNrbmFtZTsKICAgICAgICAgICAgICAgIGEgPSBuZXcgRGF0ZShyZXN1bHQucGxheWxpc3QuY3JlYXRlVGltZSk7CiAgICAgICAgICAgICAgICBfdGhpcy5wbGF5bGlzdC50aW1lID0gYS50b0xvY2FsZURhdGVTdHJpbmcoKS5yZXBsYWNlKC9cLy9nLCAiLSIpOyAvLyDojrflj5bmrYzljZXmjpLooYzmppzor6bnu4bor6bnu4YKCiAgICAgICAgICAgICAgICBzID0gIiI7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzLnNvbmdsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHMgKz0gX3RoaXMuc29uZ2xpc3RbaV0uaWQ7CiAgICAgICAgICAgICAgICAgIGlmIChpICE9IF90aGlzLnNvbmdsaXN0Lmxlbmd0aCAtIDEpIHMgKz0gIiwiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kQVBJLnJlcVNvbmcocywgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0NPT0tJRScpKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHJlc3VsdDIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMuc29uZ2RldGFpbCA9IHJlc3VsdDIuc29uZ3M7CiAgICAgICAgICAgICAgICBfdGhpcy5wbGF5bGlzdC5hdmF0YXJVcmwgPSBfdGhpcy5wbGF5bGlzdC5jcmVhdG9yLmF2YXRhclVybDsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmt7vliqDpn7PkuZDoh7Pmkq3mlL7liJfooagKICAgIGFkZE11c2ljTGlzdDogZnVuY3Rpb24gYWRkTXVzaWNMaXN0KGlkcykgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWRkTXVzaWNMaXN0JywgaWRzKTsKICAgIH0sCiAgICAvLyDorr7nva7lvZPliY3mkq3mlL7nmoTpn7PkuZAKICAgIHNldE11c2ljOiBmdW5jdGlvbiBzZXRNdXNpYyhpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRNdXNpY3MnLCBpZCk7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhZGRNdXNpY0xpc3QnLCBpZCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdwbGF5Jyk7CiAgICAgIH0sIDUwMCk7CiAgICB9LAogICAgbWluOiBmdW5jdGlvbiBtaW4oc29uZykgewogICAgICBpZiAocGFyc2VJbnQoc29uZy5kdCAvIDYwMDAwKSA8IDEwKSByZXR1cm4gJzAnICsgcGFyc2VJbnQoc29uZy5kdCAvIDYwMDAwKTtlbHNlIHJldHVybiBwYXJzZUludChzb25nLmR0IC8gNjAwMDApOwogICAgfSwKICAgIHNlYzogZnVuY3Rpb24gc2VjKHNvbmcpIHsKICAgICAgdmFyIHggPSBwYXJzZUludChzb25nLmR0IC8gNjAwMDApOwogICAgICB2YXIgeSA9IHBhcnNlSW50KHNvbmcuZHQgLyAxMDAwIC0geCAqIDYwKTsKICAgICAgaWYgKHkgPCAxMCkgcmV0dXJuICcwJyArIHk7ZWxzZSByZXR1cm4geTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFBsYXlMaXN0KCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACAA,kBADA;AAEAC,MAFA,kBAEA;AACA;AACA;AACAC,kBAFA;AAGA;AACAC,kBAJA;AAKA;AACAC,oBANA;AAOA;AACAC,iBARA;AASA;AACAC;AACAC,oBADA;AAEAC,oBAFA;AAGAC;AAHA,OAVA;AAeA;AACAC;AAhBA;AAkBA,GArBA;AAsBAC;AACAC,MADA,gBACA;AACA;AACA,KAHA;AAIAC,YAJA,sBAIA;AACA;AACA;AANA,GAtBA;AA8BAC;AACAF,MADA,gBACA;AACA;AACA;AACA;AAJA,GA9BA;AAoCAG;AACA;AACAC,eAFA,yBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,sEADA;;AAAA;AACAC,sBADA;AAEA;AACA;AACA;AACA;AACAC,iBANA,GAMA,oCANA;AAOA,iFAPA,CAQA;;AACAC,iBATA,GASA,EATA;;AAUA;AACAA;AACA,sDACAA;AACA;;AAdA;AAAA,uBAeA,qDAfA;;AAAA;AAeAC,uBAfA;AAgBA;AACA;;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA,KApBA;AAqBA;AACAC,gBAtBA,wBAsBAC,GAtBA,EAsBA;AACA;AACA,KAxBA;AAyBA;AACAC,YA1BA,oBA0BAX,EA1BA,EA0BA;AAAA;;AACA;AACA;AACAY;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KAhCA;AAiCAC,OAjCA,eAiCAC,IAjCA,EAiCA;AACA,0CACA,uCADA,KAEA;AACA,KArCA;AAsCAC,OAtCA,eAsCAD,IAtCA,EAsCA;AACA;AACA;AACA,sCACA;AACA;AA3CA,GApCA;AAiFAE,SAjFA,qBAiFA;AACA;AACA;AAnFA","names":["name","data","playlist","songlist","songdetail","comList","searchParams","total","pageSize","pageNo","text","computed","id","musicNow","watch","methods","getPlayList","result","a","s","result2","addMusicList","ids","setMusic","setTimeout","min","song","sec","mounted"],"sourceRoot":"src/views/PlayList/MainnerLeft/SongList","sources":["index.vue"],"sourcesContent":["<template>\n  <!-- 歌曲列表 -->\n  <div class=\"songlist\">\n    <div class=\"tlt\">\n      <h3>歌曲列表</h3>\n      <span class=\"sub\">{{ playlist.trackCount }}首歌</span>\n      <div class=\"more\">\n        播放：<span class=\"fc\">{{ playlist.playCount }} </span>次\n      </div>\n    </div>\n    <div class=\"song\">\n      <div class=\"header\">\n        <li class=\"w1\"></li>\n        <li class=\"w2\">歌曲标题</li>\n        <li class=\"w3\">时长</li>\n        <li class=\"w4\">歌手</li>\n        <li class=\"w5\">专辑</li>\n      </div>\n      <div class=\"mainer\">\n        <ul v-for=\"(song, index) in songdetail\" :key=\"index\">\n          <li class=\"m1 over underline\" >\n            <span>{{ index + 1 }}</span>\n            <i class=\"play\"  @click=\"setMusic(song.id)\" :class=\"{active:song.id==musicNow.id}\"></i>\n          </li>\n          <li class=\"m2 over underline\" :title=\"song.name\">\n            <router-link :to=\"{path:'/song',query:{id:`${song.id}`}}\">\n              <span class=\"underline\">{{ song.name }}</span>\n              <span v-if=\"song.alia.length != 0\" style=\"margin-left: 6px; color: #999\" >-{{ song.alia[0] }}</span>\n            </router-link>\n            <i class=\"mv\"></i>\n          </li>\n          <li class=\"m3 over underline\">\n            <span class=\"time\">{{ min(song) }}:{{ sec(song) }}</span>\n            <div class=\"show\">\n              <a title=\"添加到播放列表\" class=\"a1\"  @click=\"addMusicList(song.id)\"></a>\n              <a title=\"收藏\" class=\"a2\"></a>\n              <a title=\"分享\" class=\"a3\"></a>\n              <a title=\"下载\" class=\"a4\"></a>\n            </div>\n          </li>\n          <li class=\"m4 over underline\">\n            <router-link :to=\"{path:'/artist/song',query:{id:song.ar[0].id}}\" :title=\"song.ar[0].name\">\n              <span :title=\"song.ar[0].name\">{{ song.ar[0].name }}</span>  \n            </router-link>\n            \n          </li>\n          <li class=\"m5 over underline\" :title=\"song.al.name\">\n            <span>{{ song.al.name }}</span>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name:'songlist',\n  data() {\n    return {\n      // 歌单信息\n      playlist: {},\n      // 歌曲信息\n      songlist: [],\n      // 歌曲详细详细\n      songdetail: [],\n      // 评论详情\n      comList: [],\n      // 分页器参数\n      searchParams: {\n        total: 10000,\n        pageSize: 30,\n        pageNo: 1,\n      },\n      //评论\n      text: \"\",\n    };\n  },\n    computed:{\n        id(){\n            return this.$route.query.id;\n        },\n          musicNow(){\n            return this.$store.state.music.music;\n        }\n    },\n    watch:{\n        id(){\n            this.getPlayList();\n            this.getComment();\n        },\n    },\n    methods:{\n        // 获取歌单详情 \n        async getPlayList(){\n            let result = await this.$API.reqPlayListDetail(this.id,localStorage.getItem('COOKIE'));\n            // console.log(result);\n            this.playlist = result.playlist;\n            this.songlist = result.privileges;\n            this.playlist.nickname = result.playlist.creator.nickname;\n            var a = new Date(result.playlist.createTime);\n            this.playlist.time = a.toLocaleDateString().replace(/\\//g, \"-\");\n            // 获取歌单排行榜详细详细\n            let s = \"\";\n            for(let i = 0;i < this.songlist.length;i++){\n                s += this.songlist[i].id;\n                if(i != this.songlist.length-1)\n                    s += \",\";\n            }\n            let result2 = await this.$API.reqSong(s,localStorage.getItem('COOKIE'));\n            this.songdetail = result2.songs;\n            this.playlist.avatarUrl = this.playlist.creator.avatarUrl;\n        },\n        // 添加音乐至播放列表\n        addMusicList(ids){\n            this.$store.dispatch('addMusicList',ids);\n        },\n        // 设置当前播放的音乐\n        setMusic(id){\n            this.$store.dispatch('setMusics',id);\n            this.$store.dispatch('addMusicList',id);\n            setTimeout(() => {\n                this.$bus.$emit('play');    \n            }, 500);      \n        },\n        min(song){\n            if(parseInt(song.dt/60000) < 10)\n                return '0'+parseInt(song.dt/60000);\n            else return parseInt(song.dt/60000)\n        },\n        sec(song){\n            let x = parseInt(song.dt/60000);\n            let y = parseInt(song.dt/1000-x*60);\n            if(y < 10) return '0'+y;\n            else return y;\n        },\n    },\n    mounted(){\n        this.getPlayList();\n    }\n};\n</script>\n\n<style lang='less' scoped>\n.songlist {\n  width: 640px;\n  min-height: 400px;\n  .tlt {\n    width: 100%;\n    height: 35px;\n    border-bottom: 2px solid #c20c0c;\n\n    h3 {\n      font-family: \"Microsoft Yahei\", Arial, Helvetica, sans-serif;\n      font-size: 20px;\n      line-height: 28px;\n      font-weight: normal;\n      color: #333;\n      float: left;\n    }\n\n    .sub {\n      margin: 9px 0 0 20px;\n      float: left;\n      color: #666;\n      font-size: 12px;\n      font-family: Arial, Helvetica, sans-serif;\n      -webkit-text-size-adjust: none;\n    }\n\n    .more {\n      margin-top: 5px;\n      height: 16px;\n      float: right;\n\n      .fc {\n        color: #c20c0c;\n        font-weight: bold;\n      }\n    }\n  }\n  .song {\n    width: 100%;\n    border: 1px solid #d9d9d9;\n    .header {\n      width: 100%;\n      height: 39px;\n      display: flex;\n      padding: 0;\n      li {\n        border-right: 1px solid #d9d9d9;\n        padding: 8px 10px;\n        background-image: linear-gradient(\n          rgb(255, 255, 255),\n          rgb(240, 240, 240)\n        );\n        box-shadow: 0 1px 1px 1px rgba(0, 0, 0, 0.1);\n      }\n      .w1 {\n        width: 74.5px;\n      }\n      .w2 {\n        width: 301.75px;\n      }\n      .w3 {\n        width: 111px;\n      }\n      .w4 {\n        width: 103.45px;\n      }\n      .w5 {\n        width: 149px;\n      }\n    }\n\n    .mainer {\n      width: 100%;\n      display: block;\n      ul:nth-of-type(odd) {\n        background: #f7f7f7;\n      }\n      .good {\n        height: 70px;\n        span,\n        a,\n        i {\n          display: block;\n          margin-top: 20px !important;\n        }\n      }\n      ul {\n        height: 30px;\n        width: 100%;\n        display: flex;\n\n        &:hover .time {\n          display: none !important;\n        }\n        &:hover .show {\n          display: block !important;\n        }\n\n        li {\n          padding: 6px 10px;\n        }\n\n        .m1 {\n          width: 74.5px;\n          // height: 100%;\n          padding: 6px 10px;\n          line-height: 18px;\n\n          span {\n            float: left;\n            width: 25px;\n            height: 18px;\n            color: #999;\n            text-align: center;\n          }\n          .play {\n            float: right;\n            display: block;\n            width: 17px;\n            height: 17px;\n            background: url(\"../../images/table.png\") no-repeat -0px -103px;\n\n            &:hover {\n              background-position: -0px -128px;\n              cursor: pointer;\n            }\n            // background: url(\"../../images/table.png\") no-repeat -20px -128px;\n          }\n          .active{\n              background-position: -20px -128px;\n              &:hover{\n                  background-position: -20px -128px;\n              }\n          }\n        }\n\n\n        .m2 {\n          width: 301px;\n          a {\n            width: 280px;\n            color: #333;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            float: left;\n          }\n        }\n\n        .m3 {\n          width: 111px;\n          .time {\n            display: block;\n          }\n          .show {\n            width: 79px;\n            height: 18px;\n            display: none;\n            a {\n              margin: 2px 0 0 4px;\n              width: 18px;\n              height: 16px;\n              display: block;\n              float: left;\n              background: url(\"../../images/table.png\") no-repeat;\n              &:hover {\n                cursor: pointer;\n              }\n            }\n            .a1 {\n              width: 13px;\n              height: 13px;\n              margin-top: 2px;\n              margin-left: 0;\n              background: url(\"../../images/icon.png\") no-repeat;\n              background-position: 0 -700px;\n\n              &:hover {\n                background-position: -22px -700px;\n              }\n            }\n\n            .a2 {\n              background-position: 0 -174px;\n              &:hover {\n                background-position: -20px -174px;\n              }\n            }\n            .a3 {\n              background-position: 0 -195px;\n              &:hover {\n                background-position: -20px -195px;\n              }\n            }\n            .a4 {\n              background-position: -81px -174px;\n              &:hover {\n                background-position: -104px -174px;\n              }\n            }\n          }\n        }\n\n        .m4 {\n          width: 103px;\n          color: #333;\n          & a:hover {\n            color: #666;\n            cursor: pointer;\n            text-decoration: underline;\n          }\n        }\n        .m5 {\n          width: 149px;\n          color: #333;\n        }\n      }\n    }\n  }\n}\n</style>"]}]}