{"remainingRequest":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\babel-loader\\lib\\index.js!D:\\test1\\cloud-master\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\test1\\cloud-master\\cloud-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\test1\\cloud-master\\cloud-master\\src\\views\\Song\\MainerRight\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\test1\\cloud-master\\cloud-master\\src\\views\\Song\\MainerRight\\index.vue","mtime":1654515726000},{"path":"D:\\test1\\cloud-master\\cloud-master\\babel.config.js","mtime":1654515726000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3Rlc3QxL2Nsb3VkLW1hc3Rlci9jbG91ZC1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbWFpbmVycmlnaHQnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzb25nczogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaWQ6IGZ1bmN0aW9uIGlkKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUucXVlcnkuaWQgfHwgMTkxNTI5NzAzMzsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBpZDogZnVuY3Rpb24gaWQoKSB7CiAgICAgIHRoaXMuZ2V0U2ltaSgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W55u45Ly85q2M5puyCiAgICBnZXRTaW1pOiBmdW5jdGlvbiBnZXRTaW1pKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRBUEkucmVxU2ltaVNvbmcoX3RoaXMuaWQsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdDT09LSUUnKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpcy5zb25ncyA9IHJlc3VsdC5zb25nczsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOa3u+WKoOmfs+S5kOiHs+aSreaUvuWIl+ihqAogICAgYWRkTXVzaWNMaXN0OiBmdW5jdGlvbiBhZGRNdXNpY0xpc3QoaWRzKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhZGRNdXNpY0xpc3QnLCBpZHMpOwogICAgfSwKICAgIC8vIOiuvue9ruW9k+WJjeaSreaUvueahOmfs+S5kAogICAgc2V0TXVzaWM6IGZ1bmN0aW9uIHNldE11c2ljKGlkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldE11c2ljcycsIGlkKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2FkZE11c2ljTGlzdCcsIGlkKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ3BsYXknKTsKICAgICAgfSwgNTAwKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFNpbWkoKTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;AAqBA;AACAA,qBADA;AAEAC,MAFA,kBAEA;AACA;AACAC;AADA;AAGA,GANA;AAOAC;AACAC,MADA,gBACA;AACA;AACA;AAHA,GAPA;AAYAC;AACAD,MADA,gBACA;AACA;AACA;AAHA,GAZA;AAiBAE;AACA;AACAC,WAFA,qBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,gEADA;;AAAA;AACAC,sBADA;AAEA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KALA;AAMA;AACAC,gBAPA,wBAOAC,GAPA,EAOA;AACA;AACA,KATA;AAUA;AACAC,YAXA,oBAWAP,EAXA,EAWA;AAAA;;AACA;AACA;AACAQ;AACA;AACA,OAFA,EAEA,GAFA;AAGA;AAjBA,GAjBA;AAoCAC,SApCA,qBAoCA;AACA;AACA;AAtCA","names":["name","data","songs","computed","id","watch","methods","getSimi","result","addMusicList","ids","setMusic","setTimeout","mounted"],"sourceRoot":"src/views/Song/MainerRight","sources":["index.vue"],"sourcesContent":["p<template>\n  <div class=\"mainerright\">\n      <div class=\"u-hd\">\n          <span>相似歌曲</span>\n      </div>\n      <ul class=\"sglist clearfix\">\n          <li class=\"clearfix\" v-for=\"song,index in songs\" :key=\"index\">\n              <div class=\"txt\">\n                  <router-link :to=\"{path:'/song',query:{id:`${song.id}`}}\" class=\"name underline over\" :title=\"song.name\">{{song.name}}</router-link>\n                  <router-link :to=\"{path:'/artist/song',query:{id:`${song.artists[0].id}`}}\" class=\"artist underline over\" :title=\"song.artists[0].name\">{{song.artists[0].name}}</router-link>\n              </div>\n              <div class=\"opr clearfix\">\n                  <a class=\"play\" @click=\"setMusic(song.id)\"></a>\n                 <a class=\"add\"  @click=\"addMusicList(song.id)\"></a>\n              </div>\n          </li>\n      </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n    name:'mainerright',\n    data() {\n        return {\n            songs:[]\n        }\n    },\n    computed:{\n        id(){\n            return this.$route.query.id || 1915297033;\n        }\n    },\n      watch:{\n        id(){\n            this.getSimi();\n        }\n    },\n    methods:{\n        // 获取相似歌曲\n        async getSimi(){\n            let result = await this.$API.reqSimiSong(this.id,localStorage.getItem('COOKIE'));\n            this.songs = result.songs;\n        },\n        // 添加音乐至播放列表\n        addMusicList(ids){\n            this.$store.dispatch('addMusicList',ids);\n        },\n        // 设置当前播放的音乐\n        setMusic(id){\n            this.$store.dispatch('setMusics',id);\n            this.$store.dispatch('addMusicList',id);\n            setTimeout(() => {\n                this.$bus.$emit('play');    \n            }, 500);      \n        },\n    },\n    mounted(){\n        this.getSimi();\n    }\n}\n</script>\n\n<style scoped lang=\"less\">\n    .mainerright{\n        float: right;\n        width: 270px;\n        padding: 20px 40px 40px 30px;\n        .u-hd{\n            width: 100%;\n            height: 23px;\n            margin-bottom: 20px;\n            border-bottom: 1px solid #ccc;\n            color: #000;\n        }\n        .sglist{\n            margin-bottom: 30px;\n            li{\n                margin-top: 10px;\n                .txt{\n                    float: left;\n                    width: 156px;\n                    line-height: 16px;\n                    .name{\n                        width: 156px;\n                        height: 16px;\n                        display: block;\n                        color: #000;\n                    }\n                    .artist{\n                        width: 156px;\n                        height: 16px;\n                        color: #999;\n                        display: block;\n                    }\n                }\n                .opr{\n                    float: right;\n                    position: relative;\n                    top: 10px;\n                    line-height: 32px;\n                    .play{\n                        display: block;\n                        margin-right: 16px;\n                        float: left;\n                        width: 10px;\n                        height: 11px;\n                        background: url('../images/icon2.png') no-repeat;\n                        background-position: -69px -455px;\n                        opacity: 0.9;\n                        &:hover{\n                            cursor: pointer;\n                            opacity: 1;\n                        }\n                    }\n                    .add{\n                        display: block;\n                        margin-right: 0px;\n                        float: left;\n                        width: 10px;\n                        height: 11px;\n                        background: url('../images/icon2.png') no-repeat;\n                         background-position: -87px -454px;\n                         &:hover{\n                            cursor: pointer;\n                            opacity: 1;\n                        }\n                    }\n                }\n            }\n        }\n    }\n</style>"]}]}