{"remainingRequest":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\babel-loader\\lib\\index.js!D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\test1\\vue-neteasemusic\\cloud-master\\src\\views\\Home\\Discover\\Banner\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\src\\views\\Home\\Discover\\Banner\\index.vue","mtime":1654515726000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\babel.config.js","mtime":1654515726000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3Rlc3QxL3Z1ZS1uZXRlYXNlbXVzaWMvY2xvdWQtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnYmFubmVyJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy/lhajpg6jlm77niYcKICAgICAgaW1nTGlzdDogW10sCiAgICAgIGltZ051bTogOSwKICAgICAgLy/lvZPliY3ova7mkq3lm77lm77niYcKICAgICAgaW1nOiAnaHR0cDovL3AxLm11c2ljLjEyNi5uZXQvcDhONnlmM2JBMEJhNTdIOEtlS1Y1QT09LzEwOTk1MTE2NzA1NTY2ODAxNC5qcGcnLAogICAgICBpbWdJbmRleDogMCwKICAgICAgdGltZXI6IGZ1bmN0aW9uIHRpbWVyKCkge30sCiAgICAgIGlzU2hvdzogdHJ1ZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v6I635Y+WYmFubmVy6LWE5rqQCiAgICBnZXRCYW5uZXI6IGZ1bmN0aW9uIGdldEJhbm5lcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kQVBJLnJlcUJhbm5lcigpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzdWx0LmJhbm5lcnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5pbWdMaXN0LnB1c2goewogICAgICAgICAgICAgICAgICAgIHVybDogaXRlbS5pbWFnZVVybCwKICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS50YXJnZXRJZCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiBpdGVtLnRhcmdldFR5cGUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzLmltZ051bSA9IF90aGlzLmltZ0xpc3QubGVuZ3RoOwogICAgICAgICAgICAgICAgX3RoaXMuaW1nID0gX3RoaXMuaW1nTGlzdFswXS51cmw7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+WIh+aNouWbvueJhwogICAgY2hhbmdlSW1nOiBmdW5jdGlvbiBjaGFuZ2VJbWcoaW5kZXgpIHsKICAgICAgdGhpcy5pbWcgPSB0aGlzLmltZ0xpc3RbaW5kZXhdLnVybDsKICAgICAgdGhpcy5zdG9wQmFubmVyKCk7CiAgICAgIHRoaXMuaW1nSW5kZXggPSBpbmRleDsKICAgICAgdGhpcy5zdGFydEJhbm5lcigpOwogICAgfSwKICAgIC8v5LiK5LiA5byg5Zu+54mHCiAgICBwcmU6IGZ1bmN0aW9uIHByZSgpIHsKICAgICAgdGhpcy5zdG9wQmFubmVyKCk7CiAgICAgIHRoaXMuaW1nSW5kZXgtLTsKICAgICAgaWYgKHRoaXMuaW1nSW5kZXggPCAwKSB0aGlzLmltZ0luZGV4ID0gdGhpcy5pbWdOdW0gLSAxOwogICAgICB0aGlzLmltZyA9IHRoaXMuaW1nTGlzdFt0aGlzLmltZ0luZGV4XS51cmw7CiAgICAgIHRoaXMuc3RhcnRCYW5uZXIoKTsKICAgIH0sCiAgICAvL+S4iuS4gOW8oOWbvueJhwogICAgbmV4OiBmdW5jdGlvbiBuZXgoKSB7CiAgICAgIHRoaXMuc3RvcEJhbm5lcigpOwogICAgICB0aGlzLmltZ0luZGV4Kys7CiAgICAgIGlmICh0aGlzLmltZ0luZGV4ID4gdGhpcy5pbWdOdW0gLSAxKSB0aGlzLmltZ0luZGV4ID0gMDsKICAgICAgdGhpcy5pbWcgPSB0aGlzLmltZ0xpc3RbdGhpcy5pbWdJbmRleF0udXJsOwogICAgICB0aGlzLnN0YXJ0QmFubmVyKCk7CiAgICB9LAogICAgLy/lvIDlkK/ova7mkq0KICAgIHN0YXJ0QmFubmVyOiBmdW5jdGlvbiBzdGFydEJhbm5lcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5pc1Nob3cgPSBmYWxzZTsKICAgICAgICBfdGhpczIuaW1nSW5kZXgrKzsKICAgICAgICBpZiAoX3RoaXMyLmltZ0luZGV4ID4gX3RoaXMyLmltZ051bSAtIDEpIF90aGlzMi5pbWdJbmRleCA9IDA7CiAgICAgICAgX3RoaXMyLmltZ0luZGV4LS07CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuaW1nID0gX3RoaXMyLmltZ0xpc3RbX3RoaXMyLmltZ0luZGV4ICsgMV0udXJsOwogICAgICAgICAgX3RoaXMyLmlzU2hvdyA9IHRydWU7CiAgICAgICAgICBfdGhpczIuaW1nSW5kZXgrKzsKICAgICAgICB9LCAxNDAwKTsKICAgICAgfSwgNDAwMCk7CiAgICB9LAogICAgLy/mmoLlgZzova7mkq0KICAgIHN0b3BCYW5uZXI6IGZ1bmN0aW9uIHN0b3BCYW5uZXIoKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICB9LAogICAgLy8g54K55Ye75Zue6LCDCiAgICBHbzogZnVuY3Rpb24gR28odHlwZSwgaWQpIHsKICAgICAgdmFyIHBhdGg7CiAgICAgIGlmICh0eXBlID09IDEpIHBhdGggPSAnL3NvbmcnO2Vsc2UgaWYgKHR5cGUgPT0gMTApIHBhdGggPSAnL2FsYnVtJzsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6IHBhdGgsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGlkOiBpZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICAvLyDojrflj5blm77niYfotYTmupDlubblvIDlkK/lrprml7blmagKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRCYW5uZXIoKTsKICAgIHRoaXMuc3RhcnRCYW5uZXIoKTsKICB9LAogIC8v6ZSA5q+B5YmN5YWz6Zet5a6a5pe25ZmoCiAgYmVmb3JlZGVzdHJveTogZnVuY3Rpb24gYmVmb3JlZGVzdHJveSgpIHsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACAA,gBADA;AAEAC,MAFA,kBAEA;AACA;AACA;AACAC,iBAFA;AAGAC,eAHA;AAIA;AACAC,oFALA;AAMAC,iBANA;AAOAC,gCAPA;AAQAC;AARA;AAUA,GAbA;AAcAC;AACA;AACAC,aAFA,uBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,sBADA;;AAAA;AACAC,sBADA;AAEAA;AACA;AAAAC;AAAAC;AAAAC;AAAA;AACA,iBAFA;AAGA;AACA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KATA;AAUA;AACAC,aAXA,qBAWAC,KAXA,EAWA;AACA;AACA;AACA;AACA;AACA,KAhBA;AAiBA;AACAC,OAlBA,iBAkBA;AACA;AACA;AACA;AACA;AACA;AACA,KAxBA;AAyBA;AACAC,OA1BA,iBA0BA;AACA;AACA;AACA;AACA;AACA;AACA,KAhCA;AAiCA;AACAC,eAlCA,yBAkCA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACAC;AACA;AACA;AACA;AACA,SAJA,EAIA,IAJA;AAKA,OAVA,EAUA,IAVA;AAWA,KA9CA;AA+CA;AACAC,cAhDA,wBAgDA;AACAC;AACA,KAlDA;AAmDA;AACAC,MApDA,cAoDAT,IApDA,EAoDAD,EApDA,EAoDA;AACA;AACA,yCACA;AACA;AACAW,kBADA;AAEAC;AACAZ;AADA;AAFA;AAMA;AA9DA,GAdA;AA8EA;AACAa,SA/EA,qBA+EA;AACA;AACA;AACA,GAlFA;AAmFA;AACAC,eApFA,2BAoFA;AACAL;AACA;AAtFA","names":["name","data","imgList","imgNum","img","imgIndex","timer","isShow","methods","getBanner","result","url","id","type","changeImg","index","pre","nex","startBanner","setTimeout","stopBanner","clearInterval","Go","path","query","mounted","beforedestroy"],"sourceRoot":"src/views/Home/Discover/Banner","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"banner-wrapper\">\n      <div class=\"wrapper\">\n          <!-- 图片框 -->\n        <div class=\"img-wrapper\">\n            <transition name=\"show\">\n                <img v-lazy=\"img\" v-show=\"isShow\" @click=\"Go(imgList[imgIndex].type,imgList[imgIndex].id)\">     \n            </transition>                     \n            <!-- 轮播图下的点 -->\n            <ul class=\"ponintList\">\n                <li v-for=\"(point,index) in imgList\" :key=\"index\" @click=\"changeImg(index)\" :class=\"{active:index == imgIndex}\"></li>                \n            </ul>\n            <!-- 轮播图两侧 -->\n            <div class=\"pre\" @click=\"pre\"></div>\n            <div class=\"nex\" @click=\"nex\"></div>\n        </div>\n        <!-- 下载 -->\n        <div class=\"download-wrapper\">\n            <div class=\"download\"></div>\n            <p>PC 安卓 iPhone WP iPad Mac 六大客户端</p>\n        </div>\n      </div>\n      <div class=\"img-blur\">\n        <img v-lazy=\"img\" class=\"blur\">\n       </div>\n  </div>\n</template>\n\n<script>\nexport default {\n    name:'banner',\n    data() {\n        return {\n            //全部图片\n            imgList:[],\n            imgNum:9,\n            //当前轮播图图片\n            img:'http://p1.music.126.net/p8N6yf3bA0Ba57H8KeKV5A==/109951167055668014.jpg',\n            imgIndex:0,\n            timer:function(){},\n            isShow:true, \n        }\n    },\n    methods:{\n        //获取banner资源\n        async getBanner(){\n            let result = await this.$API.reqBanner();\n            result.banners.forEach((item)=>{\n                this.imgList.push({url:item.imageUrl,id:item.targetId,type:item.targetType});\n            })\n            this.imgNum = this.imgList.length;\n            this.img = this.imgList[0].url;\n        },\n        //切换图片\n        changeImg(index){\n            this.img=this.imgList[index].url;\n            this.stopBanner();\n            this.imgIndex = index;\n            this.startBanner();\n        },\n        //上一张图片\n        pre(){\n            this.stopBanner();\n            this.imgIndex--;\n            if(this.imgIndex < 0) this.imgIndex = this.imgNum-1;\n            this.img = this.imgList[this.imgIndex].url;\n            this.startBanner();\n        },\n        //上一张图片\n        nex(){\n            this.stopBanner();\n            this.imgIndex++;\n            if(this.imgIndex > this.imgNum-1) this.imgIndex = 0;\n            this.img = this.imgList[this.imgIndex].url;\n            this.startBanner();\n        },\n        //开启轮播\n        startBanner(){\n            this.timer = setInterval(() => {\n                this.isShow=false;\n                this.imgIndex++;\n                if(this.imgIndex > this.imgNum-1) this.imgIndex = 0;\n                this.imgIndex--;\n                setTimeout(() => {\n                    this.img = this.imgList[this.imgIndex+1].url;\n                    this.isShow=true;     \n                    this.imgIndex++;\n                }, 1400);\n            }, 4000);\n        },\n        //暂停轮播\n        stopBanner(){\n            clearInterval(this.timer);\n        },\n        // 点击回调\n        Go(type,id){\n            let path;\n            if(type == 1) path = '/song';\n            else if(type == 10) path = '/album';\n            this.$router.push({\n                path,\n                query:{\n                    id\n                }\n            })\n        }\n    },\n    // 获取图片资源并开启定时器\n    mounted() {\n        this.getBanner();\n        this.startBanner();\n    },\n    //销毁前关闭定时器\n    beforedestroy(){\n        clearInterval(this.timer);\n    }\n}\n</script>\n\n<style scoped lang = \"less\">\n    .banner-wrapper{\n        height: 285px;\n        width: 100%;\n        position: relative;\n        .wrapper{\n            width: 984px;\n            height: 100%;\n            margin: 0 auto;\n            position: relative;\n            z-index: 1;\n            .img-wrapper{\n                width: 730px;\n                height: 100%;\n                z-index: 10;\n                &:hover{\n                    cursor: pointer;\n                }\n                img{\n                    width: 730px;\n                    height: 285px;\n                }\n                /* 点 */\n                .ponintList{\n                    width: 180px;\n                    height: 20px;\n                    position: absolute;\n                    z-index: 2;\n                    /* background: red; */\n                    bottom: 2px;\n                    left: 275px;\n                    display: flex;\n                    li{\n                        width: 20px;\n                        height: 20px;\n                        background: url('./images/banner.png') no-repeat 4px -343px;\n                        &:hover{\n                            background: url('./images/banner.png') no-repeat -15px -343px;\n                            cursor: pointer;\n                        }\n                    }\n                }\n                li.active{\n                      background: url('./images/banner.png') no-repeat -15px -343px;\n                }\n                /* 箭头 */\n                .pre,\n                .nex{\n                    width: 37px;\n                    height: 63px;\n                    position: absolute;\n                    top:111px;\n                }\n                /* 上一个 */\n                .pre{\n                    left: -68px;\n                    background: url('./images/banner.png') no-repeat 0 -360px;\n                    &:hover{\n                        background-position: 0 -430px;\n                        cursor: pointer;\n                    }\n                }\n                /* 下一个 */\n                .nex{\n                    right: -68px;\n                    background: url('./images/banner.png') no-repeat 0 -508px;\n                    &:hover{\n                        background-position: 0 -578px;\n                        cursor: pointer;\n                    }\n                }\n            }\n\n        }\n        /* 下载 */\n        .download-wrapper{\n            width: 254px;\n            height: 100%;\n            position: absolute;\n            right: 0;\n            top:0;\n            background: url('./images/download.png') no-repeat;\n\n            .download{\n                width: 215px;\n                height: 56px;\n                margin: 185px 0 0 19px;\n                \n                &:hover{\n                    background-color: rgba(0, 0, 205, 0.1);\n                    cursor: pointer;\n                }\n            }\n            p{\n                margin-top:10px;\n                text-align: center;\n            }\n        }\n        /* 背景模糊图片 */\n        .img-blur{\n            width: 100%;\n            height: 285px;\n            overflow: hidden;\n            .blur{\n                width: 100%;\n                height: 100%;\n                position: absolute;\n                top: 0;\n                z-index: 0;\n                -webkit-filter: blur(30px); /* Chrome, Opera */\n                -moz-filter: blur(30px);\n                -ms-filter: blur(10px);    \n                filter: blur(15px);    \n                -webkit-user-select: none;\n                -moz-user-select: none;\n                -ms-user-select: none;\n                user-select: none;\n            }\n        }\n        .show-enter-active{\n        animation:atguigu 1.4s;\n        }\n        .show-leave-active{\n            animation:atguigu 1.4s reverse;\n        }\n        @keyframes atguigu {\n            from{\n                opacity: 0.6;\n            }\n\n            to{\n                opacity: 1;\n            }\n        }\n        }\n</style>"]}]}