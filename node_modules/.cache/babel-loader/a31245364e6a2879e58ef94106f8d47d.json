{"remainingRequest":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\babel-loader\\lib\\index.js!D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\test1\\vue-neteasemusic\\cloud-master\\src\\views\\Home\\Album\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\src\\views\\Home\\Album\\index.vue","mtime":1658216875307},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\babel.config.js","mtime":1654515726000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3Rlc3QxL3Z1ZS1uZXRlYXNlbXVzaWMvY2xvdWQtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9QYWdpbmF0aW9uJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhbGJ1bSIsCiAgY29tcG9uZW50czogewogICAgUGFnaW5hdGlvbjogUGFnaW5hdGlvbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8v54Ot6Zeo5paw56KfCiAgICAgIGhvdEFsYnVtczogW10sCiAgICAgIC8v5YWo6YOo5paw56KfCiAgICAgIGFsbEFsYnVtOiBbXSwKICAgICAgLy/lsZXnpLrnmoTlhajpg6jmlrDnop8KICAgICAgc2hvd0FsYnVtczogW10sCiAgICAgIC8v5YWo6YOo5paw56Kf55qE5qCH6aKY5YiG57G7CiAgICAgIHRpdGxlOiBbewogICAgICAgIG5hbWU6ICflhajpg6gnLAogICAgICAgIGFyZWE6ICdBTEwnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5Y2O6K+tJywKICAgICAgICBhcmVhOiAnWkgnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5qyn576OJywKICAgICAgICBhcmVhOiAnRUEnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn6Z+p5Zu9JywKICAgICAgICBhcmVhOiAnS1InCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5pel5pysJywKICAgICAgICBhcmVhOiAnSlAnCiAgICAgIH1dLAogICAgICBwYWdlU2l6ZTogMzUsCiAgICAgIHBhZ2VObzogMSwKICAgICAgdHlwZTogJ25ldycsCiAgICAgIHRvdGFsOiAxMDAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGFyZWE6IGZ1bmN0aW9uIGFyZWEoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5hcmVhID09IHVuZGVmaW5lZCkgcmV0dXJuICJBTEwiOwogICAgICByZXR1cm4gdGhpcy4kcm91dGUucXVlcnkuYXJlYTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBhcmVhOiBmdW5jdGlvbiBhcmVhKCkgewogICAgICB0aGlzLmdldEFsbCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W54Ot6Zeo5paw56KfCiAgICBnZXROZXdzZXQ6IGZ1bmN0aW9uIGdldE5ld3NldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kQVBJLnJlcUFsYnVtTmV3c2V0KCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpcy5ob3RBbGJ1bXMgPSByZXN1bHQuYWxidW1zLnNsaWNlKDAsIDEwKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOiOt+WPluWFqOmDqOaWsOeinwogICAgZ2V0QWxsOiBmdW5jdGlvbiBnZXRBbGwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kQVBJLnJlcUFsYnVtKF90aGlzMi5wYWdlU2l6ZSwgKF90aGlzMi5wYWdlTm8gLSAxKSAqIF90aGlzMi5wYWdlU2l6ZSwgX3RoaXMyLmFyZWEsIF90aGlzMi50eXBlKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC53ZWVrRGF0YSkgewogICAgICAgICAgICAgICAgICBfdGhpczIudG90YWwgPSByZXN1bHQud2Vla0RhdGEubGVuZ3RoOwogICAgICAgICAgICAgICAgICBfdGhpczIuYWxsQWxidW0gPSByZXN1bHQud2Vla0RhdGE7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczIudG90YWwgPSByZXN1bHQubW9udGhEYXRhLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmFsbEFsYnVtID0gcmVzdWx0Lm1vbnRoRGF0YTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIuY2hhbmdlQWxidW1zKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v5omL5Yqo5YiG6aG1CiAgICBjaGFuZ2VBbGJ1bXM6IGZ1bmN0aW9uIGNoYW5nZUFsYnVtcygpIHsKICAgICAgdGhpcy5zaG93QWxidW1zID0gdGhpcy5hbGxBbGJ1bS5zbGljZSgodGhpcy5wYWdlTm8gLSAxKSAqIHRoaXMucGFnZVNpemUsIHRoaXMucGFnZVNpemUgKiB0aGlzLnBhZ2VObyk7CiAgICB9LAogICAgLy/mlLnlj5jlnLDljLrpgInmi6kKICAgIGNoYW5nZUFyZWE6IGZ1bmN0aW9uIGNoYW5nZUFyZWEoYXJlYSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9ob21lL2FsYnVtJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgYXJlYTogYXJlYQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/mjqXlj5flvZPliY3pobXnoIEKICAgIGdldFBhZ2VObzogZnVuY3Rpb24gZ2V0UGFnZU5vKHBhZ2VObykgewogICAgICB0aGlzLnBhZ2VObyA9IHBhZ2VObzsKICAgICAgdGhpcy5jaGFuZ2VBbGJ1bXMoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldE5ld3NldCgpOwogICAgdGhpcy5nZXRBbGwoKTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACAA,eADA;AAEAC;AAAAC;AAAA,GAFA;AAGAC,MAHA,kBAGA;AACA;AACA;AACAC,mBAFA;AAGA;AACAC,kBAJA;AAKA;AACAC,oBANA;AAOA;AACAC,cACA;AACAP,kBADA;AAEAQ;AAFA,OADA,EAKA;AACAR,kBADA;AAEAQ;AAFA,OALA,EASA;AACAR,kBADA;AAEAQ;AAFA,OATA,EAaA;AACAR,kBADA;AAEAQ;AAFA,OAbA,EAiBA;AACAR,kBADA;AAEAQ;AAFA,OAjBA,CARA;AA8BAC,kBA9BA;AA+BAC,eA/BA;AAgCAC,iBAhCA;AAiCAC;AAjCA;AAmCA,GAvCA;AAwCAC;AACAL,QADA,kBACA;AACA;AACA;AACA;AAJA,GAxCA;AA8CAM;AACAN,QADA,kBACA;AACA;AACA;AAHA,GA9CA;AAmDAO;AACA;AACAC,aAFA,uBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,2BADA;;AAAA;AACAC,sBADA;AAEA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KALA;AAMA;AACAC,UAPA,oBAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,sGADA;;AAAA;AACAD,sBADA;;AAEA,qCACA;AACA;AACA;AACA,iBAJA,MAKA;AACA;AACA;AACA;;AACA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA,KAnBA;AAoBA;AACAE,gBArBA,0BAqBA;AACA;AACA,KAvBA;AAwBA;AACAC,cAzBA,sBAyBAZ,IAzBA,EAyBA;AACA;AACAa,2BADA;AAEAC;AACAd;AADA;AAFA;AAMA,KAhCA;AAiCA;AACAe,aAlCA,qBAkCAb,MAlCA,EAkCA;AACA;AACA;AACA;AArCA,GAnDA;AA0FAc,SA1FA,qBA0FA;AACA;AACA;AACA;AA7FA","names":["name","components","Pagination","data","hotAlbums","allAlbum","showAlbums","title","area","pageSize","pageNo","type","total","computed","watch","methods","getNewset","result","getAll","changeAlbums","changeArea","path","query","getPageNo","mounted"],"sourceRoot":"src/views/Home/Album","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"album\">\n    <!-- 热门新碟 -->\n    <div class=\"hot clearfix\">\n      <div class=\"tit\">\n        <h3><span>热门新碟</span></h3>\n      </div>\n      <ul class=\"m-list clearfix\">\n        <li v-for=\"album,index in hotAlbums\" :key=\"index\">\n          <img v-lazy=\"album.blurPicUrl\" />\n          <router-link :to=\"{path:'/album',query:{id:`${album.id}`}}\"></router-link>\n          <p class=\"over name\" :title=\"album.name\">\n            <router-link :to=\"{path:'/album',query:{id:`${album.id}`}}\" style=\"color:#333;\">{{album.name}}</router-link>\n          </p>\n          <p class=\"over artist\">\n            <span v-for=\"artist,index in album.artists\" :key=\"index\">\n              <router-link :to=\"{path:'/artist/song',query:{id:artist.id}}\" :title=\"artist.name\" class=\"underline\">{{artist.name}}</router-link>\n              <span v-if=\"index != album.artists.length-1\">&nbsp;&nbsp;/&nbsp;&nbsp;</span>\n            </span>\n          </p>\n          <a class=\"play\"></a>\n        </li>\n      </ul>      \n    </div>\n    <!-- 全部新碟 -->\n    <div class=\"all\">\n      <div class=\"tit\">\n        <h3><span>全部新碟</span></h3>\n        <div class=\"tab clearfix\">\n          <li v-for=\"tit,index in title\" :key=\"index\">\n            <a class=\"underline\" @click=\"changeArea(tit.area)\">{{tit.name}}</a>\n            <span class=\"line\" v-if=\"index != 4\">|</span>\n          </li>\n        </div>\n      </div>\n      <ul class=\"m-list clearfix\">\n        <li v-for=\"album,index in showAlbums\" :key=\"index\">\n          <img v-lazy=\"album.blurPicUrl\" />\n          <router-link :to=\"{path:'/album',query:{id:`${album.id}`}}\"></router-link>\n          <p class=\"over name\" :title=\"album.name\">\n            <router-link :to=\"{path:'/album',query:{id:`${album.id}`}}\" style=\"color:#333;\">{{album.name}}</router-link>\n          </p>\n          <p class=\"over artist\">\n            <span v-for=\"artist,index in album.artists\" :key=\"index\">\n                  <router-link :to=\"{path:'/artist/song',query:{id:artist.id}}\" :title=\"artist.name\" class=\"underline\">{{artist.name}}</router-link>\n              <span v-if=\"index != album.artists.length-1\">&nbsp;&nbsp;/&nbsp;&nbsp;</span>\n            </span>\n          </p>\n          <a class=\"play\"></a>\n        </li>\n      </ul>  \n    </div>\n    <!-- 分页器 -->\n    <Pagination :pageNo='pageNo' :pageSize='pageSize' :total='total' :continues='5' @getPageNo=\"getPageNo\"></Pagination>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination'\nexport default {\n  name: \"album\",\n  components:{Pagination},\n  data() {\n    return {\n      //热门新碟\n      hotAlbums:[],\n      //全部新碟\n      allAlbum:[],\n      //展示的全部新碟\n      showAlbums:[],\n      //全部新碟的标题分类\n      title:[\n        {\n          name:'全部',\n          area:'ALL',\n        },\n        {\n          name:'华语',\n          area:'ZH',\n        },\n        {\n          name:'欧美',\n          area:'EA',\n        },\n        {\n          name:'韩国',\n          area:'KR',\n        },\n        {\n          name:'日本',\n          area:'JP',\n        },\n      ],\n      pageSize:35,\n      pageNo:1,\n      type:'new',\n      total:1000,\n    }\n  },\n  computed:{\n    area(){\n      if(this.$route.query.area == undefined) return \"ALL\";\n      return this.$route.query.area;\n    }\n  },\n  watch:{\n    area(){\n      this.getAll();\n    }\n  },\n  methods:{\n    // 获取热门新碟\n    async getNewset(){\n      let result = await this.$API.reqAlbumNewset();\n      this.hotAlbums = result.albums.slice(0,10);\n    },\n    // 获取全部新碟\n    async getAll(){\n      let result = await this.$API.reqAlbum(this.pageSize,(this.pageNo-1)*this.pageSize,this.area,this.type);\n      if(result.weekData)\n      {\n        this.total = result.weekData.length;\n        this.allAlbum = result.weekData;  \n      }\n      else{\n        this.total = result.monthData.length;\n        this.allAlbum = result.monthData;\n      }\n      this.changeAlbums();\n    },\n    //手动分页\n    changeAlbums(){ \n      this.showAlbums = this.allAlbum.slice((this.pageNo-1)*this.pageSize,this.pageSize*this.pageNo);\n    },\n    //改变地区选择\n    changeArea(area){\n      this.$router.push({\n        path:'/home/album',\n        query:{\n          area\n        }\n      })\n    },\n    //接受当前页码\n    getPageNo(pageNo){\n      this.pageNo = pageNo;\n      this.changeAlbums();\n    }\n  },\n  mounted(){\n    this.getNewset();\n    this.getAll();\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.album {\n  width: 982px;\n  margin: 0 auto;\n  border: 1px solid #d3d3d3;\n  background-color: #fff;\n  min-height: 700px;\n  padding: 40px;\n  .hot{\n    .tit {\n    width: 100%;\n    height: 42px;\n    border-bottom: 2px solid #c20c0c;\n\n    h3 {\n      float: left;\n      font-size: 24px;\n      font-weight: normal;\n      color: #333;\n    }\n  }\n  }\n  .all{\n    .tit {\n      width: 100%;\n      height: 42px;\n      border-bottom: 2px solid #c20c0c;\n      h3 {\n        float: left;\n        font-size: 24px;\n        font-weight: normal;\n        color: #333;\n      }\n      .tab{\n        float: left;\n        margin: 12px 0 0 20px;\n\n        li{\n          float: left;\n          a{\n            float: left;\n            &:hover{\n              color: #666;\n            }\n          }\n          .line{\n            display: block;\n            float: left;\n            margin: 0 10px;\n            margin-top: -2px;\n          }\n        }\n      }\n    }\n  }\n  .m-list {\n    margin: 20px 0 0 -33px;\n    width: 933px;\n    min-height: 416px;\n\n    li {\n      float: left;\n      width: 186px;\n      height: 208px;\n      padding: 0 0 30px 33px;\n      position: relative;\n      img {\n        width: 130px;\n        height: 130px;\n      }\n      >a {\n        width: 153px;\n        height: 130px;\n        position: absolute;\n        top: 0;\n        left: 33px;\n        background: url(\"./images/coverall.png\") no-repeat 0 -845px;\n        &:hover {\n          cursor: pointer;\n        }\n      }\n      .name {\n        text-align: left;\n        color: #333;\n        font-family: Arial, Helvetica, sans-serif;\n        -webkit-text-size-adjust: none;\n        display: block;\n        margin: 8px 0 3px;\n        font-size: 14px;\n\n        &:hover {\n          cursor: pointer;\n          text-decoration: underline;\n        }\n      }\n      .artist{\n        a:hover{\n          color: #666;\n        }\n      }\n      .play {\n        position: absolute;\n        width: 28px;\n        height: 28px;\n        left: 130px;\n        top: 95px;\n        background: url(\"./images/iconall.png\") no-repeat 0 -140px;\n        display: none;\n      }\n      &:hover .play {\n        display: block;\n      }\n    }\n  }\n}\n</style>"]}]}