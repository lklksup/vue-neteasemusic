{"remainingRequest":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\babel-loader\\lib\\index.js!D:\\test1\\cloud-master\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\test1\\cloud-master\\cloud-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\test1\\cloud-master\\cloud-master\\src\\views\\Song\\MainerLeft\\Comment\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\test1\\cloud-master\\cloud-master\\src\\views\\Song\\MainerLeft\\Comment\\index.vue","mtime":1654515726000},{"path":"D:\\test1\\cloud-master\\cloud-master\\babel.config.js","mtime":1654515726000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3Rlc3QxL2Nsb3VkLW1hc3Rlci9jbG91ZC1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9QYWdpbmF0aW9uJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdwbGF5bGlzdGNvbW1pdCcsCiAgY29tcG9uZW50czogewogICAgUGFnaW5hdGlvbjogUGFnaW5hdGlvbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaFBhcmFtczogewogICAgICAgIHRvdGFsOiAyMTA5NzIsCiAgICAgICAgcGFnZVNpemU6IDMwLAogICAgICAgIHBhZ2VObzogMQogICAgICB9LAogICAgICBjb21MaXN0OiBbXSwKICAgICAgaG90bGlzdDogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaWQ6IGZ1bmN0aW9uIGlkKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuaWQgPT0gdW5kZWZpbmVkKSByZXR1cm4gJzE5MTUyOTcwMzMnOwogICAgICByZXR1cm4gdGhpcy4kcm91dGUucXVlcnkuaWQ7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaWQ6IGZ1bmN0aW9uIGlkKCkgewogICAgICB0aGlzLmdldENvbW1lbnQoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8v6I635Y+W6K+E6K66CiAgICBnZXRDb21tZW50OiBmdW5jdGlvbiBnZXRDb21tZW50KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRBUEkucmVxQ29tbWVudE11c2ljKF90aGlzLmlkLCBfdGhpcy5zZWFyY2hQYXJhbXMucGFnZVNpemUsIChfdGhpcy5zZWFyY2hQYXJhbXMucGFnZU5vIC0gMSkgKiBfdGhpcy5zZWFyY2hQYXJhbXMucGFnZVNpemUsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdDT09LSUUnKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpcy5zZWFyY2hQYXJhbXMudG90YWwgPSByZXN1bHQudG90YWw7CiAgICAgICAgICAgICAgICBfdGhpcy5jb21MaXN0ID0gcmVzdWx0LmNvbW1lbnRzOwoKICAgICAgICAgICAgICAgIF90aGlzLmNvbUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICBpdGVtLmNvbnRlbnQgPSBpdGVtLmNvbnRlbnQucmVwbGFjZSgvXG4vZywgJzxicj4nKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0KCdDb21tZW50TnVtJywgX3RoaXMuc2VhcmNoUGFyYW1zLnRvdGFsKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOiOt+WPlueDremXqOivhOiuugogICAgZ2V0Q29tbWVudEhvdDogZnVuY3Rpb24gZ2V0Q29tbWVudEhvdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRBUEkucmVxQ29tbWVudEhvdChfdGhpczIuaWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5ob3RsaXN0ID0gcmVzdWx0LmhvdENvbW1lbnRzOwoKICAgICAgICAgICAgICAgIF90aGlzMi5ob3RsaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgaXRlbS5jb250ZW50ID0gaXRlbS5jb250ZW50LnJlcGxhY2UoL1xuL2csICc8YnI+Jyk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/ojrflj5blvZPliY3pobXmlbAKICAgIGdldFBhZ2VObzogZnVuY3Rpb24gZ2V0UGFnZU5vKHBhZ2VObykgewogICAgICB0aGlzLnNlYXJjaFBhcmFtcy5wYWdlTm8gPSBwYWdlTm87CiAgICAgIHRoaXMuZ2V0Q29tbWVudCgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0Q29tbWVudCgpOwogICAgdGhpcy5nZXRDb21tZW50SG90KCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACAA,wBADA;AAEAC;AAAAC;AAAA,GAFA;AAGAC,MAHA,kBAGA;AACA;AACAC;AACAC,qBADA;AAEAC,oBAFA;AAGAC;AAHA,OADA;AAMAC,iBANA;AAOAC;AAPA;AASA,GAbA;AAcAC;AACAC,MADA,gBACA;AACA;AACA;AACA;AAJA,GAdA;AAoBAC;AACAD,MADA,gBACA;AACA;AACA;AAHA,GApBA;AAyBAE;AACA;AACAC,cAFA,wBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,gKADA;;AAAA;AACAC,sBADA;AAEA;AACA;;AACA;AACAC;AACA,iBAFA;;AAGA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KAVA;AAWA;AACAC,iBAZA,2BAYA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,oCADA;;AAAA;AACAF,sBADA;AAEA;;AACA;AACAC;AACA,iBAFA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KAlBA;AAmBA;AACAE,aApBA,qBAoBAX,MApBA,EAoBA;AACA;AACA;AACA;AAvBA,GAzBA;AAkDAY,SAlDA,qBAkDA;AACA;AACA;AACA;AArDA","names":["name","components","Pagination","data","searchParams","total","pageSize","pageNo","comList","hotlist","computed","id","watch","methods","getComment","result","item","getCommentHot","getPageNo","mounted"],"sourceRoot":"src/views/Song/MainerLeft/Comment","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"comment\">\n      <!-- 顶部 -->\n      <div class=\"header\">\n          <h3>评论</h3>\n          <span class=\"num\">共{{searchParams.total}}条评论</span>\n      </div>\n      <div class=\"mainer\">\n          <!-- 发表评论区 -->\n          <div class=\"flag\">\n              <div class=\"head\">\n                  <img src=\"https://p3.music.126.net/dwslx7VNYE-h8TP0VkBxcg==/109951165800028895.jpg?param=50y50\">\n              </div>\n              <div class=\"txt\">\n                  <textarea class=\"u-txt\" cols=\"30\" rows=\"10\" placeholder=\"评论\"></textarea>\n                  <em class=\"arrline\">◆</em>\n                  <em class=\"arrline-shadow\">◆</em>\n                  <div class=\"shadow\"></div>\n              </div>\n              <div class=\"btns\">\n                  <i class=\"emjoy\"></i>\n                  <i class=\"at\"></i>\n                  <a>评论</a>\n                  <span>140</span>\n                  \n              </div>\n          </div>\n        <!-- 热门评论 -->\n          <div class=\"new\">\n              <h3 class=\"hd\">精彩评论</h3>\n              <div class=\"itm\" v-for=\"com,index in hotlist\" :key=\"index\">\n                  <div class=\"avatar\">\n                       <img :src=\"com.user.avatarUrl\">\n                  </div>\n                  <div class=\"cntwrap\">\n                      <div class=\"cnt\">\n                          <a>{{com.user.nickname}}</a>：\n                          <span  v-html=\"com.content\"> </span>\n                          <div class=\"que\" v-show=\"com.beReplied[0]\">\n                              <a class=\"fc\" v-if=\"com.beReplied[0]\">{{com.beReplied[0].user.nickname}}</a>\n                              <span v-if=\"com.beReplied[0]\">：{{com.beReplied[0].content}}</span>\n                          </div>\n                      </div>\n                      <div class=\"rp\">\n                          <span class=\"time\">\n                              {{com.timeStr}}\n                          </span>\n                          <a class=\"fc\">回复</a>\n                          <span class=\"sep\">|</span>\n                          <a class=\"like\">\n                              <i class=\"zan\"></i>\n                              <span v-show=\"com.likedCount != 0 \">({{com.likedCount}})</span>\n                          </a>  \n                      </div>\n                  </div>\n              </div>\n          </div>  \n          <!-- 最新评论 -->\n          <div class=\"new\">\n              <h3 class=\"hd\">最新评论({{searchParams.total}})</h3>\n              <div class=\"itm\" v-for=\"com,index in comList\" :key=\"index\">\n                  <div class=\"avatar\">\n                       <img :src=\"com.user.avatarUrl\">\n                  </div>\n                  <div class=\"cntwrap\">\n                      <div class=\"cnt\">\n                          <a>{{com.user.nickname}}</a>：\n                          <span v-html=\"com.content\"></span>\n                          <div class=\"que\" v-show=\"com.beReplied[0]\">\n                              <a class=\"fc\" v-if=\"com.beReplied[0]\">{{com.beReplied[0].user.nickname}}</a>\n                              <span v-if=\"com.beReplied[0]\">：{{com.beReplied[0].content}}</span>\n                          </div>\n                      </div>\n                      <div class=\"rp\">\n                          <span class=\"time\">\n                              {{com.timeStr}}\n                          </span>\n                          <a class=\"fc\">回复</a>\n                          <span class=\"sep\">|</span>\n                          <a class=\"like\">\n                              <i class=\"zan\"></i>\n                              <span v-show=\"com.likedCount != 0 \">({{com.likedCount}})</span>\n                          </a>  \n                      </div>\n                  </div>\n              </div>\n          </div>   \n           <!--分页器  -->\n          <Pagination :pageNo='searchParams.pageNo' :pageSize='searchParams.pageSize' :total='searchParams.total' :continues='5' @getPageNo=\"getPageNo\"></Pagination>\n      </div>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination'\nexport default {\n    name:'playlistcommit',\n    components:{Pagination},\n    data() {\n        return {\n            searchParams:{\n                total:210972,\n                pageSize:30,\n                pageNo:1,\n            },\n            comList:[],\n            hotlist:[],\n        }\n    },\n    computed:{\n        id(){\n            if(this.$route.query.id == undefined) return '1915297033';\n            return this.$route.query.id;\n        }\n    },\n    watch:{\n        id(){\n            this.getComment();\n        }\n    },\n    methods:{\n        //获取评论\n        async getComment(){\n            let result = await this.$API.reqCommentMusic(this.id,this.searchParams.pageSize,(this.searchParams.pageNo-1)*(this.searchParams.pageSize),localStorage.getItem('COOKIE'));\n            this.searchParams.total = result.total;\n            this.comList = result.comments;\n            this.comList.forEach(item=>{\n                item.content = item.content.replace(/\\n/g,'<br>');\n            });\n            this.$emit('CommentNum',this.searchParams.total);\n        },\n        // 获取热门评论\n        async getCommentHot(){\n            let result = await this.$API.reqCommentHot(this.id);\n            this.hotlist = result.hotComments;\n            this.hotlist.forEach(item=>{\n                item.content = item.content.replace(/\\n/g,'<br>');\n            });\n        },\n        //获取当前页数\n        getPageNo(pageNo) {\n            this.searchParams.pageNo = pageNo;\n            this.getComment();\n        },\n    },\n    mounted(){\n        this.getComment();\n        this.getCommentHot();\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n    .comment{\n        width: 640px;\n        margin: 0 auto;\n        margin-top: 50px;\n        padding-bottom: 130px;\n        .header{\n            width: 100%;\n            height: 35px;\n            border-bottom: 2px solid #c20c0c;\n            h3{\n                float: left;\n                font-size: 20px;\n                color: #333;\n                font-family: \"Microsoft Yahei\", Arial, Helvetica, sans-serif;\n                font-weight: normal;\n            }\n            .num{\n                float: left;\n                margin: 9px 0 0 20px;\n            }\n        }\n        .mainer{\n            margin-top:20px ;\n            width: 100%;\n            display: block;\n            .flag{\n                width: 640px;\n                height: 98px;\n                .head{\n                    width: 50px;\n                    height: 50px;\n                    float: left;\n                    img{\n                        width: 100%;\n                    }\n                }\n                .txt{\n                    float: left;\n                    width: 578px;\n                    height: 63px;\n                    margin-left: 12px;\n                    position: relative;\n                    .u-txt{\n                        font-size: 12px;\n                        color: #333;\n                        font-family: Arial, Helvetica, sans-serif;\n                        -webkit-text-size-adjust: none;\n                        width: 100%;\n                        height: 63px;\n                        padding: 5px 6px 6px;\n                        border: 1px solid #cdcdcd;\n                        border-radius: 2px;\n                        line-height: 19px;\n                        resize: none;\n                        outline:none;\n                    }\n                    .arrline{\n                        position: absolute;\n                        left: -9px;\n                        top: -6px;\n                        font-size: 30px;\n                        color: #cdcdcd;\n                    }\n                    .arrline-shadow{\n                        position: absolute;\n                        left: -7px;\n                        top: -3.5px;\n                        font-size: 27px;\n                        color: #Fff;\n                    }\n                    .shadow{\n                        width: 7px;\n                        height: 18px;\n                        position: absolute;\n                        left: 1px;\n                        top: 8px;\n                        background: #fff;\n                        z-index: 10;\n                    }\n                }\n                .btns{\n                    float: left;\n                    width: 578px;\n                    height: 35px;\n                    padding-top: 10px;\n                    margin-left: 62px;\n                    i{\n                        display: block;\n                        float: left;\n                        width: 18px;\n                        height: 18px;\n                        margin-right: 10px;\n                        background: url(\"../../images/icon.png\") no-repeat;\n                    }\n                    .emjoy{\n                        background-position: -40px -490px;\n                    }\n                    .at{\n                        background-position: -60px -490px;\n                    }\n                    span{\n                        float: right;\n                        margin-right: 10px;\n                        line-height: 25px;\n                    }\n                    a{\n                        float: right;\n                        width: 46px;\n                        height: 25px;\n                        text-align: center;\n                        line-height:24px;\n                        background: url(\"../../images/button.png\") no-repeat -84px -94px;\n                        color: #fff;\n\n                        &:hover{\n                            background-position: -84px -64px;\n                            cursor: pointer;\n                        }\n                    }\n                }\n            }\n            .new{\n                display: block;\n                width: 100%;\n                // border-bottom: 1px solid #cfcfcf;\n                margin-top: 20px;\n                margin-bottom: 25px;\n                .itm{\n                    width: 100%;\n                    padding: 15px 0;\n                    border-top: 1px dotted #ccc;\n                    display: flex;\n                    .avatar{\n                        width: 50px;\n                        height: 50px;\n                        img{\n                            width: 100%;\n                        }\n                    }\n                    .cntwrap{\n                        margin-left: 15px;\n                        width: 605px;\n                        .cnt>a{\n                            color: #0c73c2;\n                            &:hover{\n                                cursor: pointer;\n                                text-decoration: underline;\n                            }  \n                        }\n                        .que{\n                            padding: 8px 19px;\n                            margin-top: 10px;\n                            line-height: 20px;\n                            background: #f4f4f4;\n                            border: 1px solid #dedede;\n\n                            a{\n                                color: #0c73c2;\n                                &:hover{\n                                    cursor: pointer;\n                                    text-decoration: underline;\n                                } \n                            }\n                        }\n\n                        .rp{\n                            margin-top: 15px;\n\n                            .time{\n                                float: left;\n                                color: #999;\n                            }\n                            .like,.sep,.fc{\n                                float: right;\n                            }\n                            .sep{\n                                margin: 0 8px;\n                            }\n\n                            .fc{\n                                color: #666;\n                                \n                                &:hover{\n                                    color: #666;\n                                    cursor: pointer;\n                                    text-decoration: underline;\n                                }\n                            }\n                            .like{\n                                .zan{\n                                    margin-right: 5px;\n                                    vertical-align: -2px;\n                                    margin-top: -4px;\n                                    width: 15px;\n                                    height: 14px;\n                                    display: inline-block;\n                                    background: url(\"../../images/icon2.png\") no-repeat;\n                                    background-position: -150px 0;\n                                }\n                                &:hover{\n                                    color: #666;\n                                    cursor: pointer;\n                                    text-decoration: underline;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n</style>"]}]}