{"remainingRequest":"D:\\github-project\\vue-neteasemusic\\node_modules\\babel-loader\\lib\\index.js!D:\\github-project\\vue-neteasemusic\\src\\api\\request.js","dependencies":[{"path":"D:\\github-project\\vue-neteasemusic\\src\\api\\request.js","mtime":1658251279351},{"path":"D:\\github-project\\vue-neteasemusic\\babel.config.js","mtime":1654515726000},{"path":"D:\\github-project\\vue-neteasemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\github-project\\vue-neteasemusic\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovZ2l0aHViLXByb2plY3QvdnVlLW5ldGVhc2VtdXNpYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tICdAL3V0aWxzL2Nvb2tpZSc7IC8vIOW8leWFpei/m+W6puadoQoKaW1wb3J0IG5wcm9ncmVzcyBmcm9tICducHJvZ3Jlc3MnOyAvLyDlvJXlhaXov5vluqbmnaHmoLflvI8KCmltcG9ydCAibnByb2dyZXNzL25wcm9ncmVzcy5jc3MiOyAvLyBzdGFydCDov5vluqbmnaHlvIDlp4sgIGRvbmUg6L+b5bqm5p2h57uT5p2fCgp2YXIgcmVxdWVzdHMgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICJodHRwOi8vMTI3LjAuMC4xOjMwMDAvIiwKICAvLyDku6Pooajor7fmsYLotoXml7bnmoTml7bpl7Q1cwogIHRpbWVvdXQ6IDUwMDAsCiAgaGVhZGVyczogewogICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnCiAgfQp9KTsgLy/or7fmsYLmi6bmiKrlmagKCnJlcXVlc3RzLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy9jb25maWcg6YWN572u5a+56LGhIOWvueixoeacieS4gOS4quWxnuaAp+W+iOmHjeimgSBoZWFkZXJzCiAgLy8gY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVE9LRU4iKTsKICAvLyBpZih0b2tlbil7CiAgLy8gICBjb25maWcuaGVhZGVycy50b2tlbj0gdG9rZW47ICAKICAvLyB9CiAgbnByb2dyZXNzLnN0YXJ0KCk7IC8v5re75Yqg5pe26Ze05oizCgogIGlmIChjb25maWcubWV0aG9kID09ICdwb3N0JykgewogICAgY29uZmlnLmRhdGEgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvbmZpZy5kYXRhKSwge30sIHsKICAgICAgX3Q6IERhdGUucGFyc2UobmV3IERhdGUoKSkgLyAxMDAwCiAgICB9KTsKICB9IGVsc2UgaWYgKGNvbmZpZy5tZXRob2QgPT0gJ2dldCcpIHsKICAgIGNvbmZpZy5wYXJhbXMgPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgX3Q6IERhdGUucGFyc2UobmV3IERhdGUoKSkgLyAxMDAwCiAgICB9LCBjb25maWcucGFyYW1zKTsKICB9CgogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKGVycm9yKTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy/lk43lupTmi6bmiKrlmagKCnJlcXVlc3RzLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgLy/miJDlip/nmoTlm57osIPlh73mlbDvvIzmnI3liqHlmajlk43lupTmlbDmja7lm57mnaXku6XlkI4KICBucHJvZ3Jlc3MuZG9uZSgpOwogIHJldHVybiByZXNwb25zZS5kYXRhOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBjb25zb2xlLmxvZyhlcnJvcik7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZmFpbCcpKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJlcXVlc3RzOw=="},{"version":3,"sources":["D:/github-project/vue-neteasemusic/src/api/request.js"],"names":["axios","store","getToken","nprogress","requests","create","baseURL","timeout","headers","interceptors","request","use","config","start","method","data","_t","Date","parse","params","error","console","log","Promise","reject","response","done","Error"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,QAAT,QAAyB,gBAAzB,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,WAAtB,C,CACA;;AACA,OAAO,yBAAP,C,CACA;;AACA,IAAMC,QAAQ,GAAGJ,KAAK,CAACK,MAAN,CAAa;AAC5BC,EAAAA,OAAO,EAAE,wBADmB;AAE5B;AACAC,EAAAA,OAAO,EAAE,IAHmB;AAI5BC,EAAAA,OAAO,EAAE;AAAE,oBAAgB;AAAlB;AAJmB,CAAb,CAAjB,C,CAMA;;AACAJ,QAAQ,CAACK,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,UAACC,MAAD,EAAY;AAC5C;AACA;AACA;AACA;AACA;AACAT,EAAAA,SAAS,CAACU,KAAV,GAN4C,CAO5C;;AACA,MAAID,MAAM,CAACE,MAAP,IAAiB,MAArB,EAA6B;AAC3BF,IAAAA,MAAM,CAACG,IAAP,mCACKH,MAAM,CAACG,IADZ;AAEEC,MAAAA,EAAE,EAAEC,IAAI,CAACC,KAAL,CAAW,IAAID,IAAJ,EAAX,IAAyB;AAF/B;AAID,GALD,MAKO,IAAIL,MAAM,CAACE,MAAP,IAAiB,KAArB,EAA4B;AACjCF,IAAAA,MAAM,CAACO,MAAP;AACEH,MAAAA,EAAE,EAAEC,IAAI,CAACC,KAAL,CAAW,IAAID,IAAJ,EAAX,IAAyB;AAD/B,OAEKL,MAAM,CAACO,MAFZ;AAID;;AACD,SAAOP,MAAP;AACD,CApBD,EAoBG,UAAAQ,KAAK,EAAI;AACVC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,SAAOG,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,CAvBD,E,CAyBA;;AACAhB,QAAQ,CAACK,YAAT,CAAsBgB,QAAtB,CAA+Bd,GAA/B,CAAmC,UAACc,QAAD,EAAc;AAC/C;AACAtB,EAAAA,SAAS,CAACuB,IAAV;AACA,SAAOD,QAAQ,CAACV,IAAhB;AACD,CAJD,EAIG,UAACK,KAAD,EAAW;AACZC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,SAAOG,OAAO,CAACC,MAAR,CAAe,IAAIG,KAAJ,CAAU,MAAV,CAAf,CAAP;AACD,CAPD;AAUA,eAAevB,QAAf","sourcesContent":["import axios from 'axios';\nimport store from '@/store';\nimport { getToken } from '@/utils/cookie';\n\n// 引入进度条\nimport nprogress from 'nprogress';\n// 引入进度条样式\nimport \"nprogress/nprogress.css\"\n// start 进度条开始  done 进度条结束\nconst requests = axios.create({\n  baseURL: \"http://127.0.0.1:3000/\",\n  // 代表请求超时的时间5s\n  timeout: 5000,\n  headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\n});\n//请求拦截器\nrequests.interceptors.request.use((config) => {\n  //config 配置对象 对象有一个属性很重要 headers\n  // const token = localStorage.getItem(\"TOKEN\");\n  // if(token){\n  //   config.headers.token= token;  \n  // }\n  nprogress.start();\n  //添加时间戳\n  if (config.method == 'post') {\n    config.data = {\n      ...config.data,\n      _t: Date.parse(new Date()) / 1000\n    }\n  } else if (config.method == 'get') {\n    config.params = {\n      _t: Date.parse(new Date()) / 1000,\n      ...config.params\n    }\n  }\n  return config;\n}, error => {\n  console.log(error)\n  return Promise.reject(error)\n});\n\n//响应拦截器\nrequests.interceptors.response.use((response) => {\n  //成功的回调函数，服务器响应数据回来以后\n  nprogress.done();\n  return response.data;\n}, (error) => {\n  console.log(error);\n  return Promise.reject(new Error('fail'));\n})\n\n\nexport default requests;"]}]}