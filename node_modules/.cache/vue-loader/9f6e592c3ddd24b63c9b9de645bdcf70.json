{"remainingRequest":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\test1\\vue-neteasemusic\\cloud-master\\src\\views\\Home\\Discover\\MainerLeft\\New\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\src\\views\\Home\\Discover\\MainerLeft\\New\\index.vue","mtime":1654515726000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQge21hcFN0YXRlfSBmcm9tICd2dWV4JwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiduZXcnLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsaW1pdDoxMCwKICAgICAgICAgICAgZmlyc3RJbmRleDoxLAogICAgICAgICAgICBmaW5hbEluZGV4OjUsCiAgICAgICAgICAgIHRpbWVyOicnLAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICAvL+WQkeWQjue/u+mhtQogICAgICAgIG5leCgpewogICAgICAgICAgICBpZih0aGlzLnRpbWVyIT0nJykgcmV0dXJuOwogICAgICAgICAgICB0aGlzLmZpcnN0SW5kZXgrKzsKICAgICAgICAgICAgaWYodGhpcy5maXJzdEluZGV4ID4gdGhpcy5saW1pdCkgdGhpcy5maXJzdEluZGV4ID0gMTsKICAgICAgICAgICAgdGhpcy5maW5hbEluZGV4Kys7CiAgICAgICAgICAgIGlmKHRoaXMuZmluYWxJbmRleCA+PSB0aGlzLmxpbWl0LTEpIHRoaXMuZmluYWxJbmRleCA9IC0xOwogICAgICAgICAgICB2YXIgcm9sbCA9IHRoaXMuJHJlZnMucm9sbDsKICAgICAgICAgICAgcm9sbC5zdHlsZS50cmFuc2l0aW9uID0gJ2xlZnQgMXMnOyAKICAgICAgICAgICAgcm9sbC5zdHlsZS5sZWZ0ID0gcm9sbC5vZmZzZXRMZWZ0LTE0NSsncHgnOwogICAgICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCk9PnsKICAgICAgICAgICAgICAgIHJvbGwuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJzsKICAgICAgICAgICAgICAgIHJvbGwuc3R5bGUubGVmdCA9IHJvbGwub2Zmc2V0TGVmdCsxMTMrJ3B4JzsKICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDE7aTw9IDU7aSsrKQogICAgICAgICAgICAgICAgICAgIHRoaXMuaW1nTGlzdFtpXSA9IHRoaXMuaW1nTGlzdFtpKzFdOwogICAgICAgICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTsKICAgICAgICAgICAgICAgIHRoaXMudGltZXIgPSAiIjsKICAgICAgICAgICAgfSwxMjAwKTsKICAgICAgICB9LAogICAgICAgIC8v5ZCR5YmN57+76aG1CiAgICAgICAgcHJlKCl7CiAgICAgICAgICAgIGlmKHRoaXMudGltZXIgIT0gJycpIHJldHVybjsKICAgICAgICAgICAgdGhpcy5maXJzdEluZGV4LS07CiAgICAgICAgICAgIGlmKHRoaXMuZmlyc3RJbmRleCA8PSAwKSB0aGlzLmZpcnN0SW5kZXggPSB0aGlzLmxpbWl0OwogICAgICAgICAgICB0aGlzLmZpbmFsSW5kZXgtLTsKICAgICAgICAgICAgaWYodGhpcy5maW5hbEluZGV4IDwgLTEpIHRoaXMuZmluYWxJbmRleCA9IHRoaXMubGltaXQtMjsKICAgICAgICAgICAgdmFyIHJvbGwgPSB0aGlzLiRyZWZzLnJvbGw7CiAgICAgICAgICAgIHJvbGwuc3R5bGUudHJhbnNpdGlvbiA9ICdsZWZ0IDFzJzsgCiAgICAgICAgICAgIHJvbGwuc3R5bGUubGVmdCA9IHJvbGwub2Zmc2V0TGVmdCsxMTMrJ3B4JzsKICAgICAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKCgpPT57CiAgICAgICAgICAgICAgICByb2xsLnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7CiAgICAgICAgICAgICAgICByb2xsLnN0eWxlLmxlZnQgPSByb2xsLm9mZnNldExlZnQtMTQ1KydweCc7CiAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSA1O2k+PSAxO2ktLSkKICAgICAgICAgICAgICAgICAgICB0aGlzLmltZ0xpc3RbaV0gPSB0aGlzLmltZ0xpc3RbaS0xXTsKICAgICAgICAgICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7CiAgICAgICAgICAgICAgICB0aGlzLnRpbWVyID0gIiI7CiAgICAgICAgICAgIH0sMTIwMCk7CiAgICAgICAgfQogICAgfSwKICAgIHdhdGNoOnsKICAgICAgICBmaXJzdEluZGV4KCl7CiAgICAgICAgICAgIGxldCBsYXN0ID0gdGhpcy5maXJzdEluZGV4LTE7CiAgICAgICAgICAgIHRoaXMuaW1nTGlzdFswXSA9IHRoaXMuQWxsTGlzdFtsYXN0XTsKICAgICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgICAgICB9LAogICAgICAgIGZpbmFsSW5kZXgoKXsKICAgICAgICAgICAgbGV0IG5leHQgPSB0aGlzLmZpbmFsSW5kZXgrMTsKICAgICAgICAgICAgdGhpcy5pbWdMaXN0WzZdID0gdGhpcy5BbGxMaXN0W25leHRdOwogICAgICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDp7CiAgICAgICAgLi4ubWFwU3RhdGUoewogICAgICAgICAgICBBbGxMaXN0OnN0YXRlPT5zdGF0ZS5ob21lLm5ld0FsYnVtLAogICAgICAgIH0pLAogICAgICAgIGltZ0xpc3QoKXsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuQWxsTGlzdC5zbGljZSgwLDcpOwogICAgICAgIH0sCgogICAgfSwKICAgIG1vdW50ZWQoKXsKICAgICAgICAvL+iOt+WPluaWsOein+S4iuaetgogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXROZXcnKQogICAgICAgIC8vIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRBbGJ1bUFsbCcse2xpbWl0OjEsYXJlYTonQUxMJyxvZmZzZXQ6MH0pOwogICAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Home/Discover/MainerLeft/New","sourcesContent":["<template>\n  <div class=\"new\">\n     <div class=\"header\">\n        <a >新碟上架</a>\n        <span class=\"more\">\n          <router-link to=\"/home/album\">更多</router-link>\n          <i>&nbsp;</i>\n        </span>\n     </div>\n     <div class=\"body\">\n         <div class=\"inner\">\n             <div class=\"roll\">\n                 <ul class='roller-flag' ref=\"roll\">   \n                     <li v-for=\"(img,index) in imgList\" :key=index>\n                         <img :src=\"img.blurPicUrl\">\n                        <router-link :to=\"{path:'/album',query:{id:`${img.id}`}}\"></router-link>\n                         <p class=\"over\" :title=\"img.name\">\n                             <router-link :to=\"{path:'/album',query:{id:`${img.id}`}}\">{{img.name}}</router-link>\n                        </p>\n                         <p class=\"over\" :title=\"img.artist.name\">\n                             <router-link :to=\"{path:'/artist/song',query:{id:img.artist.id}}\" class=\"name over underline\">{{img.artist.name}}</router-link>\n                        </p>\n                         <a class=\"play\"></a>\n                     </li>\n                 </ul>\n             </div>\n\n             <a class=\"pre\" @click=\"pre\"></a>\n             <a class=\"nex\" @click=\"nex\"></a>\n         </div>\n     </div>\n  </div>\n</template>\n\n<script>\n\nimport {mapState} from 'vuex'\nexport default {\n    name:'new',\n    data() {\n        return {\n            limit:10,\n            firstIndex:1,\n            finalIndex:5,\n            timer:'',\n        }\n    },\n    methods:{\n        //向后翻页\n        nex(){\n            if(this.timer!='') return;\n            this.firstIndex++;\n            if(this.firstIndex > this.limit) this.firstIndex = 1;\n            this.finalIndex++;\n            if(this.finalIndex >= this.limit-1) this.finalIndex = -1;\n            var roll = this.$refs.roll;\n            roll.style.transition = 'left 1s'; \n            roll.style.left = roll.offsetLeft-145+'px';\n            this.timer = setInterval(()=>{\n                roll.style.transition = 'none';\n                roll.style.left = roll.offsetLeft+113+'px';\n                for(let i = 1;i<= 5;i++)\n                    this.imgList[i] = this.imgList[i+1];\n                this.$forceUpdate();\n                clearTimeout(this.timer);\n                this.timer = \"\";\n            },1200);\n        },\n        //向前翻页\n        pre(){\n            if(this.timer != '') return;\n            this.firstIndex--;\n            if(this.firstIndex <= 0) this.firstIndex = this.limit;\n            this.finalIndex--;\n            if(this.finalIndex < -1) this.finalIndex = this.limit-2;\n            var roll = this.$refs.roll;\n            roll.style.transition = 'left 1s'; \n            roll.style.left = roll.offsetLeft+113+'px';\n            this.timer = setInterval(()=>{\n                roll.style.transition = 'none';\n                roll.style.left = roll.offsetLeft-145+'px';\n                for(let i = 5;i>= 1;i--)\n                    this.imgList[i] = this.imgList[i-1];\n                this.$forceUpdate();\n                clearTimeout(this.timer);\n                this.timer = \"\";\n            },1200);\n        }\n    },\n    watch:{\n        firstIndex(){\n            let last = this.firstIndex-1;\n            this.imgList[0] = this.AllList[last];\n            this.$forceUpdate();\n        },\n        finalIndex(){\n            let next = this.finalIndex+1;\n            this.imgList[6] = this.AllList[next];\n            this.$forceUpdate();\n        }\n    },\n    computed:{\n        ...mapState({\n            AllList:state=>state.home.newAlbum,\n        }),\n        imgList(){\n            return this.AllList.slice(0,7);\n        },\n\n    },\n    mounted(){\n        //获取新碟上架\n        this.$store.dispatch('getNew')\n        // this.$store.dispatch('getAlbumAll',{limit:1,area:'ALL',offset:0});\n    }\n}\n</script>\n\n<style scoped lang = \"less\">\n    .new{\n        width: 689px;\n        position: relative;\n\n        .header{\n            width: 100%;\n            height: 33px;\n            padding:0 10px 0 34px;\n            background: url('./images/index.png') no-repeat -225px -156px;\n            border-bottom: 2px solid #C10D0C;\n\n            a{\n                float: left;\n                font-size: 20px;\n                font-weight: normal;\n                line-height: 28px;\n                color: #333;\n                &:hover{\n                    cursor: pointer;\n                }\n            }\n\n            .more{\n                width: 40px;\n                height: 16px;\n                margin: 9px;\n                float: right;\n\n                a{\n                    font-size: 12px;\n                    color: #666;  \n                    line-height: 15px;\n\n                    &:hover{\n                        cursor: pointer;\n                        text-decoration: underline;\n                    }\n                }\n\n                i{\n                    float: right;\n                    display: block;\n                    background: url('./images/index.png') no-repeat 0 -240px;\n                    font-style: normal;\n                    text-align: left;\n                    font-size: inherit;\n                    width: 12px;\n                    height: 12px;\n                    margin-left: 4px;\n                    margin-top:1px;\n                }\n                \n            }\n        }\n        \n        .body{\n            width: 100%;\n            height: 188px;\n            border: 1px solid #d3d3d3;\n            margin: 20px 0 37px;\n            position: relative;\n            color: #333;\n\n            .inner{\n                padding-left: 16px;\n                height: 186px;\n                background: #f5f5f5;\n                .roll{\n                    width: 645px;\n                    height: 180px;\n                    overflow: hidden;\n                    float: left;\n\n                    .roller-flag{\n                        width:903px;\n                        height: 150px;\n                        margin-top: 28px;\n                        float: left;\n                        position: relative;\n                        left: -129px;\n                        top: 0;\n                        transition: left 1s;\n                        li{\n                            float: left;\n                            width: 118px;\n                            height: 150px;\n                            margin-left: 11px;\n                            position: relative;\n\n                            img{\n                                width: 100px;\n                                height: 100px;\n                            }\n\n                            >a{\n                                width: 118px;\n                                height: 100px;\n                                position: absolute;\n                                top:0;\n                                left: 0;\n                                background: url('./images/coverall.png') no-repeat 0 -570px;\n\n                                &:hover{\n                                    cursor: pointer;\n                                }\n                            }\n\n                            p{\n                                text-align: left;\n                                font-size: 12px;\n                                color: #333;\n                                font-family: Arial, Helvetica, sans-serif;\n                                -webkit-text-size-adjust: none;\n                                display: block;\n                                margin-block-start: 1px;\n                                margin-block-end: 1px;\n\n                                &:hover{\n                                    cursor: pointer;\n                                    text-decoration: underline;\n                                }\n                                a{\n                                    color: #333;\n                                }\n                            }\n\n                            .play{\n                                position: absolute;\n                                left: 80px;\n                                top: 80px;\n                                width: 22px;\n                                height: 22px;\n                                background: url('./images/iconall.png') no-repeat 0 -60px;\n                                display: none;\n                            }\n\n                            &:hover .play{\n                                display: block;\n                            }\n                        }\n                    }\n                }\n\n                .pre,\n                .nex{\n                    width: 17px;\n                    height: 17px;\n                    position: absolute;\n                    top:75px;\n                    background: url('./images/index.png') no-repeat ;\n\n                    &:hover{\n                        cursor: pointer;\n                    }\n                }\n\n                .pre{\n                    left: 3px;\n                    background-position: -260px -75px;\n                }\n\n                .nex{\n                    right: 3px;\n                    background-position: -300px -75px;\n                }\n            }\n        }\n\n        @keyframes moveLeft{\n            from{\n                left: 0px;\n            }\n            to{\n                left:-258px;\n            }\n        }\n    }\n</style>"]}]}