{"remainingRequest":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\test1\\cloud-master\\cloud-master\\src\\views\\Home\\Album\\index.vue?vue&type=style&index=0&id=21d54f1c&lang=less&scoped=true&","dependencies":[{"path":"D:\\test1\\cloud-master\\cloud-master\\src\\views\\Home\\Album\\index.vue","mtime":1654515726000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5hbGJ1bSB7CiAgd2lkdGg6IDk4MnB4OwogIG1hcmdpbjogMCBhdXRvOwogIGJvcmRlcjogMXB4IHNvbGlkICNkM2QzZDM7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICBtaW4taGVpZ2h0OiA3MDBweDsKICBwYWRkaW5nOiA0MHB4OwogIC5ob3R7CiAgICAudGl0IHsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiA0MnB4OwogICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNjMjBjMGM7CgogICAgaDMgewogICAgICBmbG9hdDogbGVmdDsKICAgICAgZm9udC1zaXplOiAyNHB4OwogICAgICBmb250LXdlaWdodDogbm9ybWFsOwogICAgICBjb2xvcjogIzMzMzsKICAgIH0KICB9CiAgfQogIC5hbGx7CiAgICAudGl0IHsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGhlaWdodDogNDJweDsKICAgICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNjMjBjMGM7CiAgICAgIGgzIHsKICAgICAgICBmbG9hdDogbGVmdDsKICAgICAgICBmb250LXNpemU6IDI0cHg7CiAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICAgICAgICBjb2xvcjogIzMzMzsKICAgICAgfQogICAgICAudGFiewogICAgICAgIGZsb2F0OiBsZWZ0OwogICAgICAgIG1hcmdpbjogMTJweCAwIDAgMjBweDsKCiAgICAgICAgbGl7CiAgICAgICAgICBmbG9hdDogbGVmdDsKICAgICAgICAgIGF7CiAgICAgICAgICAgIGZsb2F0OiBsZWZ0OwogICAgICAgICAgICAmOmhvdmVyewogICAgICAgICAgICAgIGNvbG9yOiAjNjY2OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICAubGluZXsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgIGZsb2F0OiBsZWZ0OwogICAgICAgICAgICBtYXJnaW46IDAgMTBweDsKICAgICAgICAgICAgbWFyZ2luLXRvcDogLTJweDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgLm0tbGlzdCB7CiAgICBtYXJnaW46IDIwcHggMCAwIC0zM3B4OwogICAgd2lkdGg6IDkzM3B4OwogICAgbWluLWhlaWdodDogNDE2cHg7CgogICAgbGkgewogICAgICBmbG9hdDogbGVmdDsKICAgICAgd2lkdGg6IDE4NnB4OwogICAgICBoZWlnaHQ6IDIwOHB4OwogICAgICBwYWRkaW5nOiAwIDAgMzBweCAzM3B4OwogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgIGltZyB7CiAgICAgICAgd2lkdGg6IDEzMHB4OwogICAgICAgIGhlaWdodDogMTMwcHg7CiAgICAgIH0KICAgICAgPmEgewogICAgICAgIHdpZHRoOiAxNTNweDsKICAgICAgICBoZWlnaHQ6IDEzMHB4OwogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICB0b3A6IDA7CiAgICAgICAgbGVmdDogMzNweDsKICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoIi4vaW1hZ2VzL2NvdmVyYWxsLnBuZyIpIG5vLXJlcGVhdCAwIC04NDVweDsKICAgICAgICAmOmhvdmVyIHsKICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICB9CiAgICAgIH0KICAgICAgLm5hbWUgewogICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgICAgY29sb3I6ICMzMzM7CiAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7CiAgICAgICAgLXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OiBub25lOwogICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgIG1hcmdpbjogOHB4IDAgM3B4OwogICAgICAgIGZvbnQtc2l6ZTogMTRweDsKCiAgICAgICAgJjpob3ZlciB7CiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLmFydGlzdHsKICAgICAgICBhOmhvdmVyewogICAgICAgICAgY29sb3I6ICM2NjY7CiAgICAgICAgfQogICAgICB9CiAgICAgIC5wbGF5IHsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgd2lkdGg6IDI4cHg7CiAgICAgICAgaGVpZ2h0OiAyOHB4OwogICAgICAgIGxlZnQ6IDEzMHB4OwogICAgICAgIHRvcDogOTVweDsKICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoIi4vaW1hZ2VzL2ljb25hbGwucG5nIikgbm8tcmVwZWF0IDAgLTE0MHB4OwogICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgIH0KICAgICAgJjpob3ZlciAucGxheSB7CiAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Home/Album","sourcesContent":["<template>\n  <div class=\"album\">\n    <!-- 热门新碟 -->\n    <div class=\"hot clearfix\">\n      <div class=\"tit\">\n        <h3><span>热门新碟</span></h3>\n      </div>\n      <ul class=\"m-list clearfix\">\n        <li v-for=\"album,index in hotAlbums\" :key=\"index\">\n          <img v-lazy=\"album.blurPicUrl\" />\n          <router-link :to=\"{path:'/album',query:{id:`${album.id}`}}\"></router-link>\n          <p class=\"over name\" :title=\"album.name\">\n            <router-link :to=\"{path:'/album',query:{id:`${album.id}`}}\" style=\"color:#333;\">{{album.name}}</router-link>\n          </p>\n          <p class=\"over artist\">\n            <span v-for=\"artist,index in album.artists\" :key=\"index\">\n              <router-link :to=\"{path:'/artist/song',query:{id:artist.id}}\" :title=\"artist.name\" class=\"underline\">{{artist.name}}</router-link>\n              <span v-if=\"index != album.artists.length-1\">&nbsp;&nbsp;/&nbsp;&nbsp;</span>\n            </span>\n          </p>\n          <a class=\"play\"></a>\n        </li>\n      </ul>      \n    </div>\n    <!-- 全部新碟 -->\n    <div class=\"all\">\n      <div class=\"tit\">\n        <h3><span>全部新碟</span></h3>\n        <div class=\"tab clearfix\">\n          <li v-for=\"tit,index in title\" :key=\"index\">\n            <a class=\"underline\" @click=\"changeArea(tit.area)\">{{tit.name}}</a>\n            <span class=\"line\" v-if=\"index != 4\">|</span>\n          </li>\n        </div>\n      </div>\n      <ul class=\"m-list clearfix\">\n        <li v-for=\"album,index in showAlbums\" :key=\"index\">\n          <img v-lazy=\"album.blurPicUrl\" />\n          <router-link :to=\"{path:'/album',query:{id:`${album.id}`}}\"></router-link>\n          <p class=\"over name\" :title=\"album.name\">\n            <router-link :to=\"{path:'/album',query:{id:`${album.id}`}}\" style=\"color:#333;\">{{album.name}}</router-link>\n          </p>\n          <p class=\"over artist\">\n            <span v-for=\"artist,index in album.artists\" :key=\"index\">\n                  <router-link :to=\"{path:'/artist/song',query:{id:artist.id}}\" :title=\"artist.name\" class=\"underline\">{{artist.name}}</router-link>\n              <span v-if=\"index != album.artists.length-1\">&nbsp;&nbsp;/&nbsp;&nbsp;</span>\n            </span>\n          </p>\n          <a class=\"play\"></a>\n        </li>\n      </ul>  \n    </div>\n    <!-- 分页器 -->\n    <Pagination :pageNo='pageNo' :pageSize='pageSize' :total='total' :continues='5' @getPageNo=\"getPageNo\"></Pagination>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination'\nexport default {\n  name: \"album\",\n  components:{Pagination},\n  data() {\n    return {\n      //热门新碟\n      hotAlbums:[],\n      //全部新碟\n      allAlbum:[],\n      //展示的全部新碟\n      showAlbums:[],\n      //全部新碟的标题分类\n      title:[\n        {\n          name:'全部',\n          area:'ALL',\n        },\n        {\n          name:'华语',\n          area:'ZH',\n        },\n        {\n          name:'欧美',\n          area:'EA',\n        },\n        {\n          name:'韩国',\n          area:'KR',\n        },\n        {\n          name:'日本',\n          area:'JP',\n        },\n      ],\n      pageSize:35,\n      pageNo:1,\n      type:'new',\n      total:1000,\n    }\n  },\n  computed:{\n    area(){\n      if(this.$route.query.area == undefined) return \"ALL\";\n      return this.$route.query.area;\n    }\n  },\n  watch:{\n    area(){\n      this.getAll();\n    }\n  },\n  methods:{\n    // 获取热门新碟\n    async getNewset(){\n      let result = await this.$API.reqAlbumNewset();\n      this.hotAlbums = result.albums.slice(0,10);\n    },\n    // 获取全部新碟\n    async getAll(){\n      let result = await this.$API.reqAlbum(this.pageSize,(this.pageNo-1)*this.pageSize,this.area,this.type);\n      if(result.weekData)\n      {\n        this.total = result.weekData.length;\n        this.allAlbum = result.weekData;  \n      }\n      else{\n        this.total = result.monthData.length;\n        this.allAlbum = result.monthData;\n      }\n      this.changeAlbums();\n    },\n    //手动分页\n    changeAlbums(){ \n      this.showAlbums = this.allAlbum.slice((this.pageNo-1)*this.pageSize,this.pageSize*this.pageNo);\n    },\n    //改变地区选择\n    changeArea(area){\n      this.$router.push({\n        path:'/home/album',\n        query:{\n          area\n        }\n      })\n    },\n    //接受当前页码\n    getPageNo(pageNo){\n      this.pageNo = pageNo;\n      this.changeAlbums();\n    }\n  },\n  mounted(){\n    this.getNewset();\n    this.getAll();\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.album {\n  width: 982px;\n  margin: 0 auto;\n  border: 1px solid #d3d3d3;\n  background-color: #fff;\n  min-height: 700px;\n  padding: 40px;\n  .hot{\n    .tit {\n    width: 100%;\n    height: 42px;\n    border-bottom: 2px solid #c20c0c;\n\n    h3 {\n      float: left;\n      font-size: 24px;\n      font-weight: normal;\n      color: #333;\n    }\n  }\n  }\n  .all{\n    .tit {\n      width: 100%;\n      height: 42px;\n      border-bottom: 2px solid #c20c0c;\n      h3 {\n        float: left;\n        font-size: 24px;\n        font-weight: normal;\n        color: #333;\n      }\n      .tab{\n        float: left;\n        margin: 12px 0 0 20px;\n\n        li{\n          float: left;\n          a{\n            float: left;\n            &:hover{\n              color: #666;\n            }\n          }\n          .line{\n            display: block;\n            float: left;\n            margin: 0 10px;\n            margin-top: -2px;\n          }\n        }\n      }\n    }\n  }\n  .m-list {\n    margin: 20px 0 0 -33px;\n    width: 933px;\n    min-height: 416px;\n\n    li {\n      float: left;\n      width: 186px;\n      height: 208px;\n      padding: 0 0 30px 33px;\n      position: relative;\n      img {\n        width: 130px;\n        height: 130px;\n      }\n      >a {\n        width: 153px;\n        height: 130px;\n        position: absolute;\n        top: 0;\n        left: 33px;\n        background: url(\"./images/coverall.png\") no-repeat 0 -845px;\n        &:hover {\n          cursor: pointer;\n        }\n      }\n      .name {\n        text-align: left;\n        color: #333;\n        font-family: Arial, Helvetica, sans-serif;\n        -webkit-text-size-adjust: none;\n        display: block;\n        margin: 8px 0 3px;\n        font-size: 14px;\n\n        &:hover {\n          cursor: pointer;\n          text-decoration: underline;\n        }\n      }\n      .artist{\n        a:hover{\n          color: #666;\n        }\n      }\n      .play {\n        position: absolute;\n        width: 28px;\n        height: 28px;\n        left: 130px;\n        top: 95px;\n        background: url(\"./images/iconall.png\") no-repeat 0 -140px;\n        display: none;\n      }\n      &:hover .play {\n        display: block;\n      }\n    }\n  }\n}\n</style>"]}]}