{"remainingRequest":"D:\\github-project\\vue-neteasemusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\github-project\\vue-neteasemusic\\src\\views\\Home\\Discover\\Banner\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\github-project\\vue-neteasemusic\\src\\views\\Home\\Discover\\Banner\\index.vue","mtime":1654515726000},{"path":"D:\\github-project\\vue-neteasemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\github-project\\vue-neteasemusic\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\github-project\\vue-neteasemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\github-project\\vue-neteasemusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6J2Jhbm5lcicsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8v5YWo6YOo5Zu+54mHCiAgICAgICAgICAgIGltZ0xpc3Q6W10sCiAgICAgICAgICAgIGltZ051bTo5LAogICAgICAgICAgICAvL+W9k+WJjei9ruaSreWbvuWbvueJhwogICAgICAgICAgICBpbWc6J2h0dHA6Ly9wMS5tdXNpYy4xMjYubmV0L3A4TjZ5ZjNiQTBCYTU3SDhLZUtWNUE9PS8xMDk5NTExNjcwNTU2NjgwMTQuanBnJywKICAgICAgICAgICAgaW1nSW5kZXg6MCwKICAgICAgICAgICAgdGltZXI6ZnVuY3Rpb24oKXt9LAogICAgICAgICAgICBpc1Nob3c6dHJ1ZSwgCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIC8v6I635Y+WYmFubmVy6LWE5rqQCiAgICAgICAgYXN5bmMgZ2V0QmFubmVyKCl7CiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLiRBUEkucmVxQmFubmVyKCk7CiAgICAgICAgICAgIHJlc3VsdC5iYW5uZXJzLmZvckVhY2goKGl0ZW0pPT57CiAgICAgICAgICAgICAgICB0aGlzLmltZ0xpc3QucHVzaCh7dXJsOml0ZW0uaW1hZ2VVcmwsaWQ6aXRlbS50YXJnZXRJZCx0eXBlOml0ZW0udGFyZ2V0VHlwZX0pOwogICAgICAgICAgICB9KQogICAgICAgICAgICB0aGlzLmltZ051bSA9IHRoaXMuaW1nTGlzdC5sZW5ndGg7CiAgICAgICAgICAgIHRoaXMuaW1nID0gdGhpcy5pbWdMaXN0WzBdLnVybDsKICAgICAgICB9LAogICAgICAgIC8v5YiH5o2i5Zu+54mHCiAgICAgICAgY2hhbmdlSW1nKGluZGV4KXsKICAgICAgICAgICAgdGhpcy5pbWc9dGhpcy5pbWdMaXN0W2luZGV4XS51cmw7CiAgICAgICAgICAgIHRoaXMuc3RvcEJhbm5lcigpOwogICAgICAgICAgICB0aGlzLmltZ0luZGV4ID0gaW5kZXg7CiAgICAgICAgICAgIHRoaXMuc3RhcnRCYW5uZXIoKTsKICAgICAgICB9LAogICAgICAgIC8v5LiK5LiA5byg5Zu+54mHCiAgICAgICAgcHJlKCl7CiAgICAgICAgICAgIHRoaXMuc3RvcEJhbm5lcigpOwogICAgICAgICAgICB0aGlzLmltZ0luZGV4LS07CiAgICAgICAgICAgIGlmKHRoaXMuaW1nSW5kZXggPCAwKSB0aGlzLmltZ0luZGV4ID0gdGhpcy5pbWdOdW0tMTsKICAgICAgICAgICAgdGhpcy5pbWcgPSB0aGlzLmltZ0xpc3RbdGhpcy5pbWdJbmRleF0udXJsOwogICAgICAgICAgICB0aGlzLnN0YXJ0QmFubmVyKCk7CiAgICAgICAgfSwKICAgICAgICAvL+S4iuS4gOW8oOWbvueJhwogICAgICAgIG5leCgpewogICAgICAgICAgICB0aGlzLnN0b3BCYW5uZXIoKTsKICAgICAgICAgICAgdGhpcy5pbWdJbmRleCsrOwogICAgICAgICAgICBpZih0aGlzLmltZ0luZGV4ID4gdGhpcy5pbWdOdW0tMSkgdGhpcy5pbWdJbmRleCA9IDA7CiAgICAgICAgICAgIHRoaXMuaW1nID0gdGhpcy5pbWdMaXN0W3RoaXMuaW1nSW5kZXhdLnVybDsKICAgICAgICAgICAgdGhpcy5zdGFydEJhbm5lcigpOwogICAgICAgIH0sCiAgICAgICAgLy/lvIDlkK/ova7mkq0KICAgICAgICBzdGFydEJhbm5lcigpewogICAgICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5pc1Nob3c9ZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLmltZ0luZGV4Kys7CiAgICAgICAgICAgICAgICBpZih0aGlzLmltZ0luZGV4ID4gdGhpcy5pbWdOdW0tMSkgdGhpcy5pbWdJbmRleCA9IDA7CiAgICAgICAgICAgICAgICB0aGlzLmltZ0luZGV4LS07CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmltZyA9IHRoaXMuaW1nTGlzdFt0aGlzLmltZ0luZGV4KzFdLnVybDsKICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU2hvdz10cnVlOyAgICAgCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWdJbmRleCsrOwogICAgICAgICAgICAgICAgfSwgMTQwMCk7CiAgICAgICAgICAgIH0sIDQwMDApOwogICAgICAgIH0sCiAgICAgICAgLy/mmoLlgZzova7mkq0KICAgICAgICBzdG9wQmFubmVyKCl7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICAgICAgfSwKICAgICAgICAvLyDngrnlh7vlm57osIMKICAgICAgICBHbyh0eXBlLGlkKXsKICAgICAgICAgICAgbGV0IHBhdGg7CiAgICAgICAgICAgIGlmKHR5cGUgPT0gMSkgcGF0aCA9ICcvc29uZyc7CiAgICAgICAgICAgIGVsc2UgaWYodHlwZSA9PSAxMCkgcGF0aCA9ICcvYWxidW0nOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBwYXRoLAogICAgICAgICAgICAgICAgcXVlcnk6ewogICAgICAgICAgICAgICAgICAgIGlkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfSwKICAgIC8vIOiOt+WPluWbvueJh+i1hOa6kOW5tuW8gOWQr+WumuaXtuWZqAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmdldEJhbm5lcigpOwogICAgICAgIHRoaXMuc3RhcnRCYW5uZXIoKTsKICAgIH0sCiAgICAvL+mUgOavgeWJjeWFs+mXreWumuaXtuWZqAogICAgYmVmb3JlZGVzdHJveSgpewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Home/Discover/Banner","sourcesContent":["<template>\n  <div class=\"banner-wrapper\">\n      <div class=\"wrapper\">\n          <!-- 图片框 -->\n        <div class=\"img-wrapper\">\n            <transition name=\"show\">\n                <img v-lazy=\"img\" v-show=\"isShow\" @click=\"Go(imgList[imgIndex].type,imgList[imgIndex].id)\">     \n            </transition>                     \n            <!-- 轮播图下的点 -->\n            <ul class=\"ponintList\">\n                <li v-for=\"(point,index) in imgList\" :key=\"index\" @click=\"changeImg(index)\" :class=\"{active:index == imgIndex}\"></li>                \n            </ul>\n            <!-- 轮播图两侧 -->\n            <div class=\"pre\" @click=\"pre\"></div>\n            <div class=\"nex\" @click=\"nex\"></div>\n        </div>\n        <!-- 下载 -->\n        <div class=\"download-wrapper\">\n            <div class=\"download\"></div>\n            <p>PC 安卓 iPhone WP iPad Mac 六大客户端</p>\n        </div>\n      </div>\n      <div class=\"img-blur\">\n        <img v-lazy=\"img\" class=\"blur\">\n       </div>\n  </div>\n</template>\n\n<script>\nexport default {\n    name:'banner',\n    data() {\n        return {\n            //全部图片\n            imgList:[],\n            imgNum:9,\n            //当前轮播图图片\n            img:'http://p1.music.126.net/p8N6yf3bA0Ba57H8KeKV5A==/109951167055668014.jpg',\n            imgIndex:0,\n            timer:function(){},\n            isShow:true, \n        }\n    },\n    methods:{\n        //获取banner资源\n        async getBanner(){\n            let result = await this.$API.reqBanner();\n            result.banners.forEach((item)=>{\n                this.imgList.push({url:item.imageUrl,id:item.targetId,type:item.targetType});\n            })\n            this.imgNum = this.imgList.length;\n            this.img = this.imgList[0].url;\n        },\n        //切换图片\n        changeImg(index){\n            this.img=this.imgList[index].url;\n            this.stopBanner();\n            this.imgIndex = index;\n            this.startBanner();\n        },\n        //上一张图片\n        pre(){\n            this.stopBanner();\n            this.imgIndex--;\n            if(this.imgIndex < 0) this.imgIndex = this.imgNum-1;\n            this.img = this.imgList[this.imgIndex].url;\n            this.startBanner();\n        },\n        //上一张图片\n        nex(){\n            this.stopBanner();\n            this.imgIndex++;\n            if(this.imgIndex > this.imgNum-1) this.imgIndex = 0;\n            this.img = this.imgList[this.imgIndex].url;\n            this.startBanner();\n        },\n        //开启轮播\n        startBanner(){\n            this.timer = setInterval(() => {\n                this.isShow=false;\n                this.imgIndex++;\n                if(this.imgIndex > this.imgNum-1) this.imgIndex = 0;\n                this.imgIndex--;\n                setTimeout(() => {\n                    this.img = this.imgList[this.imgIndex+1].url;\n                    this.isShow=true;     \n                    this.imgIndex++;\n                }, 1400);\n            }, 4000);\n        },\n        //暂停轮播\n        stopBanner(){\n            clearInterval(this.timer);\n        },\n        // 点击回调\n        Go(type,id){\n            let path;\n            if(type == 1) path = '/song';\n            else if(type == 10) path = '/album';\n            this.$router.push({\n                path,\n                query:{\n                    id\n                }\n            })\n        }\n    },\n    // 获取图片资源并开启定时器\n    mounted() {\n        this.getBanner();\n        this.startBanner();\n    },\n    //销毁前关闭定时器\n    beforedestroy(){\n        clearInterval(this.timer);\n    }\n}\n</script>\n\n<style scoped lang = \"less\">\n    .banner-wrapper{\n        height: 285px;\n        width: 100%;\n        position: relative;\n        .wrapper{\n            width: 984px;\n            height: 100%;\n            margin: 0 auto;\n            position: relative;\n            z-index: 1;\n            .img-wrapper{\n                width: 730px;\n                height: 100%;\n                z-index: 10;\n                &:hover{\n                    cursor: pointer;\n                }\n                img{\n                    width: 730px;\n                    height: 285px;\n                }\n                /* 点 */\n                .ponintList{\n                    width: 180px;\n                    height: 20px;\n                    position: absolute;\n                    z-index: 2;\n                    /* background: red; */\n                    bottom: 2px;\n                    left: 275px;\n                    display: flex;\n                    li{\n                        width: 20px;\n                        height: 20px;\n                        background: url('./images/banner.png') no-repeat 4px -343px;\n                        &:hover{\n                            background: url('./images/banner.png') no-repeat -15px -343px;\n                            cursor: pointer;\n                        }\n                    }\n                }\n                li.active{\n                      background: url('./images/banner.png') no-repeat -15px -343px;\n                }\n                /* 箭头 */\n                .pre,\n                .nex{\n                    width: 37px;\n                    height: 63px;\n                    position: absolute;\n                    top:111px;\n                }\n                /* 上一个 */\n                .pre{\n                    left: -68px;\n                    background: url('./images/banner.png') no-repeat 0 -360px;\n                    &:hover{\n                        background-position: 0 -430px;\n                        cursor: pointer;\n                    }\n                }\n                /* 下一个 */\n                .nex{\n                    right: -68px;\n                    background: url('./images/banner.png') no-repeat 0 -508px;\n                    &:hover{\n                        background-position: 0 -578px;\n                        cursor: pointer;\n                    }\n                }\n            }\n\n        }\n        /* 下载 */\n        .download-wrapper{\n            width: 254px;\n            height: 100%;\n            position: absolute;\n            right: 0;\n            top:0;\n            background: url('./images/download.png') no-repeat;\n\n            .download{\n                width: 215px;\n                height: 56px;\n                margin: 185px 0 0 19px;\n                \n                &:hover{\n                    background-color: rgba(0, 0, 205, 0.1);\n                    cursor: pointer;\n                }\n            }\n            p{\n                margin-top:10px;\n                text-align: center;\n            }\n        }\n        /* 背景模糊图片 */\n        .img-blur{\n            width: 100%;\n            height: 285px;\n            overflow: hidden;\n            .blur{\n                width: 100%;\n                height: 100%;\n                position: absolute;\n                top: 0;\n                z-index: 0;\n                -webkit-filter: blur(30px); /* Chrome, Opera */\n                -moz-filter: blur(30px);\n                -ms-filter: blur(10px);    \n                filter: blur(15px);    \n                -webkit-user-select: none;\n                -moz-user-select: none;\n                -ms-user-select: none;\n                user-select: none;\n            }\n        }\n        .show-enter-active{\n        animation:atguigu 1.4s;\n        }\n        .show-leave-active{\n            animation:atguigu 1.4s reverse;\n        }\n        @keyframes atguigu {\n            from{\n                opacity: 0.6;\n            }\n\n            to{\n                opacity: 1;\n            }\n        }\n        }\n</style>"]}]}