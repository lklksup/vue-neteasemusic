{"remainingRequest":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\test1\\cloud-master\\cloud-master\\src\\views\\Song\\MainerRight\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\test1\\cloud-master\\cloud-master\\src\\views\\Song\\MainerRight\\index.vue","mtime":1654515726000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6J21haW5lcnJpZ2h0JywKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc29uZ3M6W10KICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6ewogICAgICAgIGlkKCl7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5xdWVyeS5pZCB8fCAxOTE1Mjk3MDMzOwogICAgICAgIH0KICAgIH0sCiAgICAgIHdhdGNoOnsKICAgICAgICBpZCgpewogICAgICAgICAgICB0aGlzLmdldFNpbWkoKTsKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgLy8g6I635Y+W55u45Ly85q2M5puyCiAgICAgICAgYXN5bmMgZ2V0U2ltaSgpewogICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnJlcVNpbWlTb25nKHRoaXMuaWQsbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0NPT0tJRScpKTsKICAgICAgICAgICAgdGhpcy5zb25ncyA9IHJlc3VsdC5zb25nczsKICAgICAgICB9LAogICAgICAgIC8vIOa3u+WKoOmfs+S5kOiHs+aSreaUvuWIl+ihqAogICAgICAgIGFkZE11c2ljTGlzdChpZHMpewogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWRkTXVzaWNMaXN0JyxpZHMpOwogICAgICAgIH0sCiAgICAgICAgLy8g6K6+572u5b2T5YmN5pKt5pS+55qE6Z+z5LmQCiAgICAgICAgc2V0TXVzaWMoaWQpewogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0TXVzaWNzJyxpZCk7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhZGRNdXNpY0xpc3QnLGlkKTsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ3BsYXknKTsgICAgCiAgICAgICAgICAgIH0sIDUwMCk7ICAgICAgCiAgICAgICAgfSwKICAgIH0sCiAgICBtb3VudGVkKCl7CiAgICAgICAgdGhpcy5nZXRTaW1pKCk7CiAgICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Song/MainerRight","sourcesContent":["p<template>\n  <div class=\"mainerright\">\n      <div class=\"u-hd\">\n          <span>相似歌曲</span>\n      </div>\n      <ul class=\"sglist clearfix\">\n          <li class=\"clearfix\" v-for=\"song,index in songs\" :key=\"index\">\n              <div class=\"txt\">\n                  <router-link :to=\"{path:'/song',query:{id:`${song.id}`}}\" class=\"name underline over\" :title=\"song.name\">{{song.name}}</router-link>\n                  <router-link :to=\"{path:'/artist/song',query:{id:`${song.artists[0].id}`}}\" class=\"artist underline over\" :title=\"song.artists[0].name\">{{song.artists[0].name}}</router-link>\n              </div>\n              <div class=\"opr clearfix\">\n                  <a class=\"play\" @click=\"setMusic(song.id)\"></a>\n                 <a class=\"add\"  @click=\"addMusicList(song.id)\"></a>\n              </div>\n          </li>\n      </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n    name:'mainerright',\n    data() {\n        return {\n            songs:[]\n        }\n    },\n    computed:{\n        id(){\n            return this.$route.query.id || 1915297033;\n        }\n    },\n      watch:{\n        id(){\n            this.getSimi();\n        }\n    },\n    methods:{\n        // 获取相似歌曲\n        async getSimi(){\n            let result = await this.$API.reqSimiSong(this.id,localStorage.getItem('COOKIE'));\n            this.songs = result.songs;\n        },\n        // 添加音乐至播放列表\n        addMusicList(ids){\n            this.$store.dispatch('addMusicList',ids);\n        },\n        // 设置当前播放的音乐\n        setMusic(id){\n            this.$store.dispatch('setMusics',id);\n            this.$store.dispatch('addMusicList',id);\n            setTimeout(() => {\n                this.$bus.$emit('play');    \n            }, 500);      \n        },\n    },\n    mounted(){\n        this.getSimi();\n    }\n}\n</script>\n\n<style scoped lang=\"less\">\n    .mainerright{\n        float: right;\n        width: 270px;\n        padding: 20px 40px 40px 30px;\n        .u-hd{\n            width: 100%;\n            height: 23px;\n            margin-bottom: 20px;\n            border-bottom: 1px solid #ccc;\n            color: #000;\n        }\n        .sglist{\n            margin-bottom: 30px;\n            li{\n                margin-top: 10px;\n                .txt{\n                    float: left;\n                    width: 156px;\n                    line-height: 16px;\n                    .name{\n                        width: 156px;\n                        height: 16px;\n                        display: block;\n                        color: #000;\n                    }\n                    .artist{\n                        width: 156px;\n                        height: 16px;\n                        color: #999;\n                        display: block;\n                    }\n                }\n                .opr{\n                    float: right;\n                    position: relative;\n                    top: 10px;\n                    line-height: 32px;\n                    .play{\n                        display: block;\n                        margin-right: 16px;\n                        float: left;\n                        width: 10px;\n                        height: 11px;\n                        background: url('../images/icon2.png') no-repeat;\n                        background-position: -69px -455px;\n                        opacity: 0.9;\n                        &:hover{\n                            cursor: pointer;\n                            opacity: 1;\n                        }\n                    }\n                    .add{\n                        display: block;\n                        margin-right: 0px;\n                        float: left;\n                        width: 10px;\n                        height: 11px;\n                        background: url('../images/icon2.png') no-repeat;\n                         background-position: -87px -454px;\n                         &:hover{\n                            cursor: pointer;\n                            opacity: 1;\n                        }\n                    }\n                }\n            }\n        }\n    }\n</style>"]}]}