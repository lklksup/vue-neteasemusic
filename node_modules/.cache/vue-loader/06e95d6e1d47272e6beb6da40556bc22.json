{"remainingRequest":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\test1\\vue-neteasemusic\\cloud-master\\src\\views\\Home\\Album\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\src\\views\\Home\\Album\\index.vue","mtime":1658216875307},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\vue-neteasemusic\\cloud-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9QYWdpbmF0aW9uJwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImFsYnVtIiwKICBjb21wb25lbnRzOntQYWdpbmF0aW9ufSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy/ng63pl6jmlrDnop8KICAgICAgaG90QWxidW1zOltdLAogICAgICAvL+WFqOmDqOaWsOeinwogICAgICBhbGxBbGJ1bTpbXSwKICAgICAgLy/lsZXnpLrnmoTlhajpg6jmlrDnop8KICAgICAgc2hvd0FsYnVtczpbXSwKICAgICAgLy/lhajpg6jmlrDnop/nmoTmoIfpopjliIbnsbsKICAgICAgdGl0bGU6WwogICAgICAgIHsKICAgICAgICAgIG5hbWU6J+WFqOmDqCcsCiAgICAgICAgICBhcmVhOidBTEwnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTon5Y2O6K+tJywKICAgICAgICAgIGFyZWE6J1pIJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6J+asp+e+jicsCiAgICAgICAgICBhcmVhOidFQScsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOifpn6nlm70nLAogICAgICAgICAgYXJlYTonS1InLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTon5pel5pysJywKICAgICAgICAgIGFyZWE6J0pQJywKICAgICAgICB9LAogICAgICBdLAogICAgICBwYWdlU2l6ZTozNSwKICAgICAgcGFnZU5vOjEsCiAgICAgIHR5cGU6J25ldycsCiAgICAgIHRvdGFsOjEwMDAsCiAgICB9CiAgfSwKICBjb21wdXRlZDp7CiAgICBhcmVhKCl7CiAgICAgIGlmKHRoaXMuJHJvdXRlLnF1ZXJ5LmFyZWEgPT0gdW5kZWZpbmVkKSByZXR1cm4gIkFMTCI7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5xdWVyeS5hcmVhOwogICAgfQogIH0sCiAgd2F0Y2g6ewogICAgYXJlYSgpewogICAgICB0aGlzLmdldEFsbCgpOwogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICAvLyDojrflj5bng63pl6jmlrDnop8KICAgIGFzeW5jIGdldE5ld3NldCgpewogICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnJlcUFsYnVtTmV3c2V0KCk7CiAgICAgIHRoaXMuaG90QWxidW1zID0gcmVzdWx0LmFsYnVtcy5zbGljZSgwLDEwKTsKICAgIH0sCiAgICAvLyDojrflj5blhajpg6jmlrDnop8KICAgIGFzeW5jIGdldEFsbCgpewogICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnJlcUFsYnVtKHRoaXMucGFnZVNpemUsKHRoaXMucGFnZU5vLTEpKnRoaXMucGFnZVNpemUsdGhpcy5hcmVhLHRoaXMudHlwZSk7CiAgICAgIGlmKHJlc3VsdC53ZWVrRGF0YSkKICAgICAgewogICAgICAgIHRoaXMudG90YWwgPSByZXN1bHQud2Vla0RhdGEubGVuZ3RoOwogICAgICAgIHRoaXMuYWxsQWxidW0gPSByZXN1bHQud2Vla0RhdGE7ICAKICAgICAgfQogICAgICBlbHNlewogICAgICAgIHRoaXMudG90YWwgPSByZXN1bHQubW9udGhEYXRhLmxlbmd0aDsKICAgICAgICB0aGlzLmFsbEFsYnVtID0gcmVzdWx0Lm1vbnRoRGF0YTsKICAgICAgfQogICAgICB0aGlzLmNoYW5nZUFsYnVtcygpOwogICAgfSwKICAgIC8v5omL5Yqo5YiG6aG1CiAgICBjaGFuZ2VBbGJ1bXMoKXsgCiAgICAgIHRoaXMuc2hvd0FsYnVtcyA9IHRoaXMuYWxsQWxidW0uc2xpY2UoKHRoaXMucGFnZU5vLTEpKnRoaXMucGFnZVNpemUsdGhpcy5wYWdlU2l6ZSp0aGlzLnBhZ2VObyk7CiAgICB9LAogICAgLy/mlLnlj5jlnLDljLrpgInmi6kKICAgIGNoYW5nZUFyZWEoYXJlYSl7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOicvaG9tZS9hbGJ1bScsCiAgICAgICAgcXVlcnk6ewogICAgICAgICAgYXJlYQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAvL+aOpeWPl+W9k+WJjemhteeggQogICAgZ2V0UGFnZU5vKHBhZ2VObyl7CiAgICAgIHRoaXMucGFnZU5vID0gcGFnZU5vOwogICAgICB0aGlzLmNoYW5nZUFsYnVtcygpOwogICAgfQogIH0sCiAgbW91bnRlZCgpewogICAgdGhpcy5nZXROZXdzZXQoKTsKICAgIHRoaXMuZ2V0QWxsKCk7CiAgfQp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Home/Album","sourcesContent":["<template>\n  <div class=\"album\">\n    <!-- 热门新碟 -->\n    <div class=\"hot clearfix\">\n      <div class=\"tit\">\n        <h3><span>热门新碟</span></h3>\n      </div>\n      <ul class=\"m-list clearfix\">\n        <li v-for=\"album,index in hotAlbums\" :key=\"index\">\n          <img v-lazy=\"album.blurPicUrl\" />\n          <router-link :to=\"{path:'/album',query:{id:`${album.id}`}}\"></router-link>\n          <p class=\"over name\" :title=\"album.name\">\n            <router-link :to=\"{path:'/album',query:{id:`${album.id}`}}\" style=\"color:#333;\">{{album.name}}</router-link>\n          </p>\n          <p class=\"over artist\">\n            <span v-for=\"artist,index in album.artists\" :key=\"index\">\n              <router-link :to=\"{path:'/artist/song',query:{id:artist.id}}\" :title=\"artist.name\" class=\"underline\">{{artist.name}}</router-link>\n              <span v-if=\"index != album.artists.length-1\">&nbsp;&nbsp;/&nbsp;&nbsp;</span>\n            </span>\n          </p>\n          <a class=\"play\"></a>\n        </li>\n      </ul>      \n    </div>\n    <!-- 全部新碟 -->\n    <div class=\"all\">\n      <div class=\"tit\">\n        <h3><span>全部新碟</span></h3>\n        <div class=\"tab clearfix\">\n          <li v-for=\"tit,index in title\" :key=\"index\">\n            <a class=\"underline\" @click=\"changeArea(tit.area)\">{{tit.name}}</a>\n            <span class=\"line\" v-if=\"index != 4\">|</span>\n          </li>\n        </div>\n      </div>\n      <ul class=\"m-list clearfix\">\n        <li v-for=\"album,index in showAlbums\" :key=\"index\">\n          <img v-lazy=\"album.blurPicUrl\" />\n          <router-link :to=\"{path:'/album',query:{id:`${album.id}`}}\"></router-link>\n          <p class=\"over name\" :title=\"album.name\">\n            <router-link :to=\"{path:'/album',query:{id:`${album.id}`}}\" style=\"color:#333;\">{{album.name}}</router-link>\n          </p>\n          <p class=\"over artist\">\n            <span v-for=\"artist,index in album.artists\" :key=\"index\">\n                  <router-link :to=\"{path:'/artist/song',query:{id:artist.id}}\" :title=\"artist.name\" class=\"underline\">{{artist.name}}</router-link>\n              <span v-if=\"index != album.artists.length-1\">&nbsp;&nbsp;/&nbsp;&nbsp;</span>\n            </span>\n          </p>\n          <a class=\"play\"></a>\n        </li>\n      </ul>  \n    </div>\n    <!-- 分页器 -->\n    <Pagination :pageNo='pageNo' :pageSize='pageSize' :total='total' :continues='5' @getPageNo=\"getPageNo\"></Pagination>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination'\nexport default {\n  name: \"album\",\n  components:{Pagination},\n  data() {\n    return {\n      //热门新碟\n      hotAlbums:[],\n      //全部新碟\n      allAlbum:[],\n      //展示的全部新碟\n      showAlbums:[],\n      //全部新碟的标题分类\n      title:[\n        {\n          name:'全部',\n          area:'ALL',\n        },\n        {\n          name:'华语',\n          area:'ZH',\n        },\n        {\n          name:'欧美',\n          area:'EA',\n        },\n        {\n          name:'韩国',\n          area:'KR',\n        },\n        {\n          name:'日本',\n          area:'JP',\n        },\n      ],\n      pageSize:35,\n      pageNo:1,\n      type:'new',\n      total:1000,\n    }\n  },\n  computed:{\n    area(){\n      if(this.$route.query.area == undefined) return \"ALL\";\n      return this.$route.query.area;\n    }\n  },\n  watch:{\n    area(){\n      this.getAll();\n    }\n  },\n  methods:{\n    // 获取热门新碟\n    async getNewset(){\n      let result = await this.$API.reqAlbumNewset();\n      this.hotAlbums = result.albums.slice(0,10);\n    },\n    // 获取全部新碟\n    async getAll(){\n      let result = await this.$API.reqAlbum(this.pageSize,(this.pageNo-1)*this.pageSize,this.area,this.type);\n      if(result.weekData)\n      {\n        this.total = result.weekData.length;\n        this.allAlbum = result.weekData;  \n      }\n      else{\n        this.total = result.monthData.length;\n        this.allAlbum = result.monthData;\n      }\n      this.changeAlbums();\n    },\n    //手动分页\n    changeAlbums(){ \n      this.showAlbums = this.allAlbum.slice((this.pageNo-1)*this.pageSize,this.pageSize*this.pageNo);\n    },\n    //改变地区选择\n    changeArea(area){\n      this.$router.push({\n        path:'/home/album',\n        query:{\n          area\n        }\n      })\n    },\n    //接受当前页码\n    getPageNo(pageNo){\n      this.pageNo = pageNo;\n      this.changeAlbums();\n    }\n  },\n  mounted(){\n    this.getNewset();\n    this.getAll();\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.album {\n  width: 982px;\n  margin: 0 auto;\n  border: 1px solid #d3d3d3;\n  background-color: #fff;\n  min-height: 700px;\n  padding: 40px;\n  .hot{\n    .tit {\n    width: 100%;\n    height: 42px;\n    border-bottom: 2px solid #c20c0c;\n\n    h3 {\n      float: left;\n      font-size: 24px;\n      font-weight: normal;\n      color: #333;\n    }\n  }\n  }\n  .all{\n    .tit {\n      width: 100%;\n      height: 42px;\n      border-bottom: 2px solid #c20c0c;\n      h3 {\n        float: left;\n        font-size: 24px;\n        font-weight: normal;\n        color: #333;\n      }\n      .tab{\n        float: left;\n        margin: 12px 0 0 20px;\n\n        li{\n          float: left;\n          a{\n            float: left;\n            &:hover{\n              color: #666;\n            }\n          }\n          .line{\n            display: block;\n            float: left;\n            margin: 0 10px;\n            margin-top: -2px;\n          }\n        }\n      }\n    }\n  }\n  .m-list {\n    margin: 20px 0 0 -33px;\n    width: 933px;\n    min-height: 416px;\n\n    li {\n      float: left;\n      width: 186px;\n      height: 208px;\n      padding: 0 0 30px 33px;\n      position: relative;\n      img {\n        width: 130px;\n        height: 130px;\n      }\n      >a {\n        width: 153px;\n        height: 130px;\n        position: absolute;\n        top: 0;\n        left: 33px;\n        background: url(\"./images/coverall.png\") no-repeat 0 -845px;\n        &:hover {\n          cursor: pointer;\n        }\n      }\n      .name {\n        text-align: left;\n        color: #333;\n        font-family: Arial, Helvetica, sans-serif;\n        -webkit-text-size-adjust: none;\n        display: block;\n        margin: 8px 0 3px;\n        font-size: 14px;\n\n        &:hover {\n          cursor: pointer;\n          text-decoration: underline;\n        }\n      }\n      .artist{\n        a:hover{\n          color: #666;\n        }\n      }\n      .play {\n        position: absolute;\n        width: 28px;\n        height: 28px;\n        left: 130px;\n        top: 95px;\n        background: url(\"./images/iconall.png\") no-repeat 0 -140px;\n        display: none;\n      }\n      &:hover .play {\n        display: block;\n      }\n    }\n  }\n}\n</style>"]}]}