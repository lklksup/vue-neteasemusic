{"remainingRequest":"D:\\github-project\\vue-neteasemusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\github-project\\vue-neteasemusic\\src\\views\\Search\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\github-project\\vue-neteasemusic\\src\\views\\Search\\index.vue","mtime":1654515726000},{"path":"D:\\github-project\\vue-neteasemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\github-project\\vue-neteasemusic\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\github-project\\vue-neteasemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\github-project\\vue-neteasemusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9QYWdpbmF0aW9uJwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOidzZWFyY2gnLAogICAgY29tcG9uZW50czp7UGFnaW5hdGlvbn0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8vIOaQnOe0ouWGheWuuQogICAgICAgICAgICBzZWFyY2hUZXh0OicnLAogICAgICAgICAgICAvLyDmkJzntKLnu5PmnpzliJfooagKICAgICAgICAgICAgc2VhcmNobGlzdDp7fSwKICAgICAgICAgICAgLy8g5pCc57Si6YCJ6aG5CiAgICAgICAgICAgIHNlYXJjaHRhYjpbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTon5Y2V5puyJywKICAgICAgICAgICAgICAgICAgICB0eXBlOjEsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6J+atjOaJiycsCiAgICAgICAgICAgICAgICAgICAgdHlwZToxMDAsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6J+S4k+i+kScsCiAgICAgICAgICAgICAgICAgICAgdHlwZToxMCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTon5q2M5Y2VJywKICAgICAgICAgICAgICAgICAgICB0eXBlOjEwMDAsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6J+inhumikScsCiAgICAgICAgICAgICAgICAgICAgdHlwZToxMDE0LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgICAgcGFnZU5vOjEsCiAgICAgICAgICAgIHBhZ2VTaXplOjMwLAogICAgICAgICAgICB0b3RhbDoxMCwKICAgICAgICAgICAgLy8g5pCc57Si5bu66K6u6L+U5Zue55qE57uT5p6cCiAgICAgICAgICAgIHNlYXJjaExpc3Q6e30sCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOnsKICAgICAgICB0eXBlKCl7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5xdWVyeS50eXBlfHwnMSc7CiAgICAgICAgfSwKICAgICAgICBrZXl3b3JkcygpewogICAgICAgICAgICByZXR1cm4gdGhpcy4kcm91dGUucXVlcnkua2V5d29yZHM7CiAgICAgICAgfSwKICAgICAgICBzaG93VGV4dCgpewogICAgICAgICAgICByZXR1cm4gdGhpcy4kcm91dGUucXVlcnkua2V5d29yZHM7CiAgICAgICAgfSwKICAgICAgICBtdXNpY05vdygpewogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubXVzaWMubXVzaWM7CiAgICAgICAgfQogICAgfSwKICAgIHdhdGNoOnsKICAgICAgICB0eXBlKCl7CiAgICAgICAgICAgIHRoaXMucGFnZU5vID0gMTsKICAgICAgICAgICAgdGhpcy5nZXRTZWFyY2hMaXN0KCk7CiAgICAgICAgfSwKICAgICAgICBzZWFyY2hUZXh0KCl7CiAgICAgICAgICAgIHRoaXMuZ2V0U2VhcmNoU3VnZ2VzdCgpOwogICAgICAgICAgICAvLyBpZih0aGlzLnNlYXJjaFRleHQgIT0gJycpewogICAgICAgICAgICAvLyAgICAgdGhpcy4kcmVmcy51bHN0Mi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAvLyBlbHNlewogICAgICAgICAgICAvLyAgICAgdGhpcy4kcmVmcy51bHN0Mi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAvLyB9CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIC8vIOiOt+WPluaQnOe0ouS/oeaBrwogICAgICAgIGFzeW5jIGdldFNlYXJjaExpc3QoKXsKICAgICAgICAgICAgaWYodGhpcy50eXBlID09IDEgfHwgdGhpcy50eXBlID09IDEwMDApIHRoaXMucGFnZVNpemUgPSAzMDsKICAgICAgICAgICAgZWxzZSBpZih0aGlzLnR5cGUgPT0gMTAwKSB0aGlzLnBhZ2VTaXplID0gOTA7CiAgICAgICAgICAgIGVsc2UgaWYodGhpcy50eXBlID09IDEwKSB0aGlzLnBhZ2VTaXplID0gNzU7CiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLiRBUEkucmVxQ2xvdWRTZWFyY2godGhpcy5rZXl3b3Jkcyx0aGlzLnR5cGUsdGhpcy5wYWdlU2l6ZSwodGhpcy5wYWdlTm8tMSkqdGhpcy5wYWdlU2l6ZSxsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnQ09PS0lFJykpOwogICAgICAgICAgICB0aGlzLnNlYXJjaGxpc3QgPSByZXN1bHQucmVzdWx0LnNvbmdzIHx8IHJlc3VsdC5yZXN1bHQuYXJ0aXN0cyB8fCByZXN1bHQucmVzdWx0LmFsYnVtcyB8fCByZXN1bHQucmVzdWx0LnBsYXlsaXN0cyB8fCByZXN1bHQucmVzdWx0LnZpZGVvczsKICAgICAgICAgICAgdGhpcy50b3RhbCA9IHJlc3VsdC5yZXN1bHQuc29uZ0NvdW50IHx8IHJlc3VsdC5yZXN1bHQuYXJ0aXN0Q291bnQgfHwgcmVzdWx0LnJlc3VsdC5hbGJ1bUNvdW50IHx8IHJlc3VsdC5yZXN1bHQucGxheWxpc3RDb3VudCB8fCByZXN1bHQucmVzdWx0LnZpZGVvQ291bnQ7CiAgICAgICAgfSwKICAgICAgICBtaW4odGltZSl7CiAgICAgICAgICAgIGlmKHBhcnNlSW50KHRpbWUvNjAwMDApIDwgMTApCiAgICAgICAgICAgICAgICByZXR1cm4gJzAnK3BhcnNlSW50KHRpbWUvNjAwMDApOwogICAgICAgICAgICBlbHNlIHJldHVybiBwYXJzZUludCh0aW1lLzYwMDAwKQogICAgICAgIH0sCiAgICAgICAgc2VjKHRpbWUpewogICAgICAgICAgICBsZXQgeCA9IHBhcnNlSW50KHRpbWUvNjAwMDApOwogICAgICAgICAgICBsZXQgeSA9IHBhcnNlSW50KHRpbWUvMTAwMC14KjYwKTsKICAgICAgICAgICAgaWYoeSA8IDEwKSByZXR1cm4gJzAnK3k7CiAgICAgICAgICAgIGVsc2UgcmV0dXJuIHk7CiAgICAgICAgfSwKICAgICAgICAvLyDliIfmjaLmkJzntKLnp43nsbsKICAgICAgICBjaGFuZ2VTZWFyY2godHlwZSl7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIHBhdGg6Jy9zZWFyY2gnLAogICAgICAgICAgICAgICAgcXVlcnk6ewogICAgICAgICAgICAgICAgICAgIGtleXdvcmRzOnRoaXMua2V5d29yZHMsCiAgICAgICAgICAgICAgICAgICAgdHlwZSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgIH0sCiAgICAgICAgLy/mkJzntKIKICAgICAgICBzZWFyY2goKXsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgcGF0aDonL3NlYXJjaCcsCiAgICAgICAgICAgICAgICBxdWVyeTp7CiAgICAgICAgICAgICAgICAgICAga2V5d29yZHM6dGhpcy5zZWFyY2hUZXh0LAogICAgICAgICAgICAgICAgICAgIHR5cGU6dGhpcy50eXBlLAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICB0aGlzLmdldFNlYXJjaExpc3QoKTsKICAgICAgICAgICAgdGhpcy4kcmVmcy51bHN0Mi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIH0sCiAgICAgICAgLy8g6I635Y+W5pCc57Si5bu66K6uCiAgICAgICAgYXN5bmMgZ2V0U2VhcmNoU3VnZ2VzdCgpeyAKICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMuJEFQSS5yZXFTZXJhY2hTdWdnZXN0KHRoaXMuc2VhcmNoVGV4dCk7CiAgICAgICAgICAgIHRoaXMuc2VhcmNoTGlzdCA9IHJlc3VsdC5yZXN1bHQ7CiAgICAgICAgfSwKICAgICAgICAvLyDmiZPlvIDmkJzntKLmoYYKICAgICAgICBvcGVuU2VhcmNoKCl7CiAgICAgICAgaWYodGhpcy5zZWFyY2hUZXh0ICE9ICcnKXsKICAgICAgICAgICAgdGhpcy4kcmVmcy51bHN0Mi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJwogICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIOWFs+mXreaQnOe0ouahhgogICAgICAgIGNsb3NlU2VhcmNoKCl7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLiRyZWZzLnVsc3QyLnN0eWxlLmRpc3BsYXk9J25vbmUnOyAgCiAgICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgfSwKICAgICAgICBnZXRQYWdlTm8ocGFnZSl7CiAgICAgICAgICAgIHRoaXMucGFnZU5vID0gcGFnZTsKICAgICAgICAgICAgdGhpcy5nZXRTZWFyY2hMaXN0KCk7CiAgICAgICAgfSwKICAgICAgICAvLyDmkJzntKIKICAgICAgICBnb1NlYXJjaChwYXRoLGlkKXsKICAgICAgICAgICAgcGF0aCA9IHBhdGguc3Vic3RyKDAscGF0aC5sZW5ndGgtMSk7CiAgICAgICAgICAgIGlmKHBhdGggPT0gJ2FydGlzdCcpIHBhdGg9J2FydGlzdC9zb25nJzsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgcGF0aDpgLyR7cGF0aH1gLAogICAgICAgICAgICAgICAgcXVlcnk6ewogICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8vIOa3u+WKoOmfs+S5kOiHs+aSreaUvuWIl+ihqAogICAgICAgIGFkZE11c2ljTGlzdChpZHMpewogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWRkTXVzaWNMaXN0JyxpZHMpOwogICAgICAgIH0sCiAgICAgICAgLy8g6K6+572u5b2T5YmN5pKt5pS+55qE6Z+z5LmQCiAgICAgICAgc2V0TXVzaWMoaWQpewogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0TXVzaWNzJyxpZCk7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhZGRNdXNpY0xpc3QnLGlkKTsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ3BsYXknKTsgICAgCiAgICAgICAgICAgIH0sIDUwMCk7ICAgICAgCiAgICAgICAgfSwKICAgIH0sCiAgICBtb3VudGVkKCl7CiAgICAgICAgdGhpcy5zZWFyY2hUZXh0ID0gdGhpcy5zaG93VGV4dDsKICAgICAgICB0aGlzLmdldFNlYXJjaExpc3QoKTsKICAgIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Search","sourcesContent":["<template>\n  <div class=\"search clearfix\">\n      <div class=\"header\"></div>\n      <div class=\"wrapper\">\n          <div class=\"pgsrch\">\n              <input type=\"text\" v-model='searchText'  @keyup.enter=\"search\" @blur=\"closeSearch\" @focus=\"openSearch\">\n              <div class=\"search\" @click=\"search\"></div>\n          </div>\n            <div class=\"u-lst clearfix\" style=\"display:none\" ref=\"ulst2\">\n                <div class=\"schlist\">\n                    <p class=\"note\">\n                    <a class=\"underline\">搜索\"{{searchText}}\"相关用户&gt;</a>\n                    </p>\n                    <div class=\"rap clearfix\">\n                    <div class=\"item clearfix\">\n                        <ul class=\"clearfix\" v-for=\"item,index in searchList.order\" :key=\"index\">\n                        <div class=\"hd clearfix\">\n                            <i class=\"songs\" v-show=\"item=='songs'\"></i>\n                            <i class=\"artists\" v-show=\"item=='artists'\"></i>\n                            <i class=\"albums\" v-show=\"item=='albums'\"></i>\n                            <i class=\"playlists\" v-show=\"item=='playlists'\"></i>  \n                            <span v-show=\"item=='songs'\">单曲</span>\n                            <span v-show=\"item=='artists'\">歌手</span>\n                            <span v-show=\"item=='albums'\">专辑</span>\n                            <span v-show=\"item=='playlists'\">歌单</span>\n                        </div>\n                        <div class=\"odd clearfix\">\n                            <li v-for=\"attr,index in searchList[`${item}`]\" :key=\"index\">\n                            <i class=\"over\" @click=\"goSearch(item,attr.id)\">\n                                {{attr.name}}-\n                                <span v-show=\"item=='songs'\" v-for=\"t,index in attr.artists\" :key=\"index\">{{t.name}} </span>\n                                <span v-if=\"item == 'albums'\">{{attr.artist.name}}</span>\n                            </i>\n                            </li>\n                        </div>\n                        </ul>\n                    </div>\n                    </div>\n                </div>\n            </div>\n          <template>\n                <div class=\"hd\">搜索\"{{showText}}\"，</div>\n                <span class=\"text\" v-if=\"type == 1\">找到<span style=\"color:#f00;\">&nbsp;{{total}}&nbsp;</span>首单曲</span> \n                <span class=\"text\" v-if=\"type == 100\">找到<span style=\"color:#f00;\">&nbsp;{{total}}&nbsp;</span>个歌手</span> \n                <span class=\"text\" v-if=\"type == 10\">找到<span style=\"color:#f00;\">&nbsp;{{total}}&nbsp;</span>张专辑</span> \n                <span class=\"text\" v-if=\"type == 1000\">找到<span style=\"color:#f00;\">&nbsp;{{total}}&nbsp;</span>个歌单</span> \n                <span class=\"text\" v-if=\"type == 1014\">找到<span style=\"color:#f00;\">&nbsp;{{total}}&nbsp;</span>个视频</span> \n          </template> \n          <!-- 搜索选项 -->\n          <ul class=\"tabs\">\n              <li class=\"fst\" v-for=\"item,index in searchtab\" :key=\"index\" :class=\"{active:type==item.type}\" @click=\"changeSearch(item.type)\">\n                  <div><em>{{item.name}}</em></div>\n              </li>\n          </ul>\n          <div class=\"srchrst clearfix\">\n              <!-- 搜索单曲 -->\n              <div class=\"songlist\" v-if=\"type==1\">\n                  <li class=\"item\" v-for=\"song,index in searchlist\" :key=\"index\">\n                      <div class=\"play\" :class=\"{active2:song.id==musicNow.id}\"  @click=\"setMusic(song.id)\"></div>\n                      <div class=\"text over\">\n                          <router-link :to=\"{path:'/song',query:{id:`${song.id}`}}\" class=\"name\">{{song.name}}</router-link>\n                          <span v-if=\"song.tns\">-({{song.tns[0]}})</span>\n                          <span v-if=\"song.alia.length != 0\">-({{song.alia[0]}})</span>\n                      </div>\n                      <div class=\"box\"></div>\n                       <div class=\"show\">\n                                <a text=\"添加到播放列表\" class=\"a1\"  @click=\"addMusicList(song.id)\"></a>\n                                <a text=\"收藏\" class=\"a2\"></a>\n                                <a text=\"分享\" class=\"a3\"></a>\n                                <a text=\"下载\" class=\"a4\"></a>\n                      </div>\n                      <div class=\"artist over\">\n                          <li v-for=\"arr,index in song.ar\" :key=\"index\">\n                              <router-link :to=\"{path:'/artist/song',query:{id:`${arr.id}`}}\" :title=\"arr.name\" class=\"underline\">{{arr.name}}</router-link>\n                              <span v-show=\"index != song.ar.length-1\">/</span>\n                          </li>\n                      </div>\n                      <div class=\"album over\">\n                          <router-link :to=\"{path:'/album',query:{id:`${song.al.id}`}}\" class=\"underline\" :title=\"song.al.name\">《{{song.al.name}}》</router-link>\n                      </div>\n                      <div class=\"time\">\n                          <span>{{min(song.dt)}}:{{sec(song.dt)}}</span>\n                      </div>\n                  </li>\n              </div>\n              <!-- 搜索歌手 -->\n              <div class=\"artists clearfix\" v-else-if=\"type==100\">\n                  <li class=\"art\" v-for=\"art,index in searchlist\" :key=\"index\">\n                        <router-link :to=\"{path:'/artist/song',query:{id:`${art.id}`}}\" :title=\"art.name\" class=\"cover pointer\">\n                          <img v-lazy=\"art.img1v1Url\">\n                          <span class=\"msk\"></span>\n                        </router-link>\n                        <p>\n                            <router-link :to=\"{path:'/artist/song',query:{id:`${art.id}`}}\" :title=\"art.name\" class=\"underline\">{{art.name}}</router-link>\n                        </p>\n                  </li>\n              </div>\n              <!-- 搜索专辑 -->\n              <div class=\"albums clearfix\" v-else-if=\"type == 10\">\n                  <li class=\"alb\" v-for=\"album,index in searchlist\" :key=\"index\">\n                        <img v-lazy=\"album.blurPicUrl\" />\n                        <router-link :to=\"{path:'/album',query:{id:`${album.id}`}}\"></router-link>\n                        <p class=\"over name\" :title=\"album.name\">\n                            <router-link :to=\"{path:'/album',query:{id:`${album.id}`}}\" style=\"color:#333;\">{{album.name}}</router-link>\n                        </p>\n                        <p class=\"over artist\">\n                            <span  v-for=\"artist,index in album.artists\" :key=\"index\">\n                                <router-link :to=\"{path:'/artist/song',query:{id:`${artist.id}`}}\" :title=\"artist.name\" class=\"underline\">{{artist.name}}</router-link>\n                                <span v-if=\"index != album.artists.length-1\">&nbsp;/&nbsp;</span>\n                            </span>\n                        </p>\n                        <a class=\"play\"></a>\n                  </li>\n              </div>\n              <!-- 搜索歌单 -->\n              <table class=\"playlists clearfix\" v-else-if=\"type == 1000\">\n                  <tbody>\n                      <tr class=\"flag\" v-for=\"playlist,index in searchlist\" :key=\"index\">\n                          <td class=\"play\">\n                              <div class=\"hdd\">\n                                  <span class=\"icon\"></span>\n                              </div>\n                          </td>\n                          <td class=\"w7\">\n                              <div class=\"u-cover\">\n                                  <router-link class=\"pointer\" :to=\"{path:'/playlist',query:{id:`${playlist.id}`}}\">\n                                      <img v-lazy=\"playlist.coverImgUrl\">\n                                      <span class=\"msk\"></span>\n                                  </router-link>\n                              </div>\n                          </td>\n                          <td class=\"text over\">\n                              <router-link class=\"underline\" :to=\"{path:'/playlist',query:{id:`${playlist.id}`}}\">{{playlist.name}}</router-link>\n                              <div class=\"show\">\n                                <a text=\"添加到播放列表\" class=\"a1\"></a>\n                                <a text=\"收藏\" class=\"a2\"></a>\n                                <a text=\"分享\" class=\"a3\"></a>\n                            </div>\n                          </td>\n                          <td class=\"w11\">{{playlist.trackCount}}首</td>\n                          <td class=\"w4\">\n                              <span>by&nbsp;&nbsp;</span>\n                              <a class=\"underline over\">{{playlist.creator.nickname}}</a>\n                          </td>\n                          <td class=\"w6\">收藏：{{playlist.bookCount>=100000?parseInt((playlist.bookCount)/10000)+'万':playlist.bookCount}}</td>\n                          <td class=\"w6\">收听：{{playlist.playCount>=100000?parseInt((playlist.playCount)/10000)+'万':playlist.playCount}}</td>\n                      </tr>\n                  </tbody>\n              </table>\n              <!-- 搜索mv -->\n              <div class=\"mvs clearfix\" v-else-if=\"type == 1014\">\n                  <li v-for=\"mv,index in searchlist\" :key=\"index\">\n                      <a class=\"u-cover\">\n                          <img v-lazy=\"mv.coverUrl\">\n                          <span class=\"time\">{{min(mv.durationms)}}:{{sec(mv.durationms)}}</span>\n                          <span class=\"times\"><i></i>{{mv.playTime>=100000?parseInt((mv.playTime)/10000)+'万':mv.playTime}}</span>\n                      </a>\n                      <h4 class=\"title over\"><a class=\"underline\" :title=\"mv.title\">{{mv.title}}</a></h4>\n                      <h5 class=\"name over\">\n                          <span v-for=\"arr,index in mv.creator\" :key=\"index\">\n                              <a :title=\"arr.userName\" class=\"underline\">{{arr.userName}}</a>\n                              <span v-show=\"index != mv.creator.length-1\">/</span>\n                          </span>\n                        </h5>\n                  </li>\n              </div>\n          </div>\n          <Pagination :pageNo='pageNo' :pageSize='pageSize' :total='total' :continues='5' @getPageNo=\"getPageNo\"></Pagination>\n      </div>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination'\nexport default {\n    name:'search',\n    components:{Pagination},\n    data() {\n        return {\n            // 搜索内容\n            searchText:'',\n            // 搜索结果列表\n            searchlist:{},\n            // 搜索选项\n            searchtab:[\n                {\n                    name:'单曲',\n                    type:1,\n                },\n                {\n                    name:'歌手',\n                    type:100,\n                },\n                {\n                    name:'专辑',\n                    type:10,\n                },\n                {\n                    name:'歌单',\n                    type:1000,\n                },\n                {\n                    name:'视频',\n                    type:1014,\n                },\n            ],\n            pageNo:1,\n            pageSize:30,\n            total:10,\n            // 搜索建议返回的结果\n            searchList:{},\n        }\n    },\n    computed:{\n        type(){\n            return this.$route.query.type||'1';\n        },\n        keywords(){\n            return this.$route.query.keywords;\n        },\n        showText(){\n            return this.$route.query.keywords;\n        },\n        musicNow(){\n            return this.$store.state.music.music;\n        }\n    },\n    watch:{\n        type(){\n            this.pageNo = 1;\n            this.getSearchList();\n        },\n        searchText(){\n            this.getSearchSuggest();\n            // if(this.searchText != ''){\n            //     this.$refs.ulst2.style.display = 'block';\n            // }\n            // else{\n            //     this.$refs.ulst2.style.display = 'none';\n            // }\n        }\n    },\n    methods:{\n        // 获取搜索信息\n        async getSearchList(){\n            if(this.type == 1 || this.type == 1000) this.pageSize = 30;\n            else if(this.type == 100) this.pageSize = 90;\n            else if(this.type == 10) this.pageSize = 75;\n            let result = await this.$API.reqCloudSearch(this.keywords,this.type,this.pageSize,(this.pageNo-1)*this.pageSize,localStorage.getItem('COOKIE'));\n            this.searchlist = result.result.songs || result.result.artists || result.result.albums || result.result.playlists || result.result.videos;\n            this.total = result.result.songCount || result.result.artistCount || result.result.albumCount || result.result.playlistCount || result.result.videoCount;\n        },\n        min(time){\n            if(parseInt(time/60000) < 10)\n                return '0'+parseInt(time/60000);\n            else return parseInt(time/60000)\n        },\n        sec(time){\n            let x = parseInt(time/60000);\n            let y = parseInt(time/1000-x*60);\n            if(y < 10) return '0'+y;\n            else return y;\n        },\n        // 切换搜索种类\n        changeSearch(type){\n            this.$router.push({\n                path:'/search',\n                query:{\n                    keywords:this.keywords,\n                    type,\n                }\n            });\n\n        },\n        //搜索\n        search(){\n            this.$router.push({\n                path:'/search',\n                query:{\n                    keywords:this.searchText,\n                    type:this.type,\n                }\n            })\n            this.getSearchList();\n            this.$refs.ulst2.style.display = 'none';\n        },\n        // 获取搜索建议\n        async getSearchSuggest(){ \n            let result = await this.$API.reqSerachSuggest(this.searchText);\n            this.searchList = result.result;\n        },\n        // 打开搜索框\n        openSearch(){\n        if(this.searchText != ''){\n            this.$refs.ulst2.style.display = 'block'\n        }\n        },\n        // 关闭搜索框\n        closeSearch(){\n            setTimeout(() => {\n            this.$refs.ulst2.style.display='none';  \n            }, 100);\n        },\n        getPageNo(page){\n            this.pageNo = page;\n            this.getSearchList();\n        },\n        // 搜索\n        goSearch(path,id){\n            path = path.substr(0,path.length-1);\n            if(path == 'artist') path='artist/song';\n            this.$router.push({\n                path:`/${path}`,\n                query:{\n                id\n                }\n            })\n        },\n        // 添加音乐至播放列表\n        addMusicList(ids){\n            this.$store.dispatch('addMusicList',ids);\n        },\n        // 设置当前播放的音乐\n        setMusic(id){\n            this.$store.dispatch('setMusics',id);\n            this.$store.dispatch('addMusicList',id);\n            setTimeout(() => {\n                this.$bus.$emit('play');    \n            }, 500);      \n        },\n    },\n    mounted(){\n        this.searchText = this.showText;\n        this.getSearchList();\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n    .search{\n        width: 100%;\n        .header{\n            height: 5px;\n            width: 100%;\n            position: relative;\n            top: 0;\n            background-color: #C20C0C;\n        }\n        .wrapper{\n            width: 982px;\n            margin: 0 auto;\n            background-color: #fff;\n            border: 1px solid #d3d3d3;\n            border-width: 0 1px;\n            min-height: 700px;\n            padding: 40px;\n            .pgsrch{\n                width: 420px;\n                height: 40px;\n                margin: 0 auto;\n                background: url('./images/sprite.png') no-repeat 0 0;\n                background-position: 0 0;\n                z-index: 10;\n                input{\n                    width: 320px;\n                    height: 17px;\n                    margin-left: 20px;\n                    margin-top: 12px;\n                }\n                .search{\n                    width: 50px;\n                    height: 40px;\n                    float: right;\n                    &:hover{\n                        cursor: pointer;\n                        background: url('./images/sprite.png') no-repeat -430px 0;\n                    }  \n                }\n            }\n            .u-lst{\n                position: absolute;\n                top:160px;\n                width: 420px;\n                z-index: 120;\n                left: 548px;\n                box-sizing: border-box;\n                border: 1px solid #bebebe;\n                border-radius: 4px;\n                background: #fff;\n                box-shadow: 0 4px 7px #555;\n                text-shadow: 0 1px 0 rgb(255 255 255 / 90%);\n                .schlist{\n                width: 100%;\n                .note{\n                    width: 100%;\n                    padding: 11px 10px;\n                    height: 39px;\n                    border-bottom: 1px solid #979797;\n                    a{\n                    color: #000;\n                    &:hover{\n                        color: #000;\n                    }\n                    }\n                }\n                .rap{\n                    width: 100%;\n                    .item{\n                    width: 100%;\n                    display: block;\n                    ul{\n                        width: 100%;\n                        .hd{\n                        float: left;\n                        width: 63px;\n                        padding: 10px 0 0 10px;\n                        i{\n                            float: left;\n                            margin: 2px 4px 0 0;\n                            width: 14px;\n                            height: 15px;\n                            background: url('./images/icon.png');\n                        }\n                        .songs{\n                            background-position: -35px -300px;\n                        }\n                        .artists{\n                            background-position: -50px -300px;\n                        }\n                        .albums{\n                            background-position: -35px -320px;\n                        }\n                        .playlists{\n                            background-position: -50px -320px;\n                        }\n                        span{\n                            line-height: 15px;\n                            text-align: left;\n                            font-size: 12px;\n                        }\n                        }\n                        .odd{\n                        float: left;\n                        width: 353px;\n                        background: #f9f8f8;\n                        margin-left: 2px;\n                        margin-top: 0px;\n                        padding: 6px 0 5px;\n                        border-top: 1px solid #e2e2e2;\n                        border-left: 1px solid #e2e2e2;\n                        li{\n                            width: 100%;\n                            \n                            i{\n                            padding-left: 10px;\n                            display: block;\n                            height: 24px;\n                            color: #000;\n                            line-height: 24px;\n                            &:hover{\n                                color: #000;\n                                background-color: #ddd;\n                                cursor: pointer;\n                            }\n                            }\n                        }\n                        }\n                    }\n                    }\n                }\n                }\n            }\n            >.hd{\n                color: #999;\n                display: inline-block;\n                margin-top: 28px;\n                margin-bottom: 17px;\n                height: 16px;\n            }\n            .text{\n                color: #999;\n            }\n            .tabs{\n                width: 100%;\n                height: 39px;\n                border: 1px solid #ccc;\n                border-width: 0 1px;\n                background: url('./images/tab.png');\n                background-position: 0 0;\n                background-repeat: repeat-x;\n                display: flex;\n                .fst{\n                    width: 20%;\n                    text-align: center;\n                    cursor: pointer;\n                    position: relative;\n                    padding-left: 2px;\n                    &:hover{\n                        background: url('./images/tab.png') no-repeat -1px -45px;\n                    }\n                    em{\n                        display: block;\n                        width: 100%;\n                        height: 39px;\n                        padding: 2px 2px 0 0;\n                        line-height: 37px;\n                        font-size: 14px;\n                        text-align: center;\n                    }\n                }\n                .active{\n                    background:url('./images/tab.png') no-repeat left -90px;\n                    em{\n                        background:url('./images/tab.png') no-repeat right -90px;\n                    }\n                }\n            }\n            .srchrst{\n                margin-bottom: 50px;\n                width: 100%;\n                margin-top: 20px;\n                position: relative;\n                .songlist{\n                    width: 100%;\n                    min-height: 700px;\n                    .item{\n                        padding: 10px 10px 8px 18px;\n                        border: 1px solid #fff;\n                        display: block;\n                        width: 100%;\n                        height: 42px;\n                        .play{\n                            float: left;\n                            width: 17px;\n                            height: 17px;\n                            margin-right: 5px;\n                            background: url('./images/table.png') no-repeat 0 -103px;\n                            cursor: pointer;\n                            &:hover{\n                                background: url('./images/table.png') no-repeat 0 -128px;\n                            }\n                        }\n                        .active2{\n                            background-position: -20px -128px;\n                            &:hover{\n                                background-position: -20px -128px;\n                            }\n                        }\n                        .text{\n                            width: 330px;\n                            height: 100%;\n                            float: left;\n                            margin-right: 30px;\n                            a{\n                                color: #0c73c2;\n                                &:hover{\n                                    color: #0c73c2;\n                                    cursor: pointer;\n                                    text-decoration: underline;\n                                }\n                            }\n                        }\n                        .box{\n                            float: left;\n                            display: block;\n                            width: 79px;\n                            height: 18px;\n                        }\n                        .show{\n                            float: left;\n                            width: 79px;\n                            height: 18px;\n                            display: none;\n                            a{\n                                margin: 2px 0 0 4px;\n                                width: 18px;\n                                height: 16px;\n                                display: block;\n                                float: left;\n                                background: url('./images/table.png') no-repeat;\n                                &:hover{\n                                    cursor: pointer;\n                                }\n                            }\n                            .a1{\n                                width: 13px;\n                                height: 13px;\n                                margin-top:2px;\n                                margin-left: 0;\n                                background: url('./images/icon.png') no-repeat;\n                                background-position: 0 -700px;\n\n                                &:hover{\n                                    background-position: -22px -700px;\n                                }\n                            }\n\n                            .a2{\n                                background-position: 0 -174px;\n                                &:hover{\n                                    background-position: -20px -174px;\n                                }\n                            }\n                            .a3{\n                                background-position: 0 -195px;\n                                &:hover{\n                                    background-position: -20px -195px;\n                                }\n                            }\n                            .a4{\n                                background-position: -81px -174px;\n                                &:hover{\n                                    background-position: -104px -174px;\n                                }\n                            }\n                        }\n                        .artist{\n                            float: left;\n                            width: 130px;\n                            margin-left: 10px;\n                            margin-right:20px ;\n                            height: 18px;\n                            li{\n                                display: inline;\n                                // float: left;\n                                a:hover{\n                                    color: #666;\n                                    cursor: pointer;\n                                    text-decoration: underline;\n                                }\n                            }\n                        }\n                        .album{\n                            width: 150px;\n                            margin-right: 30px;\n                            float: left;\n                            height: 100%;\n                            a:hover{\n                                color: #666;\n                            }\n                        }\n                        .time{\n                            width: 50px;\n                            float: left;\n                        }\n                        &:hover{\n                            background-color: #eee;\n                            .show{\n                                display: block;\n                            }\n                            .box{\n                                display: none;\n                            }\n                        }\n                    }\n                    .item:nth-child(even){\n                        background: #f7f7f7;\n                        border-color: #f7f7f7;\n                        &:hover{\n                            background-color: #eee;\n                        }\n                    }\n                }\n                .artists{\n                    width: 924px;\n                    margin-left: -24px;\n                    min-height: 700px;\n                    .art{\n                        float: left;\n                        padding-left: 24px;\n                        padding-bottom: 30px;\n                        width: 154px;\n                        height: 184px;\n                        .cover{\n                            display: block;\n                            width: 130px;\n                            height: 130px;\n                            position: relative;\n                            img{\n                                width: 130px;\n                                height: 130px;\n                            }\n                            .msk{\n                                display: block;\n                                position: absolute;\n                                top: 0;\n                                left: 0;\n                                width: 100%;\n                                height: 100%;\n                                background: url('./images/coverall.png') no-repeat 0 -680px;\n                                z-index: 2;\n                            }\n                        }\n                        p{\n                            margin-top: 8px;\n                            a:hover{\n                                color: #666;\n                            }\n                        }\n                    }\n                }\n                .albums{\n                    width: 933px;\n                    margin-left: -33px;\n                    .alb{\n                        float: left;\n                        width: 186px;\n                        height: 208px;\n                        padding:  0 0 30px 33px;\n                         position: relative;\n                            img {\n                                width: 130px;\n                                height: 130px;\n                            }\n                            >a {\n                                width: 153px;\n                                height: 130px;\n                                position: absolute;\n                                top: 0;\n                                left: 33px;\n                                background: url(\"./images/coverall.png\") no-repeat 0 -845px;\n                                &:hover {\n                                cursor: pointer;\n                                }\n                            }\n                            .name {\n                                text-align: left;\n                                color: #333;\n                                font-family: Arial, Helvetica, sans-serif;\n                                -webkit-text-size-adjust: none;\n                                display: block;\n                                margin: 8px 0 3px;\n                                font-size: 14px;\n\n                                &:hover {\n                                cursor: pointer;\n                                text-decoration: underline;\n                                }\n                            }\n                            .artist{\n                                a:hover{\n                                color: #666;\n                                }\n                            }\n                            .play {\n                                position: absolute;\n                                width: 28px;\n                                height: 28px;\n                                left: 130px;\n                                top: 95px;\n                                background: url(\"./images/iconall.png\") no-repeat 0 -140px;\n                                display: none;\n                            }\n                            &:hover .play {\n                                display: block;\n                            }\n                        }\n                }\n                .playlists{\n                    width: 100%;\n                    tbody{\n                        border-collapse: separate;\n                        border-spacing: 0;\n                    }\n                    tr{\n                        position: relative;\n                        height: 62px;\n                        background-color: rgb(250,250,250);\n                        line-height: 50px;\n                        td{\n                            float: left;\n                            display: table-cell;\n                            vertical-align: inherit;\n                            height: 62px;\n                        }\n                        .play{\n                            width: 46px;\n                            padding: 6px 10px 6px 11px;\n                            height: 62px;\n                            .hdd{\n                                padding-left: 5px;\n                                width: 25px;\n                                height: 18px;\n                                margin-top: 16px;\n                                .icon{\n                                    float: right;\n                                    width: 17px;\n                                    height: 17px;\n                                    cursor: pointer;\n                                    background: url('./images/table.png') no-repeat  0 -103px;\n                                    &:hover{\n                                        background-position: 0 -128px;;\n                                    }\n                                }\n                            }\n                        }\n                        .w7{\n                            width: 70px;\n                            height: 62px;\n                            padding: 6px 10px;\n                            .u-cover{\n                                width: 100%;\n                                height: 100%;    \n                                position: relative;\n                                a{\n                                    display: block;\n                                    width: 100%;\n                                    height: 100%;\n                                    img{\n                                        width: 100%;\n                                    }\n                                }\n                                .msk{\n                                    position: absolute;\n                                    top: 0;\n                                    left: 0;\n                                    width: 100%;\n                                    height: 100%;\n                                    background: url('./images/coverall.png') no-repeat -160px 0;\n                                }\n                            }\n                        }\n                        .text{\n                            width: 317px;\n                            height: 62px;\n                            padding: 6px 10px;\n                            position: relative;\n                            a{\n                                float: left;\n                                width: 240px;\n                                color: #333;\n                                &:hover{\n                                color: #333;\n                                }\n                            }\n                            .show{\n                                width: 59px;\n                                height: 18px;\n                                display: none;\n                                position: absolute;\n                                right: 0px;\n                                top: 21px;\n                                a{\n                                    margin: 2px 0 0 4px;\n                                    width: 18px;\n                                    height: 16px;\n                                    display: block;\n                                    float: left;\n                                    background: url('./images/table.png') no-repeat;\n                                    &:hover{\n                                        cursor: pointer;\n                                    }\n                                }\n                                .a1{\n                                    width: 13px;\n                                    height: 13px;\n                                    margin-top:2px;\n                                    margin-left: 0;\n                                    background: url('./images/icon.png') no-repeat;\n                                    background-position: 0 -700px;\n\n                                    &:hover{\n                                        background-position: -22px -700px;\n                                    }\n                                }\n                                .a2{\n                                    background-position: 0 -174px;\n                                    &:hover{\n                                        background-position: -20px -174px;\n                                    }\n                                }\n                                .a3{\n                                    background-position: 0 -195px;\n                                    &:hover{\n                                        background-position: -20px -195px;\n                                    }\n                                }\n                            }\n                        }\n                        .w11{\n                            width: 80px;\n                            padding-right: 0;\n                            padding-left: 25px;\n                            padding-top: 6px;\n                            padding-bottom: 6px;\n                            color: #999;\n                        }\n                        .w4{\n                            width: 140px;\n                            padding: 6px 10px;\n                            span{\n                                float: left;\n                            }\n                            a{\n                                float: left;\n                                width: 95px;\n                                color: #333;\n                                &:hover{\n                                    color: #333;\n                                }\n                            }\n                        }\n                        .w6{\n                            width: 120px;\n                            padding: 6px 10px;\n                        }\n                        &:hover{\n                                background-color: #eee;\n                            .show{\n                                display: block;\n                            }\n                        }\n                    }\n                    tr:nth-child(even){\n                        background-color: rgb(238, 238, 238);\n                        &:hover{\n                            background-color: #eee;\n                        }\n                    }\n                }\n                .mvs{\n                    width: 926px;\n                    margin-left: -26px;\n                    li{\n                        padding: 0 0 40px 26px;\n                        width: 185px;\n                        height: 177px;\n                        float: left;\n                        .u-cover{\n                            width: 159px;\n                            height: 90px;\n                            display: block;\n                            position: relative;\n                            \n                            img{\n                                width: 159px;\n                                height: 90px;\n                            }\n                            .time{\n                                position: absolute;\n                                left: 5px;\n                                bottom: 2px;\n                                color: #fff;\n                            }\n                            .times{\n                                position: absolute;\n                                top: 2px;\n                                padding-right: 5px;\n                                right: 0;\n                                color: #fff;\n                                background-color: rgba(0,0,0,.2);\n                                i{\n                                    width: 15px;\n                                    height: 10px;\n                                    display: inline-block;\n                                    position: relative;\n                                    top:1px;\n                                    left: -3px;\n                                    background: url('./images/icon2.png') no-repeat -60px -310px;\n                                }\n                            }\n                        }\n                        h4{\n                            width: 100%;\n                            height: auto;\n                            margin: 7px 0 1px;\n                            border: none;\n                            font-size: 14px;\n                            font-weight: normal;\n                            a:hover{\n                                color: #666;\n                            }\n                        }\n                        h5{\n                            width: 100%;\n                            font-weight: normal;\n                            font-size: 12px;\n                            a{\n                                margin: 0 1px;\n                            }\n                            a:hover{\n                                color: #666;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n</style>"]}]}