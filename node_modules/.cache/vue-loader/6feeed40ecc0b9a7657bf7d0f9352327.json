{"remainingRequest":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\test1\\cloud-master\\cloud-master\\src\\components\\Music\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\test1\\cloud-master\\cloud-master\\src\\components\\Music\\index.vue","mtime":1654515726000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test1\\cloud-master\\cloud-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMeXJpYyBmcm9tICdseXJpYy1wYXJzZXInCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6J211c2ljJywKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLy8g5pKt5pS+5ZmoCiAgICAgICAgICAgIG11c2ljOicnLAogICAgICAgICAgICAvLyDlrprml7blmago55uR6KeG5piv5ZCm6ZyA6KaB6ZqQ6JeP5pKt5pS+5ZmoKQogICAgICAgICAgICB0aW1lcjonJywKICAgICAgICAgICAgLy8g5pKt5pS+5Zmo6L+b5bqm5p2hCiAgICAgICAgICAgIGF1ZGlvOicnLAogICAgICAgICAgICAvLyDmrYzmm7Lor6bmg4UKICAgICAgICAgICAgc29uZzp7fSwKICAgICAgICAgICAgLy8g5oC75pe26ZW/CiAgICAgICAgICAgIGR1cmF0aW9uOm51bGwsCiAgICAgICAgICAgIC8vIOeOsOWcqOeahOaXtumVvwogICAgICAgICAgICBub3dUaW1lOicwMDowMCcsCiAgICAgICAgICAgIC8vIOi/m+W6puadoeWumuaXtuWZqAogICAgICAgICAgICB0aW1lcjI6JycsCiAgICAgICAgICAgIC8vIOW9k+WJjeatjOabsuaSreaUvuavlOS+iwogICAgICAgICAgICB3aWR0aDowLAogICAgICAgICAgICAvLyDmmK/lkKblpITkuo7mi5bmi73nirbmgIEKICAgICAgICAgICAgaXNDaGFuZ2U6ZmFsc2UsCiAgICAgICAgICAgIC8vIOWIpOaWreW+queOr+aooeW8jwogICAgICAgICAgICAvLyAx5Li65b6q546v5pKt5pS+77yMMuS4uumaj+acuuaSreaUvu+8jDPkuLrljZXmm7Llvqrnjq8KICAgICAgICAgICAgbG9vcDoxLAogICAgICAgICAgICAvLyDorr7nva7lo7Dpn7Pmr5TkvosKICAgICAgICAgICAgdm9sdW1lSGVpZ2h0OjYwLAogICAgICAgICAgICAvLyDpn7Pph4/mmK/lkKblpITkuo7mi5bmi73nirbmgIEKICAgICAgICAgICAgaXNWb2x1bWU6ZmFsc2UsCiAgICAgICAgICAgIC8vIOaYvuekuuWjsOmfs+eKtuaAgeagjwogICAgICAgICAgICBpc1Nob3dWb2x1bWU6ZmFsc2UsCiAgICAgICAgICAgIC8vIOaYr+WQpumUgeS9j+aSreaUvuWZqAogICAgICAgICAgICBsb2NrZWQ6ZmFsc2UsCiAgICAgICAgICAgIC8vIOaYvuekuuatjOabsuWIl+ihqAogICAgICAgICAgICBsaXN0OmZhbHNlLAogICAgICAgICAgICAvLyDmrYzmm7LliJfooajnmoTlrprml7blmagKICAgICAgICAgICAgbGlzdFRpbWVyOm51bGwsCiAgICAgICAgICAgIC8vIOW9k+WJjeaSreaUvueahOmfs+S5kOeahOatjOivjQogICAgICAgICAgICBjdXJyZW50THlyaWM6JycsCiAgICAgICAgICAgIC8vIOW9k+WJjeaUvuWIsOWTquS4gOWPpeatjOivjQogICAgICAgICAgICBseXJpY0luZGV4OjAsCiAgICAgICAgICAgIC8vIOatjOivjeWumuaXtuWZqAogICAgICAgICAgICBseXJpY1RpbWVyOm51bGwsCiAgICAgICAgICAgIC8vIOW9k+WJjeaUvuWIsOWTquS4gOmmlumfs+S5kAogICAgICAgICAgICBtdXNpY0luZGV4Oi0xLAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICAvLyDojrflj5bpn7PkuZB1cmwKICAgICAgICBhc3luYyBnZXRNdXNpYygpewogICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnJlcVNvbmdVcmwodGhpcy5tdXNpY05vdy5pZCxsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnQ09PS0lFJykpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAgICAgICB0aGlzLm11c2ljID0gcmVzdWx0LmRhdGFbMF0udXJsOwogICAgICAgICAgICB0aGlzLm11c2ljID0gdGhpcy5tdXNpYy5yZXBsYWNlKC9tODAxLm11c2ljL2csJ203MDEubXVzaWMnKTsKICAgICAgICAgICAgdGhpcy5hdWRpbyA9ICB0aGlzLiRyZWZzLmF1ZGlvOyAgIAogICAgICAgIH0sCiAgICAgICAgLy8g6I635Y+W5q2M5puy6K+m5oOFCiAgICAgICAgYXN5bmMgZ2V0TXVzaWNEZXRhaWwoKXsKICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMuJEFQSS5yZXFTb25nKHRoaXMubXVzaWNOb3cuaWQsbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0NPT0tJRScpKTsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgICAgICAgdGhpcy5zb25nID0gcmVzdWx0LnNvbmdzWzBdOwogICAgICAgICAgICB0aGlzLmR1cmF0aW9uID0gdGhpcy5taW4odGhpcy5zb25nLmR0KSsnOicrdGhpcy5zZWModGhpcy5zb25nLmR0KTsKICAgICAgICB9LAogICAgICAgIC8vIOiOt+WPluatjOabsuatjOivjQogICAgICAgIGFzeW5jIGdldE11c2ljTHlyaWMoKXsKICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMuJEFQSS5yZXFseXJpYyh0aGlzLm11c2ljTm93LmlkKTsKICAgICAgICAgICAgdGhpcy5jdXJyZW50THlyaWMgPSAgbmV3IEx5cmljKHJlc3VsdC5scmMubHlyaWMsIHRoaXMubHlyaWNIYW5kbGUpCiAgICAgICAgfSwKICAgICAgICAvLyDlvIDlp4vmkq3mlL4KICAgICAgICBwbGF5KCl7CiAgICAgICAgICAgIHRoaXMuYXVkaW8ucGxheSgpOwogICAgICAgICAgICB0aGlzLiRyZWZzLnBhdXNlLnN0eWxlPSJkaXNwbGF5OmJsb2NrIjsKICAgICAgICAgICAgdGhpcy4kcmVmcy5zdG9wLnN0eWxlPSJkaXNwbGF5Om5vbmUiOwogICAgICAgICAgICB0aGlzLmF1ZGlvLnZvbHVtZSA9IHRoaXMudm9sdW1lSGVpZ2h0LzgwOwogICAgICAgICAgICB0aGlzLldhdGNoQmFyKCk7CiAgICAgICAgICAgIHRoaXMuc2V0THlyaWNUaW1lcigpOwogICAgICAgICAgICB0aGlzLiRyZWZzLm11c2ljLnN0eWxlPSAnaGVpZ2h0OjUzcHgnOwogICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgICAgIH0sCiAgICAgICAgLy8g5pqC5YGc5pKt5pS+CiAgICAgICAgcGF1c2UoKXsKICAgICAgICAgICAgdGhpcy5hdWRpby5wYXVzZSgpOwogICAgICAgICAgICB0aGlzLiRyZWZzLnBhdXNlLnN0eWxlPSJkaXNwbGF5Om5vbmUiOwogICAgICAgICAgICB0aGlzLiRyZWZzLnN0b3Auc3R5bGU9ImRpc3BsYXk6YmxvY2siOwogICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIyKTsKICAgICAgICAgICAgdGhpcy50aW1lcjIgPSAiIjsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmx5cmljVGltZXIpOwogICAgICAgICAgICB0aGlzLmx5cmljVGltZXIgPSAiIjsKICAgICAgICB9LAogICAgICAgIC8vIOS4iuS4gOmmluatjAogICAgICAgIHByZSgpewogICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLm11c2ljSW5kZXgtMTsKICAgICAgICAgICAgaWYoaW5kZXggPT0gLTEpIGluZGV4ID0gdGhpcy5tdXNpY2xpc3QubGVuZ3RoLTE7CiAgICAgICAgICAgIGlmKHRoaXMubG9vcCA9PSAxIHx8IHRoaXMubG9vcCA9PSAzKXsKICAgICAgICAgICAgICAgIHRoaXMuc2V0TXVzaWModGhpcy5tdXNpY2xpc3RbaW5kZXhdLmlkKTsKICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5sb29wID09IDIpewogICAgICAgICAgICAgICAgdGhpcy5zZXRNdXNpYyh0aGlzLm11c2ljbGlzdFtwYXJzZUludChNYXRoLnJhbmRvbSgpKnRoaXMubXVzaWNsaXN0Lmxlbmd0aCldLmlkKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8g5LiL5LiA6aaW5q2MCiAgICAgICAgbmV4KCl7CiAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMubXVzaWNJbmRleCsxOwogICAgICAgICAgICBpZihpbmRleCA9PSB0aGlzLm11c2ljbGlzdC5sZW5ndGgpIGluZGV4ID0gMDsKICAgICAgICAgICAgaWYodGhpcy5sb29wID09IDEpewogICAgICAgICAgICAgICAgdGhpcy5zZXRNdXNpYyh0aGlzLm11c2ljbGlzdFtpbmRleF0uaWQpOwogICAgICAgICAgICB9ZWxzZSBpZih0aGlzLmxvb3AgPT0gMil7CiAgICAgICAgICAgICAgICB0aGlzLnNldE11c2ljKHRoaXMubXVzaWNsaXN0W3BhcnNlSW50KE1hdGgucmFuZG9tKCkqdGhpcy5tdXNpY2xpc3QubGVuZ3RoKV0uaWQpOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuc2V0TXVzaWModGhpcy5tdXNpY2xpc3RbdGhpcy5tdXNpY0luZGV4XS5pZCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIOaYvuekuumfs+S5kOaSreaUvuWZqAogICAgICAgIHNob3dNdXNpYygpewogICAgICAgICAgICB0aGlzLiRyZWZzLm11c2ljLnN0eWxlPSAnaGVpZ2h0OjUzcHgnOwogICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgICAgIH0sCiAgICAgICAgLy8g5byA5ZCv55uR6KeGCiAgICAgICAgV2F0Y2hNdXNpYygpewogICAgICAgICAgICB0aGlzLnRpbWVyPXNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93Vm9sdW1lID0gZmFsc2U7CiAgICAgICAgICAgICAgICBpZighdGhpcy5sb2NrZWQgJiYgIXRoaXMubGlzdCkKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLm11c2ljLnN0eWxlLmhlaWdodCA9ICc4cHgnOwogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfSwKICAgICAgICAvLyDov5vluqbmnaHnm5Hop4YKICAgICAgICBXYXRjaEJhcigpewogICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIyKTsKICAgICAgICAgICAgdGhpcy50aW1lcjIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5hdWRpby5jdXJyZW50VGltZS90aGlzLmF1ZGlvLmR1cmF0aW9uKjEwMDsKICAgICAgICAgICAgICAgIHRoaXMuZHVyYXRpb24gPSB0aGlzLm1pbih0aGlzLmF1ZGlvLmR1cmF0aW9uKjEwMDApKyc6Jyt0aGlzLnNlYyh0aGlzLmF1ZGlvLmR1cmF0aW9uKjEwMDApOwogICAgICAgICAgICAgICAgdGhpcy5ub3dUaW1lID0gdGhpcy5taW4odGhpcy5hdWRpby5jdXJyZW50VGltZSoxMDAwKSsnOicrdGhpcy5zZWModGhpcy5hdWRpby5jdXJyZW50VGltZSoxMDAwKTsKICAgICAgICAgICAgICAgIC8vIOaSreaUvuWujOavlQogICAgICAgICAgICAgICAgaWYodGhpcy5hdWRpby5jdXJyZW50VGltZSA9PSB0aGlzLmF1ZGlvLmR1cmF0aW9uKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLm5leCgpOwogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcjIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAxMDApOwogICAgICAgIH0sCiAgICAgICAgLy8g5pS55Y+Y6L+b5bqm5p2hCiAgICAgICAgY2hhbmdlUG9zaXRpb24oZSl7CiAgICAgICAgICAgIHRoaXMud2lkdGggPSBNYXRoLm1heChNYXRoLm1pbigoZS5jbGllbnRYLTQ1NSkvNDY2KjEwMCwxMDApLDApOwogICAgICAgICAgICB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gdGhpcy53aWR0aC8xMDAqdGhpcy5hdWRpby5kdXJhdGlvbjsKICAgICAgICB9LAogICAgICAgIC8vIOWFgeiuuOaLluaLvei/m+W6puadoQogICAgICAgIGdvQ2hhbmdlKCl7CiAgICAgICAgICAgIHRoaXMuaXNDaGFuZ2UgPSB0cnVlOwogICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIyKTsKICAgICAgICAgICAgdGhpcy50aW1lcjI9ICIiOwogICAgICAgIH0sCiAgICAgICAgLy8g5ouW5ou9IAogICAgICAgIGdldFgoZSl7CiAgICAgICAgICAgIGlmKHRoaXMuaXNDaGFuZ2UgPT0gZmFsc2UpIHJldHVybjsKICAgICAgICAgICAgdGhpcy53aWR0aCA9IE1hdGgubWF4KE1hdGgubWluKChlLmNsaWVudFgtNDU1KS80NjYqMTAwLDEwMCksMCk7CiAgICAgICAgfSwKICAgICAgICAvLyDlgZzmraLmi5bmi70KICAgICAgICBzdG9wQ2hhbmdlKCl7CiAgICAgICAgICAgIGlmKHRoaXMuaXNDaGFuZ2UgPT0gdHJ1ZSl7CiAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhbmdlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLldhdGNoQmFyKCk7CiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gdGhpcy53aWR0aC8xMDAqdGhpcy5hdWRpby5kdXJhdGlvbjsgICAgCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIOiwg+aVtOmfs+mHj+Wkp+WwjwogICAgICAgIGNoYW5nZVZvbHVtZShlKXsKICAgICAgICAgICAgdGhpcy52b2x1bWVIZWlnaHQgPSBNYXRoLm1heChNYXRoLm1pbigoNjkzLWUuY2xpZW50WSkvODcqMTAwLTEwLDgwKSwwKTsKICAgICAgICAgICAgdGhpcy5hdWRpby52b2x1bWUgPSB0aGlzLnZvbHVtZUhlaWdodC84MDsKICAgICAgICB9LAogICAgICAgIC8vIOWFgeiuuOaLluaLvemfs+mHjwogICAgICAgIGdvVm9sdW1lKCl7CiAgICAgICAgICAgIHRoaXMuaXNWb2x1bWUgPSB0cnVlOwogICAgICAgIH0sCiAgICAgICAgLy8g5ouW5ou96Z+z6YePCiAgICAgICAgZ2V0WShlKXsKICAgICAgICAgICAgaWYodGhpcy5pc1ZvbHVtZSA9PSB0cnVlKXsKICAgICAgICAgICAgICAgIHRoaXMudm9sdW1lSGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5taW4oKDY5My1lLmNsaWVudFkpLzg3KjEwMC0xMCw4MCksMCk7CiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvLnZvbHVtZSA9IHRoaXMudm9sdW1lSGVpZ2h0LzgwOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvL+WBnOatouaLluaLvQogICAgICAgIHN0b3BWb2x1bWUoKXsKICAgICAgICAgICAgaWYodGhpcy5pc1ZvbHVtZSA9PSB0cnVlKQogICAgICAgICAgICAgICAgdGhpcy5pc1ZvbHVtZSA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgLy8g5pi+56S65ZKM6ZqQ6JeP5q2M5puy5YiX6KGoCiAgICAgICAgc2hvd0xpc3QoKXsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmxpc3RUaW1lcik7CiAgICAgICAgICAgIC8vIHRoaXMubGlzdCA9ICF0aGlzLmxpc3Q7CiAgICAgICAgICAgIGlmKHRoaXMubGlzdCA9PSBmYWxzZSl7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBsYXlsaXN0LnN0eWxlPSJkaXNwbGF5OmJsb2NrIjsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdCA9IHRydWU7ICAgIAogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMubGlzdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5saXN0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBsYXlsaXN0LnN0eWxlPSJkaXNwbGF5Om5vbmUiOwogICAgICAgICAgICAgICAgfSw0MDApOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvLyDliKDpmaTmkq3mlL7liJfooajkuK3nmoTpn7PkuZAKICAgICAgICBkZWxldGVNdXNpYyhpZCl7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdyZW1vdmVNdXNpYycsaWQpOwogICAgICAgIH0sCiAgICAgICAgLy8g5riF6Zmk5omA5pyJ55qE6Z+z5LmQCiAgICAgICAgcmVtb3ZlQWxsTXVzaWMoKXsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3JlbW92ZUFsbE11c2ljJyk7CiAgICAgICAgfSwKICAgICAgICAvLyDorr7nva7lvZPliY3mkq3mlL7nmoTpn7PkuZAKICAgICAgICBzZXRNdXNpYyhpZCl7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRNdXNpY3MnLGlkKTsKICAgICAgICAgICAgdmFyIHRpbWVycjsKICAgICAgICAgICAgdmFyIGxhc3RJZCA9IHRoaXMubXVzaWNOb3cuaWQ7CiAgICAgICAgICAgIGlmKHRpbWVycikgY2xlYXJJbnRlcnZhbCh0aW1lcnIpOwogICAgICAgICAgICB0aW1lcnIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICBpZihsYXN0SWQgIT0gdGhpcy5tdXNpY05vdy5pZCl7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+ewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTsKICAgICAgICAgICAgICAgICAgICB9LDQwMCk7ICAgIAogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMTAwKTsgICAgICAKICAgICAgICB9LAogICAgICAgIC8vIOW8gOWQr+atjOivjeWumuaXtuWZqAogICAgICAgIHNldEx5cmljVGltZXIoKXsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmx5cmljVGltZXIpOwogICAgICAgICAgICB0aGlzLmx5cmljVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCB0aGlzLmN1cnJlbnRMeXJpYy5saW5lcy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmN1cnJlbnRMeXJpYy5saW5lc1tpXS50aW1lID4gdGhpcy5hdWRpby5jdXJyZW50VGltZSoxMDAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5seXJpY0luZGV4ID0gaS0xOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgfSwKICAgICAgICBtaW4oc29uZyl7CiAgICAgICAgICAgIGlmKHBhcnNlSW50KHNvbmcvNjAwMDApIDwgMTApCiAgICAgICAgICAgICAgICByZXR1cm4gJzAnK3BhcnNlSW50KHNvbmcvNjAwMDApOwogICAgICAgICAgICBlbHNlIHJldHVybiBwYXJzZUludChzb25nLzYwMDAwKQogICAgICAgIH0sCiAgICAgICAgc2VjKHNvbmcpewogICAgICAgICAgICBsZXQgeCA9IHBhcnNlSW50KHNvbmcvNjAwMDApOwogICAgICAgICAgICBsZXQgeSA9IHBhcnNlSW50KHNvbmcvMTAwMC14KjYwKTsKICAgICAgICAgICAgaWYoeSA8IDEwKSByZXR1cm4gJzAnK3k7CiAgICAgICAgICAgIGVsc2UgcmV0dXJuIHk7CiAgICAgICAgfSwKCiAgICB9LAogICAgd2F0Y2g6ewogICAgICAgIG11c2ljTm93KCl7CiAgICAgICAgICAgIHRoaXMuZ2V0TXVzaWMoKTsKICAgICAgICAgICAgdGhpcy5nZXRNdXNpY0RldGFpbCgpOwogICAgICAgICAgICB0aGlzLmdldE11c2ljTHlyaWMoKTsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCB0aGlzLm11c2ljbGlzdC5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgICBpZih0aGlzLm11c2ljbGlzdFtpXS5pZCA9PSB0aGlzLm11c2ljTm93LmlkKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tdXNpY0luZGV4ID0gaTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSAgICAKICAgICAgICAgICAgfSwgMjAwKTsKICAgICAgICAgICAgCiAgICAgICAgfSwKICAgICAgICBseXJpY0luZGV4KCl7CiAgICAgICAgICAgICB0aGlzLiRyZWZzLmx5cmljLnNjcm9sbFRvcCA9ICh0aGlzLmx5cmljSW5kZXgtMykqMzI7CiAgICAgICAgfSwKICAgICAgICBtdXNpY2xpc3QodmFsLG5ld3ZhbCl7CiAgICAgICAgICAgIGlmKHZhbC5sZW5ndGggPiBuZXd2YWwubGVuZ3RoKXsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuYWRkc3VjY2Vzcy5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuYWRkc3VjY2Vzcy5zdHlsZS5vcGFjaXR5ID0gJzEnOyAKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57CiAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5hZGRzdWNjZXNzLnN0eWxlLm9wYWNpdHkgPSAnMCc7IAogICAgICAgICAgICAgICAgICAgIH0sMjAwMCwoKT0+ewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFkZHN1Y2Nlc3Muc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgICAgICAgICB9KTsgCiAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7aSA8IHRoaXMubXVzaWNsaXN0Lmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMubXVzaWNsaXN0W2ldLmlkID09IHRoaXMubXVzaWNOb3cuaWQpewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm11c2ljSW5kZXggPSBpOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9ICAgIAogICAgICAgICAgICB9LCAxMDApOwogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDp7CiAgICAgICAgbXVzaWNsaXN0KCl7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5tdXNpYy5tdXNpY0xpc3Q7CiAgICAgICAgfSwKICAgICAgICBtdXNpY05vdygpewogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubXVzaWMubXVzaWM7CiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKXsKICAgICAgICB0aGlzLldhdGNoTXVzaWMoKTsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2V0TXVzaWNMaXN0cycpOwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRNdXNpY3MnKTsKICAgICAgICB0aGlzLiRidXMuJG9uKCdwbGF5JywoKT0+ewogICAgICAgICAgICB0aGlzLnBsYXkoKTsKICAgICAgICB9KTsKICAgIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Music","sourcesContent":["<template>\n  <div class=\"music\" ref=\"music\"  @mouseover=\"showMusic\" @mouseleave=\"WatchMusic\">\n      <audio :src=\"music\" ref=\"audio\"></audio>\n      <div class=\"player-wrapper notChoose\" @mouseup=\"stopChange()\" @mousemove=\"getX($event)\">\n          <div class=\"btns\" @mouseup.stop @mousemove.stop >\n              <a class=\"pre\" title=\"上一首歌\" @click=\"pre\"></a>\n              <a class=\"pause\" title=\"暂停播放\" @click=\"pause\" ref=\"pause\"></a>\n              <a class=\"stop\" title=\"开始播放\" @click=\"play\" ref=\"stop\"></a>\n              <a class=\"nex\" title=\"下一首歌\" @click=\"nex\"></a>\n          </div>\n          <div class=\"head\">\n              <img :src=\"song.al.picUrl\" v-if=\"song.al\" :title=\"song.al.name\">\n              <a class=\"msk\"></a>\n          </div>\n          <div class=\"play\">\n              <div class=\"words \">\n                  <router-link :to=\"{path:'/song',query:{id:song.id}}\" :title=\"song.name\" class=\"name underline\">{{song.name}}</router-link>\n                  <router-link :to=\"{path:'/artist/song',query:{id:song.ar[0].id}}\"  class=\"art underline\" v-if=\"song.ar\" :title=\"song.ar[0].name\">{{song.ar[0].name}}</router-link>\n                  <router-link :to=\"{path:'/artist/song',query:{id:song.ar[0].id}}\" class=\"src\" title=\"来自歌手\" v-if=\"song.ar\"></router-link>\n              </div>\n              <div class=\"bar\">\n                <div class=\"barbg\" @mousedown=\"changePosition($event)\">\n                    <div class=\"rdy\"></div>\n                    <div class=\"cur\" :style=\"'width:'+`${width}`+'%'\">\n                        <div @click.stop>\n                            <div class=\"btn\" @mousedown=\"goChange()\" >\n                            </div>    \n                        </div>\n                    </div>\n                </div>\n                <div class=\"time\">\n                    <span style=\"color: #A1A1A1;\">{{nowTime}}</span>\n                    <span>&nbsp;/&nbsp;</span>\n                    <span>{{duration}}</span>\n                </div>\n              </div>\n          </div>\n          <div class=\"ctrl\" @click.stop>\n              <a class=\"volume\" title=\"音量\" @click=\"isShowVolume=!isShowVolume\"></a>\n              <div class=\"volumeBox\" @click.stop @mousemove=\"getY($event)\" @mouseup=\"stopVolume\" v-show=\"isShowVolume\">\n                  <div class=\"barbg\" ></div>\n                    <div class=\"vbg\" @click=\"changeVolume($event)\" >\n                        <div class=\"cur\" :style=\"'height:'+`${volumeHeight}`+'%'\" ></div>\n                        <span class=\"jt\" :style=\"'bottom:'+`${volumeHeight}`+'%'\" @mousedown=\"goVolume\"></span>\n                    </div>                 \n              </div>\n              <a class=\"loop1\" v-show=\"loop==1\" title=\"循环播放\" @click=\"loop=2\"></a>\n              <a class=\"loop2\" v-show=\"loop==2\" title=\"随机播放\" @click=\"loop=3\"></a>\n              <a class=\"loop3\" v-show=\"loop==3\" title=\"单曲循环\" @click=\"loop=1\"></a>\n              <div class=\"f-pr\">\n                  <a class=\"list\" @click=\"showList\">{{musiclist.length}}</a>\n              </div>\n          </div>\n          <div class=\"ffl\">\n              <a class=\"unlocked\" v-show=\"!locked\" @click=\"locked=true\"></a>\n              <a class=\"locked\" v-show=\"locked\" @click=\"locked=false\"></a>\n          </div>\n          <div class=\"ffr\"></div>\n          <div class=\"addsuccess\" ref=\"addsuccess\">\n              <span>已添加到播放列表</span>\n          </div>\n      </div>\n      <div class=\"playlist\" ref=\"playlist\">\n          <div class=\"list\" :style=\"'top:'+`${list?0+'%':100+'%'}`\">\n              <div class=\"listhd\">\n                  <div class=\"listhdc\">\n                      <h4>\n                          播放列表({{musiclist.length}})\n                      </h4>\n                      <a class=\"clear underline\" @click=\"removeAllMusic\">\n                          <span class=\"icon\"></span>\n                          清除\n                      </a>\n                      <p class=\"tit\">{{song.name}}</p>\n                      <span class=\"close\" @click=\"showList()\"></span>\n                  </div>\n              </div>\n              <div class=\"listbd\">\n                  <div class=\"cvr\"></div>\n                    <div class=\"listbdc\" v-if=\"musiclist.length != 0\">\n                        <ul class=\"clearfix\">\n                            <li v-for=\"song,index in musiclist\" :key=\"index\" @click=\"setMusic(song.id)\" :class=\"{musicActive:song.id==musicNow.id}\">\n                                <div class=\"col col1\">\n                                    <div class=\"playicn\"></div>\n                                </div>\n                                <div class=\"col col2\">{{song.name}}</div>\n                                <div class=\"col col3\" @click.stop>\n                                    <div class=\"icns\">\n                                        <i class=\"del\" title=\"删除\" @click=\"deleteMusic(song.id)\"></i>\n                                        <i class=\"download\" title=\"下载\"></i>\n                                        <i class=\"share\" title=\"分享\"></i>\n                                        <i class=\"add\" title=\"收藏\"></i>\n                                    </div>\n                                </div>\n                                <div class=\"col col4\">\n                                    <span v-for=\"artist,index in song.ar\" :key=\"index\">\n                                        <router-link :to=\"{path:'/artist/song',query:{id:artist.id}}\" :title=\"artist.name\" class=\"underline art\">{{artist.name}}</router-link>\n                                        <span v-if=\"index != song.ar.length-1\">&nbsp;/&nbsp;</span>\n                                    </span>\n\n                                </div>\n                                <div class=\"col col5\">{{min(song.dt)}}:{{sec(song.dt)}}</div>\n                                <div class=\"col col6\">\n                                    <router-link :to=\"{path:'/artist/song',query:{id:song.ar[0].id}}\" title=\"来自歌手\" v-if=\"song.ar\"></router-link>\n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n                    <div class=\"nocnt\" v-else>\n                        <i class=\"ico\"></i>\n                        <span>你还没有添加任何歌曲</span>\n                        <br>\n                        <span>去首页<router-link to=\"/home/discover\">发现音乐</router-link>，或在<router-link to=\"/mymusic\">我的音乐</router-link>收听自己收藏的歌单</span>\n                    </div>\n                    <div class=\"bline\"></div>\n                    <div class=\"lyric-wrapper\" ref=\"lyric\">\n                        <div class=\"lyric\" ref=\"lyriclist\">\n                            <p v-for=\"lyric,index in currentLyric.lines\" :key=\"index\" :class=\"{active:index==lyricIndex}\">\n                                {{lyric.txt}}\n                            </p>\n                        </div>\n                    </div>\n              </div>\n          </div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport Lyric from 'lyric-parser'\nexport default {\n    name:'music',\n    data() {\n        return {\n            // 播放器\n            music:'',\n            // 定时器(监视是否需要隐藏播放器)\n            timer:'',\n            // 播放器进度条\n            audio:'',\n            // 歌曲详情\n            song:{},\n            // 总时长\n            duration:null,\n            // 现在的时长\n            nowTime:'00:00',\n            // 进度条定时器\n            timer2:'',\n            // 当前歌曲播放比例\n            width:0,\n            // 是否处于拖拽状态\n            isChange:false,\n            // 判断循环模式\n            // 1为循环播放，2为随机播放，3为单曲循环\n            loop:1,\n            // 设置声音比例\n            volumeHeight:60,\n            // 音量是否处于拖拽状态\n            isVolume:false,\n            // 显示声音状态栏\n            isShowVolume:false,\n            // 是否锁住播放器\n            locked:false,\n            // 显示歌曲列表\n            list:false,\n            // 歌曲列表的定时器\n            listTimer:null,\n            // 当前播放的音乐的歌词\n            currentLyric:'',\n            // 当前放到哪一句歌词\n            lyricIndex:0,\n            // 歌词定时器\n            lyricTimer:null,\n            // 当前放到哪一首音乐\n            musicIndex:-1,\n        }\n    },\n    methods:{\n        // 获取音乐url\n        async getMusic(){\n            let result = await this.$API.reqSongUrl(this.musicNow.id,localStorage.getItem('COOKIE'));\n            console.log(result);\n            this.music = result.data[0].url;\n            this.music = this.music.replace(/m801.music/g,'m701.music');\n            this.audio =  this.$refs.audio;   \n        },\n        // 获取歌曲详情\n        async getMusicDetail(){\n            let result = await this.$API.reqSong(this.musicNow.id,localStorage.getItem('COOKIE'));\n            // console.log(result);\n            this.song = result.songs[0];\n            this.duration = this.min(this.song.dt)+':'+this.sec(this.song.dt);\n        },\n        // 获取歌曲歌词\n        async getMusicLyric(){\n            let result = await this.$API.reqlyric(this.musicNow.id);\n            this.currentLyric =  new Lyric(result.lrc.lyric, this.lyricHandle)\n        },\n        // 开始播放\n        play(){\n            this.audio.play();\n            this.$refs.pause.style=\"display:block\";\n            this.$refs.stop.style=\"display:none\";\n            this.audio.volume = this.volumeHeight/80;\n            this.WatchBar();\n            this.setLyricTimer();\n            this.$refs.music.style= 'height:53px';\n            clearInterval(this.timer);\n        },\n        // 暂停播放\n        pause(){\n            this.audio.pause();\n            this.$refs.pause.style=\"display:none\";\n            this.$refs.stop.style=\"display:block\";\n            clearInterval(this.timer2);\n            this.timer2 = \"\";\n            clearInterval(this.lyricTimer);\n            this.lyricTimer = \"\";\n        },\n        // 上一首歌\n        pre(){\n            let index = this.musicIndex-1;\n            if(index == -1) index = this.musiclist.length-1;\n            if(this.loop == 1 || this.loop == 3){\n                this.setMusic(this.musiclist[index].id);\n            }else if(this.loop == 2){\n                this.setMusic(this.musiclist[parseInt(Math.random()*this.musiclist.length)].id);\n            }\n        },\n        // 下一首歌\n        nex(){\n            let index = this.musicIndex+1;\n            if(index == this.musiclist.length) index = 0;\n            if(this.loop == 1){\n                this.setMusic(this.musiclist[index].id);\n            }else if(this.loop == 2){\n                this.setMusic(this.musiclist[parseInt(Math.random()*this.musiclist.length)].id);\n            }else{\n                this.setMusic(this.musiclist[this.musicIndex].id);\n            }\n        },\n        // 显示音乐播放器\n        showMusic(){\n            this.$refs.music.style= 'height:53px';\n            clearInterval(this.timer);\n        },\n        // 开启监视\n        WatchMusic(){\n            this.timer=setInterval(() => {\n                this.isShowVolume = false;\n                if(!this.locked && !this.list)\n                    this.$refs.music.style.height = '8px';\n                clearInterval(this.timer);\n            }, 1000);\n        },\n        // 进度条监视\n        WatchBar(){\n            clearInterval(this.timer2);\n            this.timer2 = setInterval(() => {\n                this.width = this.audio.currentTime/this.audio.duration*100;\n                this.duration = this.min(this.audio.duration*1000)+':'+this.sec(this.audio.duration*1000);\n                this.nowTime = this.min(this.audio.currentTime*1000)+':'+this.sec(this.audio.currentTime*1000);\n                // 播放完毕\n                if(this.audio.currentTime == this.audio.duration){\n                    this.nex();\n                    clearInterval(this.timer2);\n                }\n            }, 100);\n        },\n        // 改变进度条\n        changePosition(e){\n            this.width = Math.max(Math.min((e.clientX-455)/466*100,100),0);\n            this.audio.currentTime = this.width/100*this.audio.duration;\n        },\n        // 允许拖拽进度条\n        goChange(){\n            this.isChange = true;\n            clearInterval(this.timer2);\n            this.timer2= \"\";\n        },\n        // 拖拽 \n        getX(e){\n            if(this.isChange == false) return;\n            this.width = Math.max(Math.min((e.clientX-455)/466*100,100),0);\n        },\n        // 停止拖拽\n        stopChange(){\n            if(this.isChange == true){\n                this.isChange = false;\n                this.WatchBar();\n                this.audio.currentTime = this.width/100*this.audio.duration;    \n            }\n        },\n        // 调整音量大小\n        changeVolume(e){\n            this.volumeHeight = Math.max(Math.min((693-e.clientY)/87*100-10,80),0);\n            this.audio.volume = this.volumeHeight/80;\n        },\n        // 允许拖拽音量\n        goVolume(){\n            this.isVolume = true;\n        },\n        // 拖拽音量\n        getY(e){\n            if(this.isVolume == true){\n                this.volumeHeight = Math.max(Math.min((693-e.clientY)/87*100-10,80),0);\n                this.audio.volume = this.volumeHeight/80;\n            }\n        },\n        //停止拖拽\n        stopVolume(){\n            if(this.isVolume == true)\n                this.isVolume = false;\n        },\n        // 显示和隐藏歌曲列表\n        showList(){\n            clearInterval(this.listTimer);\n            // this.list = !this.list;\n            if(this.list == false){\n                this.$refs.playlist.style=\"display:block\";\n                setTimeout(() => {\n                    this.list = true;    \n                }, 10);\n            }else{\n                this.list = false;\n                this.listTimer = setTimeout(() => {\n                    this.$refs.playlist.style=\"display:none\";\n                },400);\n            }\n        },\n        // 删除播放列表中的音乐\n        deleteMusic(id){\n            this.$store.dispatch('removeMusic',id);\n        },\n        // 清除所有的音乐\n        removeAllMusic(){\n            this.$store.dispatch('removeAllMusic');\n        },\n        // 设置当前播放的音乐\n        setMusic(id){\n            this.$store.dispatch('setMusics',id);\n            var timerr;\n            var lastId = this.musicNow.id;\n            if(timerr) clearInterval(timerr);\n            timerr = setInterval(() => {\n                if(lastId != this.musicNow.id){\n                    setTimeout(()=>{\n                        this.play();\n                    },400);    \n                    clearInterval(timerr);\n                }\n            }, 100);      \n        },\n        // 开启歌词定时器\n        setLyricTimer(){\n            clearInterval(this.lyricTimer);\n            this.lyricTimer = setInterval(() => {\n                for(let i = 0;i < this.currentLyric.lines.length;i++){\n                    if(this.currentLyric.lines[i].time > this.audio.currentTime*1000){\n                        this.lyricIndex = i-1;\n                        break;\n                    }\n                }\n            }, 200);\n        },\n        min(song){\n            if(parseInt(song/60000) < 10)\n                return '0'+parseInt(song/60000);\n            else return parseInt(song/60000)\n        },\n        sec(song){\n            let x = parseInt(song/60000);\n            let y = parseInt(song/1000-x*60);\n            if(y < 10) return '0'+y;\n            else return y;\n        },\n\n    },\n    watch:{\n        musicNow(){\n            this.getMusic();\n            this.getMusicDetail();\n            this.getMusicLyric();\n            setTimeout(() => {\n                for(let i = 0;i < this.musiclist.length;i++){\n                    if(this.musiclist[i].id == this.musicNow.id){\n                        this.musicIndex = i;\n                        break;\n                    }\n                }    \n            }, 200);\n            \n        },\n        lyricIndex(){\n             this.$refs.lyric.scrollTop = (this.lyricIndex-3)*32;\n        },\n        musiclist(val,newval){\n            if(val.length > newval.length){\n                this.$refs.addsuccess.style.display = \"block\";\n                setTimeout(() => {\n                    this.$refs.addsuccess.style.opacity = '1'; \n                    setTimeout(()=>{\n                       this.$refs.addsuccess.style.opacity = '0'; \n                    },2000,()=>{\n                        this.$refs.addsuccess.style.display = \"none\";\n                    }); \n                }, 10);\n                \n            }\n            setTimeout(() => {\n                for(let i = 0;i < this.musiclist.length;i++){\n                    if(this.musiclist[i].id == this.musicNow.id){\n                        this.musicIndex = i;\n                        break;\n                    }\n                }    \n            }, 100);\n        }\n    },\n    computed:{\n        musiclist(){\n            return this.$store.state.music.musicList;\n        },\n        musicNow(){\n            return this.$store.state.music.music;\n        }\n    },\n    mounted(){\n        this.WatchMusic();\n        this.$store.dispatch('getMusicLists');\n        this.$store.dispatch('getMusics');\n        this.$bus.$on('play',()=>{\n            this.play();\n        });\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n    .music{\n        width: 100%;\n        height: 53px;\n        position: fixed;\n        bottom: 0px;\n        z-index: 999;\n        transition: 0.5s all;\n        // background-color: red;\n        background: url('../images/playbar.png');\n        background-position: 0 0;\n        background-repeat: repeat-x;\n        // overflow: hidden;\n        .player-wrapper{\n            width: 980px;\n            height: 53px;\n            margin: 5px auto;\n            .btns{\n                float: left;\n                width: 137px;\n                padding: 6px 0 0 0;\n                a{\n                    display: block;\n                    float: left;\n                    width: 28px;\n                    height: 28px;\n                    margin-right: 8px;\n                    margin-top: 5px;\n                    text-indent: -9999px;\n                    background: url('../images/playbar.png') no-repeat;\n                }\n                .pre{\n                    background-position: 0 -130px;\n                    &:hover{\n                        background-position: -30px -130px;\n                        cursor: pointer;\n                    }\n                }\n                .pause,.stop{\n                    width: 36px;\n                    height: 36px;\n                    margin-top: 0;\n                }\n                .pause{\n                    background-position: 0 -165px;\n                    display: none;\n                    &:hover{\n                        background-position: -40px -165px;\n                        cursor: pointer;\n                    }\n                }\n                .stop{\n                    display: block;\n                    background-position: 0px -204px;\n                    &:hover{\n                        background-position: -40px -204px;\n                        cursor: pointer;\n                    }\n                }\n                .nex{\n                    background-position: -80px -130px;\n                    &:hover{\n                        background-position: -110px -130px;\n                        cursor: pointer;\n                    }\n                }\n            }\n            .head{\n                margin: 7px 15px 0 0;\n                float: left;\n                width: 34px;\n                height: 34px;\n                position: relative;\n                img{\n                    width: 34px;\n                    height: 34px;\n                }\n                .msk{\n                    position: absolute;\n                    top: 0px;\n                    left: 0px;\n                    display: block;\n                    width: 34px;\n                    height: 35px;\n                    background: url('../images/playbar.png') no-repeat;\n                    background-position: 0 -80px;\n                    cursor: pointer;\n                }\n            }\n            .play{\n                width: 581px;\n                height: 47px;\n                position: relative;\n                float: left;\n                .words{\n                    width: 581px;\n                    height: 28px;\n                    overflow: hidden;\n                    color: #e8e8e8;\n                    text-shadow: 0 1px 0 #171717;\n                    line-height: 28px;\n                    .name{\n                        float: left;\n                        color: #fff;\n                        margin-right: 15px;\n                    }\n                    .art{\n                        float: left;\n                        color: #989898;\n                    }\n                    .src{\n                        float: left;\n                        width: 14px;\n                        height: 15px;\n                        margin: 7px 0 0 13px;\n                        background: url('../images/playbar.png') no-repeat;\n                        background-position: -110px -103px;\n                        cursor: pointer;\n                    }\n                }\n                .bar{\n                    width: 581px;\n                    height: 9px;\n                    position: relative;\n                    .barbg{\n                        width: 466px;\n                        height: 9px;\n                        float: left;\n                        background: url('../images/statbar.png') no-repeat 0 0px;\n                        position: relative;\n                        .rdy{\n                            width: 466px;\n                            height: 9px;\n                            position: absolute;\n                            background: url('../images/statbar.png') no-repeat right -30px;\n                        }\n                        .cur{\n                            height: 9px;\n                            position: absolute;\n                            background: url('../images/statbar.png') no-repeat 0 -66px;\n                            .btn{\n                                position: absolute;\n                                top: -4px;\n                                right: -8px;\n                                width: 16px;\n                                height: 16px;\n                                background-color: #f00;\n                                border-radius: 50%;\n                                box-shadow: 1px 0 0 rgba(0,0,0,.1);\n                                border: 4.5px solid #fff;\n                                &:active{\n                                    cursor: pointer;\n                                }\n                                &:hover{\n                                    cursor: pointer;\n                                    box-shadow: 0px 0px 15px rgba(0,0,0,.8);\n                                }\n                            }\n                        }\n                    }\n                    .time{ \n                        position: absolute;\n                        color: #797979;\n                        font-size: 12px;\n                        right: 0;\n                        top:-6px;\n                    }\n                }\n            }\n            .ctrl{\n                margin-left: 15px;\n                position: relative;\n                z-index: 10;\n                width: 126px;\n                padding-left: 13px;\n                height: 36px;\n                background-position: -147px -238px;\n                float: left;\n                >a{\n                    width: 25px;\n                    height: 25px;\n                    margin: 13px 2px 0 0;\n                    display: block;\n                    position: relative;\n                    float: left;\n                    background: url('../images/playbar.png') no-repeat;\n                    &:hover{\n                        cursor: pointer;\n                    }\n                }\n                .volumeBox{\n                    position: absolute;\n                    top: -113px;\n                    left: 9px;\n                    clear: both;\n                    width: 32px;\n                    height: 113px;\n                    .barbg{\n                        position: absolute;\n                        top: 0;\n                        left: 0;\n                        width: 32px;\n                        height: 113px;\n                        background: url('../images/playbar.png') no-repeat;\n                        background-position: 0 -503px;\n                    }\n                    .vbg{\n                        padding: 4px 0;\n                        top: 7px;\n                        position: absolute;\n                        left: 14px;\n                        width: 4px;\n                        height: 101px;\n                        \n                        .cur{\n                            position: absolute;\n                            width: 4px;\n                            top: auto;\n                            bottom: 4px;\n                            left: 0;\n                            background: url('../images/playbar.png') no-repeat;\n                            background-position: -40px bottom;\n                            overflow: hidden;\n                        }\n                        .jt{\n                            position: absolute;\n                            top: auto;\n                            left: -7px;\n                            display: block;\n                            width: 18px;\n                            height: 20px;\n                            background: url('../images/iconall.png') no-repeat;\n                            background-position: -40px -250px;\n                            cursor: pointer;\n                            &:hover{\n                                background-position: -40px -280px;\n                            }\n                        }\n                    }\n                }\n                .volume{\n                    background-position: -2px -248px;\n                    &:hover{\n                        background-position: -31px -248px;\n                        cursor: pointer;\n                    }\n                }\n                .loop1{\n                    background-position: -3px -344px;\n                    &:hover{\n                        background-position: -33px -344px;\n                    }\n                }\n                .loop2{\n                    background-position: -66px -248px;\n                    &:hover{\n                        background-position: -93px -248px;\n                    }\n                }\n                .loop3{\n                    background-position: -66px -344px;\n                    &:hover{\n                        background-position: -93px -344px;  \n                    }\n                }\n                .f-pr{\n                    float: left;\n                    width: 59px;\n                    height: 36px;\n                    .list{\n                        display: block;\n                        height: 25px;\n                        margin: 11px 2px 0 0;\n                        float: none;\n                        padding-left: 21px;\n                        background: url('../images/playbar.png') no-repeat;\n                        background-position: -42px -68px;\n                        line-height: 27px;\n                        text-align: center;\n                        color: #666;\n                        text-shadow: 0 1px 0 #080707;\n                        text-indent: 0;\n                        text-decoration: none;\n                        &:hover{\n                            background-position: -42px -98px;\n                            cursor: pointer;\n                        }\n                    }\n                }\n            }\n            .ffl{\n                position: absolute;\n                top: -14px;\n                right: 15px;\n                width: 52px;\n                height: 67px;\n                background: url('../images/playbar.png') no-repeat;\n                background-position: 0 -380px;\n                .unlocked,.locked{\n                    display: block;\n                    width: 18px;\n                    height: 18px;\n                    margin: 6px 0 0 17px;\n                    background: url('../images/playbar.png') no-repeat -80px -380px;\n                    &:hover{\n                        background-position: -80px -400px;\n                        cursor: pointer;\n                    }\n                }\n                .locked{\n                    background-position: -100px -380px;\n                    &:hover{\n                        background-position: -100px -400px;\n                    }\n                }\n            }\n            .ffr{\n                position: absolute;\n                top: -1px;\n                right: 0;\n                width: 15px;\n                height: 54px;\n                background-position: -52px -393px;\n                pointer-events: none;\n            }\n            .addsuccess{\n                width: 200px;\n                height: 50px;\n                position: absolute;\n                text-align: center;\n                line-height: 50px;\n                // background-color: red;\n                top:-48px;\n                right: 280px;\n                background: #232526;  /* fallback for old browsers */\n                background: -webkit-linear-gradient(to right, #414345, #232526);  /* Chrome 10-25, Safari 5.1-6 */\n                background: linear-gradient(to right, #414345, #232526); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n                color: #fff;    \n                border-radius: 8px;\n                box-shadow: 0 0 10px 3px rgba(0,0,0,.1);\n                opacity: 0;\n                transition: 0.5s all;\n                display: none;\n            }\n        }\n        .playlist{\n            width: 986px;\n            position: absolute;\n            // left: 50%;\n            height: 301px;\n            bottom: 47px;\n            margin-left: 266px;\n            overflow: hidden;\n            display: none;\n            .list{\n                transition: .4s all;\n                width: 100%;\n                height: 100%;\n                // background-color: red;  \n                position: absolute;  \n                .listhd{\n                    position: relative;\n                    height: 41px;\n                    padding: 0 5px;\n                    // background: url('../images/playlist_bg.png') repeat-x 0 0;\n                    width: 982px;\n                    background: #080707;\n                    margin-left: 2px;\n                    box-shadow: 0 0 4px 0px rgba(0,0,0,.8);\n                    border-top-left-radius: 8px;\n                    border-top-right-radius: 8px;\n                    .listhdc{\n                        position: relative;\n                        height: 40px;\n                        h4{\n                            position: absolute;\n                            left: 25px;\n                            top: 0;\n                            height: 39px;\n                            line-height: 39px;\n                            font-size: 14px;\n                            color: #e2e2e2;\n                        }\n                        .clear{\n                            position: absolute;\n                            left: 490px;\n                            top: 12px;\n                            height: 15px;\n                            line-height: 15px;\n                            cursor: pointer;\n                            color: #ccc;\n                            display: block;                            \n                            .icon{\n                                width: 13px;\n                                height: 16px;\n                                display: block;\n                                margin: 1px 6px 0 0;\n                                float: left;\n                                background: url('../images/playlist.png') no-repeat;\n                                background-position: -51px 0;\n                                \n                            }\n                            &:hover .icon{\n                                background-position: -51px -20px;\n                            }\n\n                        }\n                        .tit{\n                            position: absolute;\n                            left: 595px;\n                            top: 0;\n                            width: 346px;\n                            text-align: center;\n                            height: 39px;\n                            line-height: 39px;\n                            color: #fff;\n                            font-size: 14px;\n                            overflow: hidden;\n                            text-overflow: ellipsis;\n                            white-space: nowrap;\n                            word-wrap: normal;\n                            font-family: Arial, Helvetica, sans-serif;\n\n                        }\n                        .close{\n                            position: absolute;\n                            top: 6px;\n                            right: 8px;\n                            width: 30px;\n                            height: 30px;\n                            overflow: hidden;\n                            text-indent: -999px;\n                            cursor: pointer;\n                            background: url('../images/playlist.png') no-repeat;\n                            background-position: -195px 9px;\n                            &:hover{\n                                background-position: -195px -21px;\n                            }\n                        }\n                    }\n                }\n                .listbd{\n                    position: absolute;\n                    left: 0;\n                    top: 41px;\n                    width: 986px;\n                    height: 260px;\n                    padding: 0 5px;\n                    overflow: hidden;\n                    background: url('../images/playlist_bg.png') repeat-y -1014px 0;\n                    // background-position: -1014px 0;\n                    // background-repeat: repeat-y;\n                    .cvr{\n                        position: absolute;\n                        left: 2px;\n                        z-index: 1;\n                        width: 980px;\n                        height: 100%;\n                        opacity: .2;\n                        background: #C04848;  /* fallback for old browsers */\n                        background: -webkit-linear-gradient(to left, #480048, #C04848);  /* Chrome 10-25, Safari 5.1-6 */\n                        background: linear-gradient(to left, #480048, #C04848); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n\n                    }\n                    .listbdc{\n                        position: absolute;\n                        left: 2px;\n                        top: 0;\n                        z-index: 4;\n                        height: 260px;\n                        width: 553px;\n                        overflow-y:auto;\n                        overflow-x:hidden ;\n                        &::-webkit-scrollbar{\n                            width: 6px;\n                            height: 8px;\n                        }\n                        &::-webkit-scrollbar-thumb {\n                            background-color: #868686;\n                            border-radius: 15px;\n                        }\n                        ul{\n                            width: 535px;\n                            li{\n                                float: left;\n                                width: 100%;\n                                color: #ccc;\n                                .col {\n                                    float: left;\n                                    padding-left: 10px;\n                                    height: 28px;\n                                    line-height: 28px;\n                                    overflow: hidden;\n                                    cursor: pointer;\n                                }\n                                .col1{\n                                    width: 20px;\n                                }\n                                .col2{\n                                    width: 266px;\n                                    overflow: hidden;\n                                    white-space: nowrap;\n                                    text-overflow: ellipsis;\n                                }\n                                .col3{\n                                    width: 88px;\n                                    position: relative;\n                                    .icns{\n                                        display: none;\n                                        position: absolute;\n                                        right: 0;\n                                        top: 0;\n                                        width: 100px;\n                                        height: 23px;\n                                        i{\n                                            display: block;\n                                            height: 16px;\n                                            float: right;\n                                            overflow: hidden;\n                                            margin: 7px 0 0 10px;\n                                            text-indent: -9999px;\n                                            background: url('../images/playlist.png') no-repeat;\n                                            width: 14px;\n                                        }\n                                        .del{\n                                            width: 13px;\n                                            background-position: -51px 0;\n                                            &:hover{\n                                                background-position: -51px -20px;\n                                            }\n                                        }\n                                        .download{\n                                            background-position: -57px -50px;\n                                            &:hover{\n                                                background-position: -80px -50px\n                                            }\n                                        }\n                                        .share{\n                                            background-position: 0 0;\n                                            &:hover{\n                                                background-position: 0 -20px;\n                                            }\n                                        }\n                                        .add{\n                                            width: 16px;\n                                            background-position: -24px 0;\n                                            &:hover{\n                                               background-position: -24px -20px;     \n                                            }\n                                        }\n                                    }\n                                }\n                                .col4{\n                                    width: 80px;\n                                    overflow: hidden;\n                                    white-space: nowrap;\n                                    text-overflow: ellipsis;\n                                    .art{\n                                        color: #ccc;\n                                        &:hover{\n                                            color: #fff;\n                                        }\n                                    }\n                                }\n                                .col5{\n                                    width: 45px;\n                                }\n                                .col6{\n                                    width: 35px;\n                                    padding-left: 6px;\n                                    a{\n                                        width: 14px;\n                                        height: 16px;\n                                        display: block;\n                                        margin: 7px 0 0 10px;\n                                        background: url('../images/playlist.png') no-repeat;\n                                        background-position: -80px 0px;\n                                        &:hover{\n                                            background-position: -80px -20px;\n                                        }\n                                    }\n                                }\n                                &:hover{\n                                    background-color: rgba(0,0,0,0.4);\n                                    .col,.art{\n                                        color: #fff;\n                                    }\n                                    .col3 .icns{\n                                        display: block;\n                                    }\n                                }\n                            }\n                            .musicActive{\n                                background-color: rgba(0,0,0,0.4);\n                                .col,.art{\n                                    color: #fff;\n                                }\n                                .playicn{\n                                    margin-top: 8px;\n                                    width: 10px;\n                                    height: 13px;\n                                    background: url('../images/playlist.png') no-repeat;\n                                    background-position: -182px 0;\n                                }\n                            }\n                        }\n                    }\n                    .nocnt{\n                        width: 553px;\n                        position: relative;\n                        z-index: 2;\n                        padding-top: 85px;\n                        text-align: center;\n                        line-height: 43px;\n                        a{\n                            color: #aaa;\n                            text-decoration: underline;\n                            cursor: pointer;\n                        }\n                        .ico{\n                            float: none;\n                            display: inline-block;\n                            position: relative;\n                            top: -4px;\n                            width: 36px;\n                            height: 29px;\n                            margin-right: 4px;\n                            background: url('../images/playlist.png') no-repeat;\n                            background-position: -138px 0;\n                            vertical-align: middle;\n                        }\n                    }\n                    .bline{\n                        position: absolute;\n                        left: 549px;\n                        top: -1px;\n                        z-index: 2;\n                        width: 6px;\n                        height: 260px;\n                        background: #000;\n                        opacity: .5;\n                    }\n                    .lyric-wrapper{\n                        position: absolute;\n                        right: 0px;\n                        top: 0;\n                        z-index: 4;\n                        padding: 20px 0 20px 0;\n                        margin-bottom: 21px;\n                        height: 260px;\n                        width: 420px;\n                        overflow-y:auto;\n                        overflow-x:hidden ;\n                        &::-webkit-scrollbar{\n                            width: 8px;\n                            height: 8px;\n                        }\n                        &::-webkit-scrollbar-thumb {\n                            background-color: #868686;\n                            border-radius: 15px;\n                        }\n                        .lyric{\n                            position: absolute;                         \n                            right: 40px;\n                            width: 354px;\n                            // overflow: hidden;\n                            p{\n                                color: #989898;\n                                word-wrap: break-word;\n                                text-align: center;\n                                line-height: 32px;\n                                height: auto !important;\n                                transition: color 0.7s linear;\n                            }\n                            .active{\n                                color: #fff;\n                                font-size: 14px;\n                            }\n                        }\n                    }\n                }\n            }\n            \n        }\n    }\n</style>"]}]}